(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ug(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sd={exports:{}},kl={},vd={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),ag=Symbol.for("react.portal"),cg=Symbol.for("react.fragment"),fg=Symbol.for("react.strict_mode"),dg=Symbol.for("react.profiler"),hg=Symbol.for("react.provider"),pg=Symbol.for("react.context"),mg=Symbol.for("react.forward_ref"),gg=Symbol.for("react.suspense"),yg=Symbol.for("react.memo"),kg=Symbol.for("react.lazy"),fc=Symbol.iterator;function Sg(t){return t===null||typeof t!="object"?null:(t=fc&&t[fc]||t["@@iterator"],typeof t=="function"?t:null)}var wd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xd=Object.assign,Cd={};function Rr(t,e,n){this.props=t,this.context=e,this.refs=Cd,this.updater=n||wd}Rr.prototype.isReactComponent={};Rr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ed(){}Ed.prototype=Rr.prototype;function ju(t,e,n){this.props=t,this.context=e,this.refs=Cd,this.updater=n||wd}var Ju=ju.prototype=new Ed;Ju.constructor=ju;xd(Ju,Rr.prototype);Ju.isPureReactComponent=!0;var dc=Array.isArray,Nd=Object.prototype.hasOwnProperty,Hu={current:null},Od={key:!0,ref:!0,__self:!0,__source:!0};function Md(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Nd.call(e,r)&&!Od.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),a=0;a<s;a++)u[a]=arguments[a+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ui,type:t,key:o,ref:l,props:i,_owner:Hu.current}}function vg(t,e){return{$$typeof:Ui,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ku(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ui}function wg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hc=/\/+/g;function Hl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wg(""+t.key):e.toString(36)}function vo(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ui:case ag:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Hl(l,0):r,dc(i)?(n="",t!=null&&(n=t.replace(hc,"$&/")+"/"),vo(i,e,n,"",function(a){return a})):i!=null&&(Ku(i)&&(i=vg(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(hc,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",dc(t))for(var s=0;s<t.length;s++){o=t[s];var u=r+Hl(o,s);l+=vo(o,e,n,u,i)}else if(u=Sg(t),typeof u=="function")for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=r+Hl(o,s++),l+=vo(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Xi(t,e,n){if(t==null)return t;var r=[],i=0;return vo(t,r,"","",function(o){return e.call(n,o,i++)}),r}function xg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Oe={current:null},wo={transition:null},Cg={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:wo,ReactCurrentOwner:Hu};B.Children={map:Xi,forEach:function(t,e,n){Xi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xi(t,function(){e++}),e},toArray:function(t){return Xi(t,function(e){return e})||[]},only:function(t){if(!Ku(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=Rr;B.Fragment=cg;B.Profiler=dg;B.PureComponent=ju;B.StrictMode=fg;B.Suspense=gg;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cg;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xd({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Hu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)Nd.call(e,u)&&!Od.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var a=0;a<u;a++)s[a]=arguments[a+2];r.children=s}return{$$typeof:Ui,type:t.type,key:i,ref:o,props:r,_owner:l}};B.createContext=function(t){return t={$$typeof:pg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hg,_context:t},t.Consumer=t};B.createElement=Md;B.createFactory=function(t){var e=Md.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:mg,render:t}};B.isValidElement=Ku;B.lazy=function(t){return{$$typeof:kg,_payload:{_status:-1,_result:t},_init:xg}};B.memo=function(t,e){return{$$typeof:yg,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=wo.transition;wo.transition={};try{t()}finally{wo.transition=e}};B.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};B.useCallback=function(t,e){return Oe.current.useCallback(t,e)};B.useContext=function(t){return Oe.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Oe.current.useDeferredValue(t)};B.useEffect=function(t,e){return Oe.current.useEffect(t,e)};B.useId=function(){return Oe.current.useId()};B.useImperativeHandle=function(t,e,n){return Oe.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return Oe.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Oe.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Oe.current.useMemo(t,e)};B.useReducer=function(t,e,n){return Oe.current.useReducer(t,e,n)};B.useRef=function(t){return Oe.current.useRef(t)};B.useState=function(t){return Oe.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return Oe.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return Oe.current.useTransition()};B.version="18.2.0";vd.exports=B;var O=vd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg=O,Ng=Symbol.for("react.element"),Og=Symbol.for("react.fragment"),Mg=Object.prototype.hasOwnProperty,Tg=Eg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dg={key:!0,ref:!0,__self:!0,__source:!0};function Td(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)Mg.call(e,r)&&!Dg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ng,type:t,key:o,ref:l,props:i,_owner:Tg.current}}kl.Fragment=Og;kl.jsx=Td;kl.jsxs=Td;Sd.exports=kl;var Qu=Sd.exports;const Sl=Qu.Fragment,L=Qu.jsx,Dd=Qu.jsxs;function se(t){this.content=t}se.prototype={constructor:se,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new se(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new se(n)},addToStart:function(t,e){return new se([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new se(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new se(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=se.from(t),t.size?new se(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=se.from(t),t.size?new se(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=se.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};se.from=function(t){if(t instanceof se)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new se(e)};function Rd(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let l=0;i.text[l]==o.text[l];l++)n++;return n}if(i.content.size||o.content.size){let l=Rd(i.content,o.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function Pd(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let l=t.child(--i),s=e.child(--o),u=l.nodeSize;if(l==s){n-=u,r-=u;continue}if(!l.sameMarkup(s))return{a:n,b:r};if(l.isText&&l.text!=s.text){let a=0,c=Math.min(l.text.length,s.text.length);for(;a<c&&l.text[l.text.length-a-1]==s.text[s.text.length-a-1];)a++,n--,r--;return{a:n,b:r}}if(l.content.size||s.content.size){let a=Pd(l.content,s.content,n-1,r-1);if(a)return a}n-=u,r-=u}}class x{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let l=0,s=0;s<n;l++){let u=this.content[l],a=s+u.nodeSize;if(a>e&&r(u,i+s,o||null,l)!==!1&&u.content.size){let c=s+1;u.nodesBetween(Math.max(0,e-c),Math.min(u.content.size,n-c),r,i+c)}s=a}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",l=!0;return this.nodesBetween(e,n,(s,u)=>{s.isText?(o+=s.text.slice(Math.max(e,u)-u,n-u),l=!r):s.isLeaf?(i?o+=typeof i=="function"?i(s):i:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),l=!r):!l&&s.isBlock&&(o+=r,l=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new x(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,l=0;l<n;o++){let s=this.content[o],u=l+s.nodeSize;u>e&&((l<e||u>n)&&(s.isText?s=s.cut(Math.max(0,e-l),Math.min(s.text.length,n-l)):s=s.cut(Math.max(0,e-l-1),Math.min(s.content.size,n-l-1))),r.push(s),i+=s.nodeSize),l=u}return new x(r,i)}cutByIndex(e,n){return e==n?x.empty:e==0&&n==this.content.length?this:new x(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new x(i,o)}addToStart(e){return new x([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new x(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return Rd(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Pd(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Zi(0,e);if(e==this.size)return Zi(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),l=i+o.nodeSize;if(l>=e)return l==e||n>0?Zi(r+1,l):Zi(r,i);i=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return x.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new x(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return x.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new x(n||e,r)}static from(e){if(!e)return x.empty;if(e instanceof x)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new x([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}x.empty=new x([],0);const Kl={index:0,offset:0};function Zi(t,e){return Kl.index=t,Kl.offset=e,Kl}function Vo(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Vo(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Vo(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class _{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Vo(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return _.none;if(e instanceof _)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}_.none=[];class yi extends Error{}class C{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Ad(this.content,e+this.openStart,n);return r&&new C(r,this.openStart,this.openEnd)}removeBetween(e,n){return new C(zd(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return C.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new C(x.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new C(e,r,i)}}C.empty=new C(x.empty,0,0);function zd(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:l,offset:s}=t.findIndex(n);if(i==e||o.isText){if(s!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(zd(o.content,e-i-1,n-i-1)))}function Ad(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),l=t.maybeChild(i);if(o==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let s=Ad(l.content,e-o-1,n);return s&&t.replaceChild(i,l.copy(s))}function Rg(t,e,n){if(n.openStart>t.depth)throw new yi("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new yi("Inconsistent open depths");return Id(t,e,n,0)}function Id(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=Id(t,e,n,r+1);return o.copy(o.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,s=l.content;return Pn(l,s.cut(0,t.parentOffset).append(n.content).append(s.cut(e.parentOffset)))}else{let{start:l,end:s}=Pg(n,t);return Pn(o,Ld(t,l,s,e,r))}else return Pn(o,_o(t,e,r))}function Fd(t,e){if(!e.type.compatibleContent(t.type))throw new yi("Cannot join "+e.type.name+" onto "+t.type.name)}function Ls(t,e,n){let r=t.node(n);return Fd(r,e.node(n)),r}function Rn(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ei(t,e,n,r){let i=(e||t).node(n),o=0,l=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Rn(t.nodeAfter,r),o++));for(let s=o;s<l;s++)Rn(i.child(s),r);e&&e.depth==n&&e.textOffset&&Rn(e.nodeBefore,r)}function Pn(t,e){return t.type.checkContent(e),t.copy(e)}function Ld(t,e,n,r,i){let o=t.depth>i&&Ls(t,e,i+1),l=r.depth>i&&Ls(n,r,i+1),s=[];return ei(null,t,i,s),o&&l&&e.index(i)==n.index(i)?(Fd(o,l),Rn(Pn(o,Ld(t,e,n,r,i+1)),s)):(o&&Rn(Pn(o,_o(t,e,i+1)),s),ei(e,n,i,s),l&&Rn(Pn(l,_o(n,r,i+1)),s)),ei(r,null,i,s),new x(s)}function _o(t,e,n){let r=[];if(ei(null,t,n,r),t.depth>n){let i=Ls(t,e,n+1);Rn(Pn(i,_o(t,e,n+1)),r)}return ei(e,null,n,r),new x(r)}function Pg(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(x.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class ki{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return _.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!i||!o[l].isInSet(i.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ag(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let l=e;;){let{index:s,offset:u}=l.content.findIndex(o),a=o-u;if(r.push(l,s,i+u),!a||(l=l.child(s),l.isText))break;o=a-1,i+=u+1}return new ki(n,r,o)}static resolveCached(e,n){for(let i=0;i<Ql.length;i++){let o=Ql[i];if(o.pos==n&&o.doc==e)return o}let r=Ql[ql]=ki.resolve(e,n);return ql=(ql+1)%zg,r}}let Ql=[],ql=0,zg=12;class Ag{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Ig=Object.create(null);class ht{constructor(e,n,r,i=_.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||x.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Vo(this.attrs,n||e.defaultAttrs||Ig)&&_.sameSet(this.marks,r||_.none)}copy(e=null){return e==this.content?this:new ht(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ht(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return C.empty;let i=this.resolve(e),o=this.resolve(n),l=r?0:i.sharedDepth(n),s=i.start(l),a=i.node(l).content.cut(i.pos-s,o.pos-s);return new C(a,i.depth-l,o.depth-l)}replace(e,n,r){return Rg(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return ki.resolveCached(this,e)}resolveNoCache(e){return ki.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Bd(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=x.empty,i=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,o),s=l&&l.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let u=i;u<o;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=_.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!_.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=x.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}ht.prototype.text=void 0;class bo extends ht{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Bd(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new bo(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new bo(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Bd(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ln{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Fg(e,n);if(r.next==null)return Ln.empty;let i=Vd(r);r.next&&r.err("Unexpected trailing text");let o=Wg($g(i));return Ug(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(l,s){let u=l.matchFragment(e,r);if(u&&(!n||u.validEnd))return x.from(s.map(a=>a.createAndFill()));for(let a=0;a<l.next.length;a++){let{type:c,next:f}=l.next[a];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let l=[];for(let s=i;s.type;s=s.via)l.push(s.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:s,next:u}=o.next[l];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||u.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}Ln.empty=new Ln(!0);class Fg{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Vd(t){let e=[];do e.push(Lg(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Lg(t){let e=[];do e.push(Bg(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Bg(t){let e=bg(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Vg(t,e);else break;return e}function pc(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Vg(t,e){let n=pc(t),r=n;return t.eat(",")&&(t.next!="}"?r=pc(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function _g(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let l=n[o];l.groups.indexOf(e)>-1&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function bg(t){if(t.eat("(")){let e=Vd(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=_g(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function $g(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(l,s,u){let a={term:u,to:s};return e[l].push(a),a}function i(l,s){l.forEach(u=>u.to=s)}function o(l,s){if(l.type=="choice")return l.exprs.reduce((u,a)=>u.concat(o(a,s)),[]);if(l.type=="seq")for(let u=0;;u++){let a=o(l.exprs[u],s);if(u==l.exprs.length-1)return a;i(a,s=n())}else if(l.type=="star"){let u=n();return r(s,u),i(o(l.expr,u),u),[r(u)]}else if(l.type=="plus"){let u=n();return i(o(l.expr,s),u),i(o(l.expr,u),u),[r(u)]}else{if(l.type=="opt")return[r(s)].concat(o(l.expr,s));if(l.type=="range"){let u=s;for(let a=0;a<l.min;a++){let c=n();i(o(l.expr,u),c),u=c}if(l.max==-1)i(o(l.expr,u),u);else for(let a=l.min;a<l.max;a++){let c=n();r(u,c),i(o(l.expr,u),c),u=c}return[r(u)]}else{if(l.type=="name")return[r(s,void 0,l.value)];throw new Error("Unknown expr type")}}}}function _d(t,e){return e-t}function mc(t,e){let n=[];return r(e),n.sort(_d);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let l=0;l<o.length;l++){let{term:s,to:u}=o[l];!s&&n.indexOf(u)==-1&&r(u)}}}function Wg(t){let e=Object.create(null);return n(mc(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:s,to:u})=>{if(!s)return;let a;for(let c=0;c<i.length;c++)i[c][0]==s&&(a=i[c][1]);mc(t,u).forEach(c=>{a||i.push([s,a=[]]),a.indexOf(c)==-1&&a.push(c)})})});let o=e[r.join(",")]=new Ln(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let s=i[l][1].sort(_d);o.next.push({type:i[l][0],next:e[s.join(",")]||n(s)})}return o}}function Ug(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,l=[];for(let s=0;s<i.next.length;s++){let{type:u,next:a}=i.next[s];l.push(u.name),o&&!(u.isText||u.hasRequiredAttrs())&&(o=!1),r.indexOf(a)==-1&&r.push(a)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function bd(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function $d(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Wd(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new jg(t[n]);return e}let gc=class Ud{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Wd(r.attrs),this.defaultAttrs=bd(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ln.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:$d(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ht(this,this.computeAttrs(e),x.from(n),_.setFrom(r))}createChecked(e=null,n,r){return n=x.from(n),this.checkContent(n),new ht(this,this.computeAttrs(e),n,_.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=x.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(x.empty,!0);return o?new ht(this,e,n.append(o),_.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:_.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,l)=>r[o]=new Ud(o,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class jg{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class vl{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Wd(i.attrs),this.excluded=null;let o=bd(this.attrs);this.instance=o?new _(this,o):null}create(e=null){return!e&&this.instance?this.instance:new _(this,$d(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,l)=>r[o]=new vl(o,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class Jg{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=se.from(e.nodes),n.marks=se.from(e.marks||{}),this.nodes=gc.compile(this.spec.nodes,this),this.marks=vl.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],l=o.spec.content||"",s=o.spec.marks;o.contentMatch=r[l]||(r[l]=Ln.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=s=="_"?null:s?yc(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:yc(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof gc){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new bo(r,r.defaultAttrs,e,_.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ht.fromJSON(this,e)}markFromJSON(e){return _.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function yc(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],l=o;if(o)n.push(o);else for(let s in t.marks){let u=t.marks[s];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=u)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Si{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Sc(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Sc(this,n,!0);return r.addAll(e,n.from,n.to),C.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Qg(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let l=this.styles[o],s=l.style;if(!(s.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=n))){if(l.getAttrs){let u=l.getAttrs(n);if(u===!1)continue;l.attrs=u||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let s=n[l];if((s.priority==null?50:s.priority)<o)break}n.splice(l,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(l=>{r(l=vc(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(l=>{r(l=vc(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Si(e,Si.schemaRules(e)))}}const jd={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Hg={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Jd={ol:!0,ul:!0},$o=1,Wo=2,ti=4;function kc(t,e,n){return e!=null?(e?$o:0)|(e==="full"?Wo:0):t&&t.whitespace=="pre"?$o|Wo:n&~ti}class eo{constructor(e,n,r,i,o,l,s){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=s,this.content=[],this.activeMarks=_.none,this.stashMarks=[],this.match=l||(s&ti?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(x.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&$o)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=x.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(x.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):Yg(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!jd.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Sc{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,l=kc(null,n.preserveWhitespace,0)|(r?ti:0);i?o=new eo(i.type,i.attrs,_.none,_.none,!0,n.topMatch||i.type.contentMatch,l):r?o=new eo(null,null,_.none,_.none,!0,null,l):o=new eo(e.schema.topNodeType,null,_.none,_.none,!0,null,l),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style");if(!n)this.addElement(e);else{let r=this.readStyles(qg(n));if(!r)return;let[i,o]=r,l=this.top;for(let s=0;s<o.length;s++)this.removePendingMark(o[s],l);for(let s=0;s<i.length;s++)this.addPendingMark(i[s]);this.addElement(e);for(let s=0;s<i.length;s++)this.removePendingMark(i[s],l);for(let s=0;s<o.length;s++)this.addPendingMark(o[s])}}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Wo||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&$o)r.options&Wo?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;Jd.hasOwnProperty(r)&&this.parser.normalizeLists&&Kg(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:Hg.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let l,s=this.top,u=this.needsBlock;if(jd.hasOwnProperty(r))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),l=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),l&&this.sync(s),this.needsBlock=u}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=_.none,r=_.none;e:for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let l=this.parser.matchStyle(e[i],e[i+1],this,o);if(!l)continue e;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.forEach(s=>{l.clearMark(s)&&(r=s.addToSet(r))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)o=l;else break}return[n,r]}addElementByRule(e,n,r){let i,o,l;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(l=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(l));let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u)}i&&this.sync(s)&&this.open--,l&&this.removePendingMark(l,s)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=r==null?null:e.childNodes[r];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],l=o.findWrapping(e);if(l&&(!n||n.length>l.length)&&(n=l,r=o,!l.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let l=kc(e,i,o.options);o.options&ti&&o.content.length==0&&(l|=ti),this.nodes.push(new eo(e,n,o.activeMarks,o.pendingMarks,r,null,l)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),l=(s,u)=>{for(;s>=0;s--){let a=n[s];if(a==""){if(s==n.length-1||s==0)continue;for(;u>=o;u--)if(l(s-1,u))return!0;return!1}else{let c=u>0||u==0&&i?this.nodes[u].type:r&&u>=o?r.node(u-o).type:null;if(!c||c.name!=a&&c.groups.indexOf(a)==-1)return!1;u--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=Gg(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let l=i.popFromStashMark(e);l&&i.type&&i.type.allowsMarkType(l.type)&&(i.activeMarks=l.addToSet(i.activeMarks))}if(i==n)break}}}function Kg(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Jd.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Qg(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function qg(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function vc(t){let e={};for(let n in t)e[n]=t[n];return e}function Yg(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],l=s=>{o.push(s);for(let u=0;u<s.edgeCount;u++){let{type:a,next:c}=s.edge(u);if(a==e||o.indexOf(c)<0&&l(c))return!0}};if(l(i.contentMatch))return!0}}function Gg(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Nt{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Yl(n).createDocumentFragment());let i=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let s=0,u=0;for(;s<o.length&&u<l.marks.length;){let a=l.marks[u];if(!this.marks[a.type.name]){u++;continue}if(!a.eq(o[s][0])||a.type.spec.spanning===!1)break;s++,u++}for(;s<o.length;)i=o.pop()[1];for(;u<l.marks.length;){let a=l.marks[u++],c=this.serializeMark(a,l.isInline,n);c&&(o.push([a,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Nt.renderSpec(Yl(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Nt.renderSpec(Yl(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let l,s=r?e.createElementNS(r,i):e.createElement(i),u=n[1],a=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){a=2;for(let c in u)if(u[c]!=null){let f=c.indexOf(" ");f>0?s.setAttributeNS(c.slice(0,f),c.slice(f+1),u[c]):s.setAttribute(c,u[c])}}for(let c=a;c<n.length;c++){let f=n[c];if(f===0){if(c<n.length-1||c>a)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{let{dom:d,contentDOM:p}=Nt.renderSpec(e,f,r);if(s.appendChild(d),p){if(l)throw new RangeError("Multiple content holes");l=p}}}return{dom:s,contentDOM:l}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Nt(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=wc(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return wc(e.marks)}}function wc(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Yl(t){return t.document||window.document}const Hd=65535,Kd=Math.pow(2,16);function Xg(t,e){return t+e*Kd}function xc(t){return t&Hd}function Zg(t){return(t-(t&Hd))/Kd}const Qd=1,qd=2,xo=4,Yd=8;let Bs=class{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Yd)>0}get deletedBefore(){return(this.delInfo&(Qd|xo))>0}get deletedAfter(){return(this.delInfo&(qd|xo))>0}get deletedAcross(){return(this.delInfo&xo)>0}},yr=class Qn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Qn.empty)return Qn.empty}recover(e){let n=0,r=xc(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Zg(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let u=this.ranges[s]-(this.inverted?i:0);if(u>e)break;let a=this.ranges[s+o],c=this.ranges[s+l],f=u+a;if(e<=f){let d=a?e==u?-1:e==f?1:n:n,p=u+i+(d<0?0:c);if(r)return p;let h=e==(n<0?u:f)?null:Xg(s/3,e-u),y=e==u?qd:e==f?Qd:xo;return(n<0?e!=u:e!=f)&&(y|=Yd),new Bs(p,y,h)}i+=c-a}return r?e+i:new Bs(e+i,0,null)}touches(e,n){let r=0,i=xc(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let u=this.ranges[s]-(this.inverted?r:0);if(u>e)break;let a=this.ranges[s+o],c=u+a;if(e<=c&&s==i*3)return!0;r+=this.ranges[s+l]-a}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],s=l-(this.inverted?o:0),u=l+(this.inverted?0:o),a=this.ranges[i+n],c=this.ranges[i+r];e(s,s+a,u,u+c),o+=c-a}}invert(){return new Qn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Qn.empty:new Qn(e<0?[0,-e,0]:[0,0,e])}};yr.empty=new yr([]);class ni{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new ni(this.maps,this.mirror,e,n)}copy(){return new ni(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ni;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let l=this.maps[o],s=l.mapResult(e,n);if(s.recover!=null){let u=this.getMirror(o);if(u!=null&&u>o&&u<this.to){o=u,e=this.maps[u].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return r?e:new Bs(e,i,null)}}const Gl=Object.create(null);let Fe=class{getMap(){return yr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Gl[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Gl)throw new RangeError("Duplicate use of step JSON ID "+e);return Gl[e]=n,n.prototype.jsonID=e,n}},De=class Ur{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ur(e,null)}static fail(e){return new Ur(null,e)}static fromReplace(e,n,r,i){try{return Ur.ok(e.replace(n,r,i))}catch(o){if(o instanceof yi)return Ur.fail(o.message);throw o}}};function qu(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(qu(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return x.fromArray(r)}let Yu=class jr extends Fe{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new C(qu(n.content,(l,s)=>!l.isAtom||!s.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return De.fromReplace(e,this.from,this.to,o)}invert(){return new ji(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new jr(n.pos,r.pos,this.mark)}merge(e){return e instanceof jr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new jr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new jr(n.from,n.to,e.markFromJSON(n.mark))}};Fe.jsonID("addMark",Yu);let ji=class Jr extends Fe{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new C(qu(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return De.fromReplace(e,this.from,this.to,r)}invert(){return new Yu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Jr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Jr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Jr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Jr(n.from,n.to,e.markFromJSON(n.mark))}};Fe.jsonID("removeMark",ji);let Gu=class Hr extends Fe{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return De.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return De.fromReplace(e,this.pos,this.pos+1,new C(x.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Hr(this.pos,n.marks[i]);return new Hr(this.pos,this.mark)}}return new Xu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Hr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Hr(n.pos,e.markFromJSON(n.mark))}};Fe.jsonID("addNodeMark",Gu);let Xu=class Vs extends Fe{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return De.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return De.fromReplace(e,this.pos,this.pos+1,new C(x.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Gu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Vs(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Vs(n.pos,e.markFromJSON(n.mark))}};Fe.jsonID("removeNodeMark",Xu);let an=class yn extends Fe{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&_s(e,this.from,this.to)?De.fail("Structure replace would overwrite content"):De.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new yr([this.from,this.to-this.from,this.slice.size])}invert(e){return new yn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new yn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof yn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?C.empty:new C(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new yn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?C.empty:new C(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new yn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new yn(n.from,n.to,C.fromJSON(e,n.slice),!!n.structure)}};Fe.jsonID("replace",an);let Rt=class Co extends Fe{constructor(e,n,r,i,o,l,s=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=s}apply(e){if(this.structure&&(_s(e,this.from,this.gapFrom)||_s(e,this.gapTo,this.to)))return De.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return De.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?De.fromReplace(e,this.from,this.to,r):De.fail("Content does not fit in gap")}getMap(){return new yr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Co(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Co(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Co(n.from,n.to,n.gapFrom,n.gapTo,C.fromJSON(e,n.slice),n.insert,!!n.structure)}};Fe.jsonID("replaceAround",Rt);function _s(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function ey(t,e,n,r){let i=[],o=[],l,s;t.doc.nodesBetween(e,n,(u,a,c)=>{if(!u.isInline)return;let f=u.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(a,e),p=Math.min(a+u.nodeSize,n),h=r.addToSet(f);for(let y=0;y<f.length;y++)f[y].isInSet(h)||(l&&l.to==d&&l.mark.eq(f[y])?l.to=p:i.push(l=new ji(d,p,f[y])));s&&s.to==d?s.to=p:o.push(s=new Yu(d,p,r))}}),i.forEach(u=>t.step(u)),o.forEach(u=>t.step(u))}function ty(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(l,s)=>{if(!l.isInline)return;o++;let u=null;if(r instanceof vl){let a=l.marks,c;for(;c=r.isInSet(a);)(u||(u=[])).push(c),a=c.removeFromSet(a)}else r?r.isInSet(l.marks)&&(u=[r]):u=l.marks;if(u&&u.length){let a=Math.min(s+l.nodeSize,n);for(let c=0;c<u.length;c++){let f=u[c],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=a,d.step=o):i.push({style:f,from:Math.max(s,e),to:a,step:o})}}}),i.forEach(l=>t.step(new ji(l.from,l.to,l.style)))}function ny(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],l=e+1;for(let s=0;s<i.childCount;s++){let u=i.child(s),a=l+u.nodeSize,c=r.matchType(u.type);if(!c)o.push(new an(l,a,C.empty));else{r=c;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new ji(l,a,u.marks[f]))}l=a}if(!r.validEnd){let s=r.fillBefore(x.empty,!0);t.replace(l,l,new C(s,0,0))}for(let s=o.length-1;s>=0;s--)t.step(o[s])}function ry(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Zu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,l,n))return r;if(r==0||i.type.spec.isolating||!ry(i,o,l))break}return null}function iy(t,e,n){let{$from:r,$to:i,depth:o}=e,l=r.before(o+1),s=i.after(o+1),u=l,a=s,c=x.empty,f=0;for(let h=o,y=!1;h>n;h--)y||r.index(h)>0?(y=!0,c=x.from(r.node(h).copy(c)),f++):u--;let d=x.empty,p=0;for(let h=o,y=!1;h>n;h--)y||i.after(h+1)<i.end(h)?(y=!0,d=x.from(i.node(h).copy(d)),p++):a++;t.step(new Rt(u,a,l,s,new C(c.append(d),f,p),c.size-f,!0))}function oy(t,e,n){let r=x.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let s=n[l].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=x.from(n[l].type.create(n[l].attrs,r))}let i=e.start,o=e.end;t.step(new Rt(i,o,i,o,new C(r,0,0),n.length,!0))}function ly(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(l,s)=>{if(l.isTextblock&&!l.hasMarkup(r,i)&&sy(t.doc,t.mapping.slice(o).map(s),r)){t.clearIncompatible(t.mapping.slice(o).map(s,1),r);let u=t.mapping.slice(o),a=u.map(s,1),c=u.map(s+l.nodeSize,1);return t.step(new Rt(a,c,a+1,c-1,new C(x.from(r.create(i,null,l.marks)),0,0),1,!0)),!1}})}function sy(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function uy(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let l=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,l);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Rt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new C(x.from(l),0,0),1,!0))}function Eo(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let a=i.depth-1,c=n-2;a>o;a--,c--){let f=i.node(a),d=i.index(a);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=r&&r[c]||f;if(h!=f&&(p=p.replaceChild(0,h.type.create(h.attrs))),!f.canReplace(d+1,f.childCount)||!h.type.validContent(p))return!1}let s=i.indexAfter(o),u=r&&r[0];return i.node(o).canReplaceWith(s,s,u?u.type:i.node(o+1).type)}function ay(t,e,n=1,r){let i=t.doc.resolve(e),o=x.empty,l=x.empty;for(let s=i.depth,u=i.depth-n,a=n-1;s>u;s--,a--){o=x.from(i.node(s).copy(o));let c=r&&r[a];l=x.from(c?c.type.create(c.attrs,l):i.node(s).copy(l))}t.step(new an(e,e,new C(o.append(l),n,n),!0))}function Gd(t,e){let n=t.resolve(e),r=n.index();return cy(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function cy(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function fy(t,e,n){let r=new an(e-n,e+n,C.empty,!0);t.step(r)}function dy(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function ea(t,e,n=e,r=C.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return Xd(i,o,r)?new an(e,n,r):new hy(i,o,r).fit()}function Xd(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class hy{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=x.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=x.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let a=this.findFittable();a?this.placeNodes(a):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,l=r.depth,s=i.depth;for(;l&&s&&o.childCount==1;)o=o.firstChild.content,l--,s--;let u=new C(o,l,s);return e>-1?new Rt(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new an(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Xl(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let l=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:u,match:a}=this.frontier[s],c,f=null;if(n==1&&(l?a.matchType(l.type)||(f=a.fillBefore(x.from(l),!1)):o&&u.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:s,parent:o,inject:f};if(n==2&&l&&(c=a.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:s,parent:o,wrap:c};if(o&&a.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Xl(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new C(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Xl(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new C(Kr(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new C(Kr(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let y=0;y<o.length;y++)this.openFrontierNode(o[y]);let l=this.unplaced,s=r?r.content:l.content,u=l.openStart-e,a=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)c.push(i.child(y));f=f.matchFragment(i)}let p=s.size+e-(l.content.size-l.openEnd);for(;a<s.childCount;){let y=s.child(a),S=f.matchType(y.type);if(!S)break;a++,(a>1||u==0||y.content.size)&&(f=S,c.push(Zd(y.mark(d.allowedMarks(y.marks)),a==1?u:0,a==s.childCount?p:-1)))}let h=a==s.childCount;h||(p=-1),this.placed=Qr(this.placed,n,x.from(c)),this.frontier[n].match=f,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,S=s;y<p;y++){let g=S.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),S=g.content}this.unplaced=h?e==0?C.empty:new C(Kr(l.content,e-1,1),e-1,p<0?l.openEnd:e-1):new C(Kr(l.content,e,a),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Zl(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Zl(e,n,i,r,o);if(l){for(let s=n-1;s>=0;s--){let{match:u,type:a}=this.frontier[s],c=Zl(e,s,a,u,!0);if(!c||c.childCount)continue e}return{depth:n,fit:l,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Qr(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Qr(this.placed,this.depth,x.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(x.empty,!0);n.childCount&&(this.placed=Qr(this.placed,this.frontier.length,n))}}function Kr(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Kr(t.firstChild.content,e-1,n)))}function Qr(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Qr(t.lastChild.content,e-1,n)))}function Xl(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Zd(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Zd(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(x.empty,!0)))),t.copy(r)}function Zl(t,e,n,r,i){let o=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,l);return s&&!py(n,o.content,l)?s:null}function py(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function my(t){return t.spec.defining||t.spec.definingForContent}function gy(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(Xd(i,o,r))return t.step(new an(e,n,r));let l=th(i,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let s=-(i.depth+1);l.unshift(s);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;l.indexOf(d)>-1?s=d:i.before(d)==p&&l.splice(1,0,-d)}let u=l.indexOf(s),a=[],c=r.openStart;for(let d=r.content,p=0;;p++){let h=d.firstChild;if(a.push(h),p==r.openStart)break;d=h.content}for(let d=c-1;d>=0;d--){let p=a[d].type,h=my(p);if(h&&i.node(u).type!=p)c=d;else if(h||!p.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+c+1)%(r.openStart+1),h=a[p];if(h)for(let y=0;y<l.length;y++){let S=l[(y+u)%l.length],g=!0;S<0&&(g=!1,S=-S);let m=i.node(S-1),k=i.index(S-1);if(m.canReplaceWith(k,k,h.type,h.marks))return t.replace(i.before(S),g?o.after(S):n,new C(eh(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let d=l.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let p=l[d];p<0||(e=i.before(p),n=o.after(p))}}function eh(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(eh(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),l=o.fillBefore(t).append(t);t=l.append(o.matchFragment(l).fillBefore(x.empty,!0))}return t}function yy(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=dy(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new C(x.from(r),0,0))}function ky(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=th(r,i);for(let l=0;l<o.length;l++){let s=o[l],u=l==o.length-1;if(u&&s==0||r.node(s).type.contentMatch.validEnd)return t.delete(r.start(s),i.end(s));if(s>0&&(u||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return t.delete(r.before(s),i.after(s))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l)return t.delete(r.before(l),n);t.delete(e,n)}function th(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}let nh=class No extends Fe{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return De.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return De.fromReplace(e,this.pos,this.pos+1,new C(x.from(i),0,n.isLeaf?0:1))}getMap(){return yr.empty}invert(e){return new No(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new No(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new No(n.pos,n.attr,n.value)}};Fe.jsonID("attr",nh);let kr=class extends Error{};kr=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};kr.prototype=Object.create(Error.prototype);kr.prototype.constructor=kr;kr.prototype.name="TransformError";class Sy{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ni}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new kr(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=C.empty){let i=ea(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new C(x.from(r),0,0))}delete(e,n){return this.replace(e,n,C.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return gy(this,e,n,r),this}replaceRangeWith(e,n,r){return yy(this,e,n,r),this}deleteRange(e,n){return ky(this,e,n),this}lift(e,n){return iy(this,e,n),this}join(e,n=1){return fy(this,e,n),this}wrap(e,n){return oy(this,e,n),this}setBlockType(e,n=e,r,i=null){return ly(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return uy(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new nh(e,n,r)),this}addNodeMark(e,n){return this.step(new Gu(e,n)),this}removeNodeMark(e,n){if(!(n instanceof _)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Xu(e,n)),this}split(e,n=1,r){return ay(this,e,n,r),this}addMark(e,n,r){return ey(this,e,n,r),this}removeMark(e,n,r){return ty(this,e,n,r),this}clearIncompatible(e,n,r){return ny(this,e,n,r),this}}const es=Object.create(null);class b{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new vy(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=C.empty){let r=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let s=0;s<l.length;s++){let{$from:u,$to:a}=l[s],c=e.mapping.slice(o);e.replaceRange(c.map(u.pos),c.map(a.pos),s?C.empty:n),s==0&&Nc(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:l,$to:s}=i[o],u=e.mapping.slice(r),a=u.map(l.pos),c=u.map(s.pos);o?e.deleteRange(a,c):(e.replaceRangeWith(a,c,n),Nc(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new U(e):qn(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let l=n<0?qn(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):qn(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new _e(e.node(0))}static atStart(e){return qn(e,e,0,0,1)||new _e(e)}static atEnd(e){return qn(e,e,e.content.size,e.childCount,-1)||new _e(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=es[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in es)throw new RangeError("Duplicate use of selection JSON ID "+e);return es[e]=n,n.prototype.jsonID=e,n}getBookmark(){return U.between(this.$anchor,this.$head).getBookmark()}}b.prototype.visible=!0;class vy{constructor(e,n){this.$from=e,this.$to=n}}let Cc=!1;function Ec(t){!Cc&&!t.parent.inlineContent&&(Cc=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class U extends b{constructor(e,n=e){Ec(e),Ec(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return b.near(r);let i=e.resolve(n.map(this.anchor));return new U(i.parent.inlineContent?i:r,r)}replace(e,n=C.empty){if(super.replace(e,n),n==C.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof U&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new wl(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new U(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=b.findFrom(n,r,!0)||b.findFrom(n,-r,!0);if(o)n=o.$head;else return b.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(b.findFrom(e,-r,!0)||b.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new U(e,n)}}b.jsonID("text",U);class wl{constructor(e,n){this.anchor=e,this.head=n}map(e){return new wl(e.map(this.anchor),e.map(this.head))}resolve(e){return U.between(e.resolve(this.anchor),e.resolve(this.head))}}class A extends b{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?b.near(o):new A(o)}content(){return new C(x.from(this.node),0,0)}eq(e){return e instanceof A&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ta(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new A(e.resolve(n.anchor))}static create(e,n){return new A(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}A.prototype.visible=!1;b.jsonID("node",A);class ta{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new wl(r,r):new ta(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&A.isSelectable(r)?new A(n):b.near(n)}}class _e extends b{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=C.empty){if(n==C.empty){e.delete(0,e.doc.content.size);let r=b.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new _e(e)}map(e){return new _e(e)}eq(e){return e instanceof _e}getBookmark(){return wy}}b.jsonID("all",_e);const wy={map(){return this},resolve(t){return new _e(t)}};function qn(t,e,n,r,i,o=!1){if(e.inlineContent)return U.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let s=e.child(l);if(s.isAtom){if(!o&&A.isSelectable(s))return A.create(t,n-(i<0?s.nodeSize:0))}else{let u=qn(t,s,n+i,i<0?s.childCount:0,i,o);if(u)return u}n+=s.nodeSize*i}return null}function Nc(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof an||i instanceof Rt))return;let o=t.mapping.maps[r],l;o.forEach((s,u,a,c)=>{l==null&&(l=c)}),t.setSelection(b.near(t.doc.resolve(l),n))}const Oc=1,to=2,Mc=4;class xy extends Sy{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Oc)&~to,this.storedMarks=null,this}get selectionSet(){return(this.updated&Oc)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=to,this}ensureMarks(e){return _.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&to)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~to,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||_.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(n);o=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(b.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Mc,this}get scrolledIntoView(){return(this.updated&Mc)>0}}function Tc(t,e){return!e||!t?t:t.bind(e)}class qr{constructor(e,n,r){this.name=e,this.init=Tc(n.init,r),this.apply=Tc(n.apply,r)}}const Cy=[new qr("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new qr("selection",{init(t,e){return t.selection||b.atStart(e.doc)},apply(t){return t.selection}}),new qr("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new qr("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class ts{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Cy.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new qr(r.key,r.spec.state,r))})}}class Gn{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let s=this.config.plugins[l];if(s.spec.appendTransaction){let u=i?i[l].n:0,a=i?i[l].state:this,c=u<n.length&&s.spec.appendTransaction.call(s,u?n.slice(u):n,a,r);if(c&&r.filterTransaction(c,l)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<l?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[l]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Gn(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new xy(this)}static create(e){let n=new ts(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Gn(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new ts(this.schema,e.plugins),r=n.fields,i=new Gn(n);for(let o=0;o<r.length;o++){let l=r[o].name;i[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new ts(e.schema,e.plugins),o=new Gn(i);return i.fields.forEach(l=>{if(l.name=="doc")o.doc=ht.fromJSON(e.schema,n.doc);else if(l.name=="selection")o.selection=b.fromJSON(o.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let s in r){let u=r[s],a=u.spec.state;if(u.key==l.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){o[l.name]=a.fromJSON.call(u,e,n[s],o);return}}o[l.name]=l.init(e,o)}}),o}}function rh(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=rh(i,e,{})),n[r]=i}return n}class xl{constructor(e){this.spec=e,this.props={},e.props&&rh(e.props,this,this.props),this.key=e.key?e.key.key:ih("plugin")}getState(e){return e[this.key]}}const ns=Object.create(null);function ih(t){return t in ns?t+"$"+ ++ns[t]:(ns[t]=0,t+"$")}class oh{constructor(e="key"){this.key=ih(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const lh=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Ey(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Ny=(t,e,n)=>{let r=Ey(t,n);if(!r)return!1;let i=sh(r);if(!i){let l=r.blockRange(),s=l&&Zu(l);return s==null?!1:(e&&e(t.tr.lift(l,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&ah(t,i,e))return!0;if(r.parent.content.size==0&&(Sr(o,"end")||A.isSelectable(o))){let l=ea(t.doc,r.before(),r.after(),C.empty);if(l&&l.slice.size<l.to-l.from){if(e){let s=t.tr.step(l);s.setSelection(Sr(o,"end")?b.findFrom(s.doc.resolve(s.mapping.map(i.pos,-1)),-1):A.create(s.doc,i.pos-o.nodeSize)),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Sr(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Oy=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=sh(r)}let l=o&&o.nodeBefore;return!l||!A.isSelectable(l)?!1:(e&&e(t.tr.setSelection(A.create(t.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function sh(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function My(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Ty=(t,e,n)=>{let r=My(t,n);if(!r)return!1;let i=uh(r);if(!i)return!1;let o=i.nodeAfter;if(ah(t,i,e))return!0;if(r.parent.content.size==0&&(Sr(o,"start")||A.isSelectable(o))){let l=ea(t.doc,r.before(),r.after(),C.empty);if(l&&l.slice.size<l.to-l.from){if(e){let s=t.tr.step(l);s.setSelection(Sr(o,"start")?b.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):A.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Dy=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=uh(r)}let l=o&&o.nodeAfter;return!l||!A.isSelectable(l)?!1:(e&&e(t.tr.setSelection(A.create(t.doc,o.pos)).scrollIntoView()),!0)};function uh(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Ry=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function na(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Py=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),l=na(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(e){let s=n.after(),u=t.tr.replaceWith(s,s,l.createAndFill());u.setSelection(b.near(u.doc.resolve(s),1)),e(u.scrollIntoView())}return!0},zy=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof _e||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=na(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=t.tr.insert(l,o.createAndFill());s.setSelection(U.create(s.doc,l+1)),e(s.scrollIntoView())}return!0},Ay=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Eo(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Zu(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function Iy(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof A&&e.selection.node.isBlock)return!r.parentOffset||!Eo(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let o=i.parentOffset==i.parent.content.size,l=e.tr;(e.selection instanceof U||e.selection instanceof _e)&&l.deleteSelection();let s=r.depth==0?null:na(r.node(-1).contentMatchAt(r.indexAfter(-1))),u=t&&t(i.parent,o),a=u?[u]:o&&s?[{type:s}]:void 0,c=Eo(l.doc,l.mapping.map(r.pos),1,a);if(!a&&!c&&Eo(l.doc,l.mapping.map(r.pos),1,s?[{type:s}]:void 0)&&(s&&(a=[{type:s}]),c=!0),c&&(l.split(l.mapping.map(r.pos),1,a),!o&&!r.parentOffset&&r.parent.type!=s)){let f=l.mapping.map(r.before()),d=l.doc.resolve(f);s&&r.node(-1).canReplaceWith(d.index(),d.index()+1,s)&&l.setNodeMarkup(l.mapping.map(r.before()),s)}n(l.scrollIntoView())}return!0}}const Fy=Iy(),Ly=(t,e)=>(e&&e(t.tr.setSelection(new _e(t.doc))),!0);function By(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Gd(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function ah(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,l;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(By(t,e,n))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(o=(l=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,d=x.empty;for(let y=o.length-1;y>=0;y--)d=x.from(o[y].create(null,d));d=x.from(r.copy(d));let p=t.tr.step(new Rt(e.pos-1,f,e.pos,f,new C(d,1,0),o.length,!0)),h=f+2*o.length;Gd(p.doc,h)&&p.join(h),n(p.scrollIntoView())}return!0}let u=b.findFrom(e,1),a=u&&u.$from.blockRange(u.$to),c=a&&Zu(a);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(a,c).scrollIntoView()),!0;if(s&&Sr(i,"start",!0)&&Sr(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let p=i,h=1;for(;!p.isTextblock;p=p.firstChild)h++;if(f.canReplace(f.childCount,f.childCount,p.content)){if(n){let y=x.empty;for(let g=d.length-1;g>=0;g--)y=x.from(d[g].copy(y));let S=t.tr.step(new Rt(e.pos-d.length,e.pos+i.nodeSize,e.pos+h,e.pos+i.nodeSize-h,new C(y,d.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function ch(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(U.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const Vy=ch(-1),_y=ch(1);function by(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],l=i.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(i.pos,o.pos,s=>{if(l)return!1;l=s.inlineContent&&s.type.allowsMarkType(n)}),l)return!0}return!1}function Dc(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:l}=n.selection;if(i&&!o||!by(n.doc,l,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let s=!1,u=n.tr;for(let a=0;!s&&a<l.length;a++){let{$from:c,$to:f}=l[a];s=n.doc.rangeHasMark(c.pos,f.pos,t)}for(let a=0;a<l.length;a++){let{$from:c,$to:f}=l[a];if(s)u.removeMark(c.pos,f.pos,t);else{let d=c.pos,p=f.pos,h=c.nodeAfter,y=f.nodeBefore,S=h&&h.isText?/^\s*/.exec(h.text)[0].length:0,g=y&&y.isText?/\s*$/.exec(y.text)[0].length:0;d+S<p&&(d+=S,p-=g),u.addMark(d,p,t.create(e))}}r(u.scrollIntoView())}return!0}}function ra(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let rs=ra(lh,Ny,Oy),Rc=ra(lh,Ty,Dy);const Ct={Enter:ra(Ry,zy,Ay,Fy),"Mod-Enter":Py,Backspace:rs,"Mod-Backspace":rs,"Shift-Backspace":rs,Delete:Rc,"Mod-Delete":Rc,"Mod-a":Ly},fh={"Ctrl-h":Ct.Backspace,"Alt-Backspace":Ct["Mod-Backspace"],"Ctrl-d":Ct.Delete,"Ctrl-Alt-Backspace":Ct["Mod-Delete"],"Alt-Delete":Ct["Mod-Delete"],"Alt-d":Ct["Mod-Delete"],"Ctrl-a":Vy,"Ctrl-e":_y};for(let t in Ct)fh[t]=Ct[t];const $y=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Wy=$y?fh:Ct;var on={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Uo={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Pc=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Uy=typeof navigator<"u"&&/Mac/.test(navigator.platform),jy=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Jy=Uy||Pc&&+Pc[1]<57;for(var ae=0;ae<10;ae++)on[48+ae]=on[96+ae]=String(ae);for(var ae=1;ae<=24;ae++)on[ae+111]="F"+ae;for(var ae=65;ae<=90;ae++)on[ae]=String.fromCharCode(ae+32),Uo[ae]=String.fromCharCode(ae);for(var is in on)Uo.hasOwnProperty(is)||(Uo[is]=on[is]);function Hy(t){var e=Jy&&(t.ctrlKey||t.altKey||t.metaKey)||jy&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Uo:on)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Ky=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Qy(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,l;for(let s=0;s<e.length-1;s++){let u=e[s];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))Ky?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function qy(t){let e=Object.create(null);for(let n in t)e[Qy(n)]=t[n];return e}function ls(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Yy(t){return new xl({props:{handleKeyDown:Gy(t)}})}function Gy(t){let e=qy(t);return function(n,r){let i=Hy(r),o,l=e[ls(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=e[ls(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=on[r.keyCode])&&o!=i){let s=e[ls(o,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}var dh={exports:{}},Ue={},hh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,I){var F=T.length;T.push(I);e:for(;0<F;){var G=F-1>>>1,re=T[G];if(0<i(re,I))T[G]=I,T[F]=re,F=G;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],F=T.pop();if(F!==I){T[0]=F;e:for(var G=0,re=T.length,Yi=re>>>1;G<Yi;){var mn=2*(G+1)-1,Jl=T[mn],gn=mn+1,Gi=T[gn];if(0>i(Jl,F))gn<re&&0>i(Gi,Jl)?(T[G]=Gi,T[gn]=F,G=gn):(T[G]=Jl,T[mn]=F,G=mn);else if(gn<re&&0>i(Gi,F))T[G]=Gi,T[gn]=F,G=gn;else break e}}return I}function i(T,I){var F=T.sortIndex-I.sortIndex;return F!==0?F:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var u=[],a=[],c=1,f=null,d=3,p=!1,h=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(T){for(var I=n(a);I!==null;){if(I.callback===null)r(a);else if(I.startTime<=T)r(a),I.sortIndex=I.expirationTime,e(u,I);else break;I=n(a)}}function v(T){if(y=!1,k(T),!h)if(n(u)!==null)h=!0,Ul(E);else{var I=n(a);I!==null&&jl(v,I.startTime-T)}}function E(T,I){h=!1,y&&(y=!1,g(R),R=-1),p=!0;var F=d;try{for(k(I),f=n(u);f!==null&&(!(f.expirationTime>I)||T&&!de());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var re=G(f.expirationTime<=I);I=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(u)&&r(u),k(I)}else r(u);f=n(u)}if(f!==null)var Yi=!0;else{var mn=n(a);mn!==null&&jl(v,mn.startTime-I),Yi=!1}return Yi}finally{f=null,d=F,p=!1}}var N=!1,D=null,R=-1,P=5,z=-1;function de(){return!(t.unstable_now()-z<P)}function pn(){if(D!==null){var T=t.unstable_now();z=T;var I=!0;try{I=D(!0,T)}finally{I?Ar():(N=!1,D=null)}}else N=!1}var Ar;if(typeof m=="function")Ar=function(){m(pn)};else if(typeof MessageChannel<"u"){var cc=new MessageChannel,sg=cc.port2;cc.port1.onmessage=pn,Ar=function(){sg.postMessage(null)}}else Ar=function(){S(pn,0)};function Ul(T){D=T,N||(N=!0,Ar())}function jl(T,I){R=S(function(){T(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,Ul(E))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(T){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var F=d;d=I;try{return T()}finally{d=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=d;d=T;try{return I()}finally{d=F}},t.unstable_scheduleCallback=function(T,I,F){var G=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,T){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=F+re,T={id:c++,callback:I,priorityLevel:T,startTime:F,expirationTime:re,sortIndex:-1},F>G?(T.sortIndex=F,e(a,T),n(u)===null&&T===n(a)&&(y?(g(R),R=-1):y=!0,jl(v,F-G))):(T.sortIndex=re,e(u,T),h||p||(h=!0,Ul(E))),T},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(T){var I=d;return function(){var F=d;d=I;try{return T.apply(this,arguments)}finally{d=F}}}})(ph);hh.exports=ph;var Xy=hh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=O,We=Xy;function w(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gh=new Set,vi={};function Un(t,e){vr(t,e),vr(t+"Capture",e)}function vr(t,e){for(vi[t]=e,t=0;t<e.length;t++)gh.add(e[t])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=Object.prototype.hasOwnProperty,Zy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zc={},Ac={};function e0(t){return bs.call(Ac,t)?!0:bs.call(zc,t)?!1:Zy.test(t)?Ac[t]=!0:(zc[t]=!0,!1)}function t0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n0(t,e,n,r){if(e===null||typeof e>"u"||t0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Me(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new Me(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new Me(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new Me(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new Me(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new Me(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new Me(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new Me(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new Me(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new Me(t,5,!1,t.toLowerCase(),null,!1,!1)});var ia=/[\-:]([a-z])/g;function oa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ia,oa);fe[e]=new Me(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ia,oa);fe[e]=new Me(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ia,oa);fe[e]=new Me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new Me(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new Me(t,1,!1,t.toLowerCase(),null,!0,!0)});function la(t,e,n,r){var i=fe.hasOwnProperty(e)?fe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n0(e,n,i,r)&&(n=null),r||i===null?e0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lt=mh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,no=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),Zn=Symbol.for("react.fragment"),sa=Symbol.for("react.strict_mode"),$s=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),kh=Symbol.for("react.context"),ua=Symbol.for("react.forward_ref"),Ws=Symbol.for("react.suspense"),Us=Symbol.for("react.suspense_list"),aa=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Sh=Symbol.for("react.offscreen"),Ic=Symbol.iterator;function Ir(t){return t===null||typeof t!="object"?null:(t=Ic&&t[Ic]||t["@@iterator"],typeof t=="function"?t:null)}var q=Object.assign,ss;function Yr(t){if(ss===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ss=e&&e[1]||""}return`
`+ss+t}var us=!1;function as(t,e){if(!t||us)return"";us=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(a){var r=a}Reflect.construct(t,[],e)}else{try{e.call()}catch(a){r=a}t.call(e.prototype)}else{try{throw Error()}catch(a){r=a}t()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var u=`
`+i[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=s);break}}}finally{us=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yr(t):""}function r0(t){switch(t.tag){case 5:return Yr(t.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 2:case 15:return t=as(t.type,!1),t;case 11:return t=as(t.type.render,!1),t;case 1:return t=as(t.type,!0),t;default:return""}}function js(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zn:return"Fragment";case Xn:return"Portal";case $s:return"Profiler";case sa:return"StrictMode";case Ws:return"Suspense";case Us:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kh:return(t.displayName||"Context")+".Consumer";case yh:return(t._context.displayName||"Context")+".Provider";case ua:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case aa:return e=t.displayName||null,e!==null?e:js(t.type)||"Memo";case _t:e=t._payload,t=t._init;try{return js(t(e))}catch{}}return null}function i0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return js(e);case 8:return e===sa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ln(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o0(t){var e=vh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ro(t){t._valueTracker||(t._valueTracker=o0(t))}function wh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Js(t,e){var n=e.checked;return q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ln(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xh(t,e){e=e.checked,e!=null&&la(t,"checked",e,!1)}function Hs(t,e){xh(t,e);var n=ln(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ks(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ks(t,e.type,ln(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ks(t,e,n){(e!=="number"||jo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gr=Array.isArray;function cr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ln(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qs(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(w(91));return q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(w(92));if(Gr(n)){if(1<n.length)throw Error(w(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ln(n)}}function Ch(t,e){var n=ln(e.value),r=ln(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Eh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qs(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Eh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var io,Nh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(io=io||document.createElement("div"),io.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=io.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l0=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(t){l0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ri[e]=ri[t]})});function Oh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ri.hasOwnProperty(t)&&ri[t]?(""+e).trim():e+"px"}function Mh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Oh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var s0=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ys(t,e){if(e){if(s0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(w(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(w(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(w(61))}if(e.style!=null&&typeof e.style!="object")throw Error(w(62))}}function Gs(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xs=null;function ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zs=null,fr=null,dr=null;function _c(t){if(t=Ki(t)){if(typeof Zs!="function")throw Error(w(280));var e=t.stateNode;e&&(e=Ml(e),Zs(t.stateNode,t.type,e))}}function Th(t){fr?dr?dr.push(t):dr=[t]:fr=t}function Dh(){if(fr){var t=fr,e=dr;if(dr=fr=null,_c(t),e)for(t=0;t<e.length;t++)_c(e[t])}}function Rh(t,e){return t(e)}function Ph(){}var cs=!1;function zh(t,e,n){if(cs)return t(e,n);cs=!0;try{return Rh(t,e,n)}finally{cs=!1,(fr!==null||dr!==null)&&(Ph(),Dh())}}function xi(t,e){var n=t.stateNode;if(n===null)return null;var r=Ml(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(w(231,e,typeof n));return n}var eu=!1;if(Pt)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){eu=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{eu=!1}function u0(t,e,n,r,i,o,l,s,u){var a=Array.prototype.slice.call(arguments,3);try{e.apply(n,a)}catch(c){this.onError(c)}}var ii=!1,Jo=null,Ho=!1,tu=null,a0={onError:function(t){ii=!0,Jo=t}};function c0(t,e,n,r,i,o,l,s,u){ii=!1,Jo=null,u0.apply(a0,arguments)}function f0(t,e,n,r,i,o,l,s,u){if(c0.apply(this,arguments),ii){if(ii){var a=Jo;ii=!1,Jo=null}else throw Error(w(198));Ho||(Ho=!0,tu=a)}}function jn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ah(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bc(t){if(jn(t)!==t)throw Error(w(188))}function d0(t){var e=t.alternate;if(!e){if(e=jn(t),e===null)throw Error(w(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return bc(i),t;if(o===r)return bc(i),e;o=o.sibling}throw Error(w(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(w(189))}}if(n.alternate!==r)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?t:e}function Ih(t){return t=d0(t),t!==null?Fh(t):null}function Fh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fh(t);if(e!==null)return e;t=t.sibling}return null}var Lh=We.unstable_scheduleCallback,$c=We.unstable_cancelCallback,h0=We.unstable_shouldYield,p0=We.unstable_requestPaint,X=We.unstable_now,m0=We.unstable_getCurrentPriorityLevel,fa=We.unstable_ImmediatePriority,Bh=We.unstable_UserBlockingPriority,Ko=We.unstable_NormalPriority,g0=We.unstable_LowPriority,Vh=We.unstable_IdlePriority,Cl=null,pt=null;function y0(t){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Cl,t,void 0,(t.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:v0,k0=Math.log,S0=Math.LN2;function v0(t){return t>>>=0,t===0?32:31-(k0(t)/S0|0)|0}var oo=64,lo=4194304;function Xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=Xr(s):(o&=l,o!==0&&(r=Xr(o)))}else l=n&~i,l!==0?r=Xr(l):o!==0&&(r=Xr(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ot(e),i=1<<n,r|=t[n],e&=~i;return r}function w0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-ot(o),s=1<<l,u=i[l];u===-1?(!(s&n)||s&r)&&(i[l]=w0(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}function nu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _h(){var t=oo;return oo<<=1,!(oo&4194240)&&(oo=64),t}function fs(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ji(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ot(e),t[e]=n}function C0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ot(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function da(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ot(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $=0;function bh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $h,ha,Wh,Uh,jh,ru=!1,so=[],Qt=null,qt=null,Yt=null,Ci=new Map,Ei=new Map,Wt=[],E0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(t,e){switch(t){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Ci.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(e.pointerId)}}function Lr(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ki(e),e!==null&&ha(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function N0(t,e,n,r,i){switch(e){case"focusin":return Qt=Lr(Qt,t,e,n,r,i),!0;case"dragenter":return qt=Lr(qt,t,e,n,r,i),!0;case"mouseover":return Yt=Lr(Yt,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ci.set(o,Lr(Ci.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ei.set(o,Lr(Ei.get(o)||null,t,e,n,r,i)),!0}return!1}function Jh(t){var e=xn(t.target);if(e!==null){var n=jn(e);if(n!==null){if(e=n.tag,e===13){if(e=Ah(n),e!==null){t.blockedOn=e,jh(t.priority,function(){Wh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xs=r,n.target.dispatchEvent(r),Xs=null}else return e=Ki(n),e!==null&&ha(e),t.blockedOn=n,!1;e.shift()}return!0}function Uc(t,e,n){Oo(t)&&n.delete(e)}function O0(){ru=!1,Qt!==null&&Oo(Qt)&&(Qt=null),qt!==null&&Oo(qt)&&(qt=null),Yt!==null&&Oo(Yt)&&(Yt=null),Ci.forEach(Uc),Ei.forEach(Uc)}function Br(t,e){t.blockedOn===e&&(t.blockedOn=null,ru||(ru=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,O0)))}function Ni(t){function e(i){return Br(i,t)}if(0<so.length){Br(so[0],t);for(var n=1;n<so.length;n++){var r=so[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qt!==null&&Br(Qt,t),qt!==null&&Br(qt,t),Yt!==null&&Br(Yt,t),Ci.forEach(e),Ei.forEach(e),n=0;n<Wt.length;n++)r=Wt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)Jh(n),n.blockedOn===null&&Wt.shift()}var hr=Lt.ReactCurrentBatchConfig,qo=!0;function M0(t,e,n,r){var i=$,o=hr.transition;hr.transition=null;try{$=1,pa(t,e,n,r)}finally{$=i,hr.transition=o}}function T0(t,e,n,r){var i=$,o=hr.transition;hr.transition=null;try{$=4,pa(t,e,n,r)}finally{$=i,hr.transition=o}}function pa(t,e,n,r){if(qo){var i=iu(t,e,n,r);if(i===null)ws(t,e,r,Yo,n),Wc(t,r);else if(N0(i,t,e,n,r))r.stopPropagation();else if(Wc(t,r),e&4&&-1<E0.indexOf(t)){for(;i!==null;){var o=Ki(i);if(o!==null&&$h(o),o=iu(t,e,n,r),o===null&&ws(t,e,r,Yo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ws(t,e,r,null,n)}}var Yo=null;function iu(t,e,n,r){if(Yo=null,t=ca(r),t=xn(t),t!==null)if(e=jn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ah(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yo=t,null}function Hh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m0()){case fa:return 1;case Bh:return 4;case Ko:case g0:return 16;case Vh:return 536870912;default:return 16}default:return 16}}var Jt=null,ma=null,Mo=null;function Kh(){if(Mo)return Mo;var t,e=ma,n=e.length,r,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return Mo=i.slice(t,1<r?1-r:void 0)}function To(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uo(){return!0}function jc(){return!1}function je(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?uo:jc,this.isPropagationStopped=jc,this}return q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),e}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=je(Pr),Hi=q({},Pr,{view:0,detail:0}),D0=je(Hi),ds,hs,Vr,El=q({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(ds=t.screenX-Vr.screenX,hs=t.screenY-Vr.screenY):hs=ds=0,Vr=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:hs}}),Jc=je(El),R0=q({},El,{dataTransfer:0}),P0=je(R0),z0=q({},Hi,{relatedTarget:0}),ps=je(z0),A0=q({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),I0=je(A0),F0=q({},Pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L0=je(F0),B0=q({},Pr,{data:0}),Hc=je(B0),V0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b0[t])?!!e[t]:!1}function ya(){return $0}var W0=q({},Hi,{key:function(t){if(t.key){var e=V0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=To(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(t){return t.type==="keypress"?To(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?To(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U0=je(W0),j0=q({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=je(j0),J0=q({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),H0=je(J0),K0=q({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=je(K0),q0=q({},El,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y0=je(q0),G0=[9,13,27,32],ka=Pt&&"CompositionEvent"in window,oi=null;Pt&&"documentMode"in document&&(oi=document.documentMode);var X0=Pt&&"TextEvent"in window&&!oi,Qh=Pt&&(!ka||oi&&8<oi&&11>=oi),Qc=String.fromCharCode(32),qc=!1;function qh(t,e){switch(t){case"keyup":return G0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var er=!1;function Z0(t,e){switch(t){case"compositionend":return Yh(e);case"keypress":return e.which!==32?null:(qc=!0,Qc);case"textInput":return t=e.data,t===Qc&&qc?null:t;default:return null}}function e1(t,e){if(er)return t==="compositionend"||!ka&&qh(t,e)?(t=Kh(),Mo=ma=Jt=null,er=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qh&&e.locale!=="ko"?null:e.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t1[t.type]:e==="textarea"}function Gh(t,e,n,r){Th(r),e=Go(e,"onChange"),0<e.length&&(n=new ga("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var li=null,Oi=null;function n1(t){up(t,0)}function Nl(t){var e=rr(t);if(wh(e))return t}function r1(t,e){if(t==="change")return e}var Xh=!1;if(Pt){var ms;if(Pt){var gs="oninput"in document;if(!gs){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),gs=typeof Gc.oninput=="function"}ms=gs}else ms=!1;Xh=ms&&(!document.documentMode||9<document.documentMode)}function Xc(){li&&(li.detachEvent("onpropertychange",Zh),Oi=li=null)}function Zh(t){if(t.propertyName==="value"&&Nl(Oi)){var e=[];Gh(e,Oi,t,ca(t)),zh(n1,e)}}function i1(t,e,n){t==="focusin"?(Xc(),li=e,Oi=n,li.attachEvent("onpropertychange",Zh)):t==="focusout"&&Xc()}function o1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nl(Oi)}function l1(t,e){if(t==="click")return Nl(e)}function s1(t,e){if(t==="input"||t==="change")return Nl(e)}function u1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:u1;function Mi(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bs.call(e,i)||!st(t[i],e[i]))return!1}return!0}function Zc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ef(t,e){var n=Zc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zc(n)}}function ep(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ep(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tp(){for(var t=window,e=jo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jo(t.document)}return e}function Sa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a1(t){var e=tp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ep(n.ownerDocument.documentElement,n)){if(r!==null&&Sa(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ef(n,o);var l=ef(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c1=Pt&&"documentMode"in document&&11>=document.documentMode,tr=null,ou=null,si=null,lu=!1;function tf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lu||tr==null||tr!==jo(r)||(r=tr,"selectionStart"in r&&Sa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),si&&Mi(si,r)||(si=r,r=Go(ou,"onSelect"),0<r.length&&(e=new ga("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tr)))}function ao(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nr={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},ys={},np={};Pt&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function Ol(t){if(ys[t])return ys[t];if(!nr[t])return t;var e=nr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in np)return ys[t]=e[n];return t}var rp=Ol("animationend"),ip=Ol("animationiteration"),op=Ol("animationstart"),lp=Ol("transitionend"),sp=new Map,nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(t,e){sp.set(t,e),Un(e,[t])}for(var ks=0;ks<nf.length;ks++){var Ss=nf[ks],f1=Ss.toLowerCase(),d1=Ss[0].toUpperCase()+Ss.slice(1);cn(f1,"on"+d1)}cn(rp,"onAnimationEnd");cn(ip,"onAnimationIteration");cn(op,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(lp,"onTransitionEnd");vr("onMouseEnter",["mouseout","mouseover"]);vr("onMouseLeave",["mouseout","mouseover"]);vr("onPointerEnter",["pointerout","pointerover"]);vr("onPointerLeave",["pointerout","pointerover"]);Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Un("onBeforeInput",["compositionend","keypress","textInput","paste"]);Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zr));function rf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,f0(r,e,void 0,t),t.currentTarget=null}function up(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var s=r[l],u=s.instance,a=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;rf(i,s,a),o=u}else for(l=0;l<r.length;l++){if(s=r[l],u=s.instance,a=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;rf(i,s,a),o=u}}}if(Ho)throw t=tu,Ho=!1,tu=null,t}function j(t,e){var n=e[fu];n===void 0&&(n=e[fu]=new Set);var r=t+"__bubble";n.has(r)||(ap(e,t,2,!1),n.add(r))}function vs(t,e,n){var r=0;e&&(r|=4),ap(n,t,r,e)}var co="_reactListening"+Math.random().toString(36).slice(2);function Ti(t){if(!t[co]){t[co]=!0,gh.forEach(function(n){n!=="selectionchange"&&(h1.has(n)||vs(n,!1,t),vs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[co]||(e[co]=!0,vs("selectionchange",!1,e))}}function ap(t,e,n,r){switch(Hh(e)){case 1:var i=M0;break;case 4:i=T0;break;default:i=pa}n=i.bind(null,e,n,t),i=void 0,!eu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ws(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;s!==null;){if(l=xn(s),l===null)return;if(u=l.tag,u===5||u===6){r=o=l;continue e}s=s.parentNode}}r=r.return}zh(function(){var a=o,c=ca(n),f=[];e:{var d=sp.get(t);if(d!==void 0){var p=ga,h=t;switch(t){case"keypress":if(To(n)===0)break e;case"keydown":case"keyup":p=U0;break;case"focusin":h="focus",p=ps;break;case"focusout":h="blur",p=ps;break;case"beforeblur":case"afterblur":p=ps;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H0;break;case rp:case ip:case op:p=I0;break;case lp:p=Q0;break;case"scroll":p=D0;break;case"wheel":p=Y0;break;case"copy":case"cut":case"paste":p=L0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Kc}var y=(e&4)!==0,S=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var m=a,k;m!==null;){k=m;var v=k.stateNode;if(k.tag===5&&v!==null&&(k=v,g!==null&&(v=xi(m,g),v!=null&&y.push(Di(m,v,k)))),S)break;m=m.return}0<y.length&&(d=new p(d,h,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Xs&&(h=n.relatedTarget||n.fromElement)&&(xn(h)||h[zt]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=a,h=h?xn(h):null,h!==null&&(S=jn(h),h!==S||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=a),p!==h)){if(y=Jc,v="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=Kc,v="onPointerLeave",g="onPointerEnter",m="pointer"),S=p==null?d:rr(p),k=h==null?d:rr(h),d=new y(v,m+"leave",p,n,c),d.target=S,d.relatedTarget=k,v=null,xn(c)===a&&(y=new y(g,m+"enter",h,n,c),y.target=k,y.relatedTarget=S,v=y),S=v,p&&h)t:{for(y=p,g=h,m=0,k=y;k;k=Jn(k))m++;for(k=0,v=g;v;v=Jn(v))k++;for(;0<m-k;)y=Jn(y),m--;for(;0<k-m;)g=Jn(g),k--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=Jn(y),g=Jn(g)}y=null}else y=null;p!==null&&of(f,d,p,y,!1),h!==null&&S!==null&&of(f,S,h,y,!0)}}e:{if(d=a?rr(a):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=r1;else if(Yc(d))if(Xh)E=s1;else{E=o1;var N=i1}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=l1);if(E&&(E=E(t,a))){Gh(f,E,n,c);break e}N&&N(t,d,a),t==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&Ks(d,"number",d.value)}switch(N=a?rr(a):window,t){case"focusin":(Yc(N)||N.contentEditable==="true")&&(tr=N,ou=a,si=null);break;case"focusout":si=ou=tr=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,tf(f,n,c);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":tf(f,n,c)}var D;if(ka)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else er?qh(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Qh&&n.locale!=="ko"&&(er||R!=="onCompositionStart"?R==="onCompositionEnd"&&er&&(D=Kh()):(Jt=c,ma="value"in Jt?Jt.value:Jt.textContent,er=!0)),N=Go(a,R),0<N.length&&(R=new Hc(R,t,null,n,c),f.push({event:R,listeners:N}),D?R.data=D:(D=Yh(n),D!==null&&(R.data=D)))),(D=X0?Z0(t,n):e1(t,n))&&(a=Go(a,"onBeforeInput"),0<a.length&&(c=new Hc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:a}),c.data=D))}up(f,e)})}function Di(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Go(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=xi(t,n),o!=null&&r.unshift(Di(t,o,i)),o=xi(t,e),o!=null&&r.push(Di(t,o,i))),t=t.return}return r}function Jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function of(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var s=n,u=s.alternate,a=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&a!==null&&(s=a,i?(u=xi(n,o),u!=null&&l.unshift(Di(n,u,s))):i||(u=xi(n,o),u!=null&&l.push(Di(n,u,s)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var p1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function lf(t){return(typeof t=="string"?t:""+t).replace(p1,`
`).replace(m1,"")}function fo(t,e,n){if(e=lf(e),lf(t)!==e&&n)throw Error(w(425))}function Xo(){}var su=null,uu=null;function au(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,y1=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(t){return sf.resolve(null).then(t).catch(k1)}:cu;function k1(t){setTimeout(function(){throw t})}function xs(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ni(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ni(e)}function Gt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zr=Math.random().toString(36).slice(2),ft="__reactFiber$"+zr,Ri="__reactProps$"+zr,zt="__reactContainer$"+zr,fu="__reactEvents$"+zr,S1="__reactListeners$"+zr,v1="__reactHandles$"+zr;function xn(t){var e=t[ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zt]||n[ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uf(t);t!==null;){if(n=t[ft])return n;t=uf(t)}return e}t=n,n=t.parentNode}return null}function Ki(t){return t=t[ft]||t[zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(w(33))}function Ml(t){return t[Ri]||null}var du=[],ir=-1;function fn(t){return{current:t}}function J(t){0>ir||(t.current=du[ir],du[ir]=null,ir--)}function W(t,e){ir++,du[ir]=t.current,t.current=e}var sn={},Se=fn(sn),Pe=fn(!1),Bn=sn;function wr(t,e){var n=t.type.contextTypes;if(!n)return sn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ze(t){return t=t.childContextTypes,t!=null}function Zo(){J(Pe),J(Se)}function af(t,e,n){if(Se.current!==sn)throw Error(w(168));W(Se,e),W(Pe,n)}function cp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(w(108,i0(t)||"Unknown",i));return q({},n,r)}function el(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sn,Bn=Se.current,W(Se,t),W(Pe,Pe.current),!0}function cf(t,e,n){var r=t.stateNode;if(!r)throw Error(w(169));n?(t=cp(t,e,Bn),r.__reactInternalMemoizedMergedChildContext=t,J(Pe),J(Se),W(Se,t)):J(Pe),W(Pe,n)}var Et=null,Tl=!1,Cs=!1;function fp(t){Et===null?Et=[t]:Et.push(t)}function w1(t){Tl=!0,fp(t)}function dn(){if(!Cs&&Et!==null){Cs=!0;var t=0,e=$;try{var n=Et;for($=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Et=null,Tl=!1}catch(i){throw Et!==null&&(Et=Et.slice(t+1)),Lh(fa,dn),i}finally{$=e,Cs=!1}}return null}var or=[],lr=0,tl=null,nl=0,He=[],Ke=0,Vn=null,Ot=1,Mt="";function kn(t,e){or[lr++]=nl,or[lr++]=tl,tl=t,nl=e}function dp(t,e,n){He[Ke++]=Ot,He[Ke++]=Mt,He[Ke++]=Vn,Vn=t;var r=Ot;t=Mt;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var o=32-ot(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Ot=1<<32-ot(e)+i|n<<i|r,Mt=o+t}else Ot=1<<o|n<<i|r,Mt=t}function va(t){t.return!==null&&(kn(t,1),dp(t,1,0))}function wa(t){for(;t===tl;)tl=or[--lr],or[lr]=null,nl=or[--lr],or[lr]=null;for(;t===Vn;)Vn=He[--Ke],He[Ke]=null,Mt=He[--Ke],He[Ke]=null,Ot=He[--Ke],He[Ke]=null}var be=null,Ve=null,H=!1,rt=null;function hp(t,e){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ff(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,be=t,Ve=Gt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,be=t,Ve=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vn!==null?{id:Ot,overflow:Mt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,be=t,Ve=null,!0):!1;default:return!1}}function hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pu(t){if(H){var e=Ve;if(e){var n=e;if(!ff(t,e)){if(hu(t))throw Error(w(418));e=Gt(n.nextSibling);var r=be;e&&ff(t,e)?hp(r,n):(t.flags=t.flags&-4097|2,H=!1,be=t)}}else{if(hu(t))throw Error(w(418));t.flags=t.flags&-4097|2,H=!1,be=t}}}function df(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;be=t}function ho(t){if(t!==be)return!1;if(!H)return df(t),H=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!au(t.type,t.memoizedProps)),e&&(e=Ve)){if(hu(t))throw pp(),Error(w(418));for(;e;)hp(t,e),e=Gt(e.nextSibling)}if(df(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ve=Gt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ve=null}}else Ve=be?Gt(t.stateNode.nextSibling):null;return!0}function pp(){for(var t=Ve;t;)t=Gt(t.nextSibling)}function xr(){Ve=be=null,H=!1}function xa(t){rt===null?rt=[t]:rt.push(t)}var x1=Lt.ReactCurrentBatchConfig;function tt(t,e){if(t&&t.defaultProps){e=q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var rl=fn(null),il=null,sr=null,Ca=null;function Ea(){Ca=sr=il=null}function Na(t){var e=rl.current;J(rl),t._currentValue=e}function mu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pr(t,e){il=t,Ca=sr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function Xe(t){var e=t._currentValue;if(Ca!==t)if(t={context:t,memoizedValue:e,next:null},sr===null){if(il===null)throw Error(w(308));sr=t,il.dependencies={lanes:0,firstContext:t}}else sr=sr.next=t;return e}var Cn=null;function Oa(t){Cn===null?Cn=[t]:Cn.push(t)}function mp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Oa(e)):(n.next=i.next,i.next=n),e.interleaved=n,At(t,r)}function At(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bt=!1;function Ma(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,At(t,n)}return i=r.interleaved,i===null?(e.next=e,Oa(r)):(e.next=i.next,i.next=e),r.interleaved=e,At(t,n)}function Do(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,da(t,n)}}function hf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ol(t,e,n,r){var i=t.updateQueue;bt=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,a=u.next;u.next=null,l===null?o=a:l.next=a,l=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==l&&(s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;l=0,c=a=u=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=t,y=s;switch(d=e,p=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,d=typeof h=="function"?h.call(p,f,d):h,d==null)break e;f=q({},f,d);break e;case 2:bt=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(a=c=p,u=f):c=c.next=p,l|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);bn|=l,t.lanes=l,t.memoizedState=f}}function pf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(w(191,i));i.call(r)}}}var yp=new mh.Component().refs;function gu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dl={isMounted:function(t){return(t=t._reactInternals)?jn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xe(),i=en(t),o=Tt(r,i);o.payload=e,n!=null&&(o.callback=n),e=Xt(t,o,i),e!==null&&(lt(e,t,i,r),Do(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xe(),i=en(t),o=Tt(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Xt(t,o,i),e!==null&&(lt(e,t,i,r),Do(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xe(),r=en(t),i=Tt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xt(t,i,r),e!==null&&(lt(e,t,r,n),Do(e,t,r))}};function mf(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Mi(n,r)||!Mi(i,o):!0}function kp(t,e,n){var r=!1,i=sn,o=e.contextType;return typeof o=="object"&&o!==null?o=Xe(o):(i=ze(e)?Bn:Se.current,r=e.contextTypes,o=(r=r!=null)?wr(t,i):sn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function gf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dl.enqueueReplaceState(e,e.state,null)}function yu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yp,Ma(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Xe(o):(o=ze(e)?Bn:Se.current,i.context=wr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gu(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dl.enqueueReplaceState(i,i.state,null),ol(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _r(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var r=n.stateNode}if(!r)throw Error(w(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var s=i.refs;s===yp&&(s=i.refs={}),l===null?delete s[o]:s[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,t))}return t}function po(t,e){throw t=Object.prototype.toString.call(e),Error(w(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yf(t){var e=t._init;return e(t._payload)}function Sp(t){function e(g,m){if(t){var k=g.deletions;k===null?(g.deletions=[m],g.flags|=16):k.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=tn(g,m),g.index=0,g.sibling=null,g}function o(g,m,k){return g.index=k,t?(k=g.alternate,k!==null?(k=k.index,k<m?(g.flags|=2,m):k):(g.flags|=2,m)):(g.flags|=1048576,m)}function l(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,m,k,v){return m===null||m.tag!==6?(m=Rs(k,g.mode,v),m.return=g,m):(m=i(m,k),m.return=g,m)}function u(g,m,k,v){var E=k.type;return E===Zn?c(g,m,k.props.children,v,k.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_t&&yf(E)===m.type)?(v=i(m,k.props),v.ref=_r(g,m,k),v.return=g,v):(v=Fo(k.type,k.key,k.props,null,g.mode,v),v.ref=_r(g,m,k),v.return=g,v)}function a(g,m,k,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==k.containerInfo||m.stateNode.implementation!==k.implementation?(m=Ps(k,g.mode,v),m.return=g,m):(m=i(m,k.children||[]),m.return=g,m)}function c(g,m,k,v,E){return m===null||m.tag!==7?(m=An(k,g.mode,v,E),m.return=g,m):(m=i(m,k),m.return=g,m)}function f(g,m,k){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Rs(""+m,g.mode,k),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case no:return k=Fo(m.type,m.key,m.props,null,g.mode,k),k.ref=_r(g,null,m),k.return=g,k;case Xn:return m=Ps(m,g.mode,k),m.return=g,m;case _t:var v=m._init;return f(g,v(m._payload),k)}if(Gr(m)||Ir(m))return m=An(m,g.mode,k,null),m.return=g,m;po(g,m)}return null}function d(g,m,k,v){var E=m!==null?m.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return E!==null?null:s(g,m,""+k,v);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case no:return k.key===E?u(g,m,k,v):null;case Xn:return k.key===E?a(g,m,k,v):null;case _t:return E=k._init,d(g,m,E(k._payload),v)}if(Gr(k)||Ir(k))return E!==null?null:c(g,m,k,v,null);po(g,k)}return null}function p(g,m,k,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(k)||null,s(m,g,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case no:return g=g.get(v.key===null?k:v.key)||null,u(m,g,v,E);case Xn:return g=g.get(v.key===null?k:v.key)||null,a(m,g,v,E);case _t:var N=v._init;return p(g,m,k,N(v._payload),E)}if(Gr(v)||Ir(v))return g=g.get(k)||null,c(m,g,v,E,null);po(m,v)}return null}function h(g,m,k,v){for(var E=null,N=null,D=m,R=m=0,P=null;D!==null&&R<k.length;R++){D.index>R?(P=D,D=null):P=D.sibling;var z=d(g,D,k[R],v);if(z===null){D===null&&(D=P);break}t&&D&&z.alternate===null&&e(g,D),m=o(z,m,R),N===null?E=z:N.sibling=z,N=z,D=P}if(R===k.length)return n(g,D),H&&kn(g,R),E;if(D===null){for(;R<k.length;R++)D=f(g,k[R],v),D!==null&&(m=o(D,m,R),N===null?E=D:N.sibling=D,N=D);return H&&kn(g,R),E}for(D=r(g,D);R<k.length;R++)P=p(D,g,R,k[R],v),P!==null&&(t&&P.alternate!==null&&D.delete(P.key===null?R:P.key),m=o(P,m,R),N===null?E=P:N.sibling=P,N=P);return t&&D.forEach(function(de){return e(g,de)}),H&&kn(g,R),E}function y(g,m,k,v){var E=Ir(k);if(typeof E!="function")throw Error(w(150));if(k=E.call(k),k==null)throw Error(w(151));for(var N=E=null,D=m,R=m=0,P=null,z=k.next();D!==null&&!z.done;R++,z=k.next()){D.index>R?(P=D,D=null):P=D.sibling;var de=d(g,D,z.value,v);if(de===null){D===null&&(D=P);break}t&&D&&de.alternate===null&&e(g,D),m=o(de,m,R),N===null?E=de:N.sibling=de,N=de,D=P}if(z.done)return n(g,D),H&&kn(g,R),E;if(D===null){for(;!z.done;R++,z=k.next())z=f(g,z.value,v),z!==null&&(m=o(z,m,R),N===null?E=z:N.sibling=z,N=z);return H&&kn(g,R),E}for(D=r(g,D);!z.done;R++,z=k.next())z=p(D,g,R,z.value,v),z!==null&&(t&&z.alternate!==null&&D.delete(z.key===null?R:z.key),m=o(z,m,R),N===null?E=z:N.sibling=z,N=z);return t&&D.forEach(function(pn){return e(g,pn)}),H&&kn(g,R),E}function S(g,m,k,v){if(typeof k=="object"&&k!==null&&k.type===Zn&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case no:e:{for(var E=k.key,N=m;N!==null;){if(N.key===E){if(E=k.type,E===Zn){if(N.tag===7){n(g,N.sibling),m=i(N,k.props.children),m.return=g,g=m;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_t&&yf(E)===N.type){n(g,N.sibling),m=i(N,k.props),m.ref=_r(g,N,k),m.return=g,g=m;break e}n(g,N);break}else e(g,N);N=N.sibling}k.type===Zn?(m=An(k.props.children,g.mode,v,k.key),m.return=g,g=m):(v=Fo(k.type,k.key,k.props,null,g.mode,v),v.ref=_r(g,m,k),v.return=g,g=v)}return l(g);case Xn:e:{for(N=k.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===k.containerInfo&&m.stateNode.implementation===k.implementation){n(g,m.sibling),m=i(m,k.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Ps(k,g.mode,v),m.return=g,g=m}return l(g);case _t:return N=k._init,S(g,m,N(k._payload),v)}if(Gr(k))return h(g,m,k,v);if(Ir(k))return y(g,m,k,v);po(g,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,k),m.return=g,g=m):(n(g,m),m=Rs(k,g.mode,v),m.return=g,g=m),l(g)):n(g,m)}return S}var Cr=Sp(!0),vp=Sp(!1),Qi={},mt=fn(Qi),Pi=fn(Qi),zi=fn(Qi);function En(t){if(t===Qi)throw Error(w(174));return t}function Ta(t,e){switch(W(zi,e),W(Pi,t),W(mt,Qi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qs(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qs(e,t)}J(mt),W(mt,e)}function Er(){J(mt),J(Pi),J(zi)}function wp(t){En(zi.current);var e=En(mt.current),n=qs(e,t.type);e!==n&&(W(Pi,t),W(mt,n))}function Da(t){Pi.current===t&&(J(mt),J(Pi))}var K=fn(0);function ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Es=[];function Ra(){for(var t=0;t<Es.length;t++)Es[t]._workInProgressVersionPrimary=null;Es.length=0}var Ro=Lt.ReactCurrentDispatcher,Ns=Lt.ReactCurrentBatchConfig,_n=0,Q=null,ee=null,ie=null,sl=!1,ui=!1,Ai=0,C1=0;function he(){throw Error(w(321))}function Pa(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!st(t[n],e[n]))return!1;return!0}function za(t,e,n,r,i,o){if(_n=o,Q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ro.current=t===null||t.memoizedState===null?M1:T1,t=n(r,i),ui){o=0;do{if(ui=!1,Ai=0,25<=o)throw Error(w(301));o+=1,ie=ee=null,e.updateQueue=null,Ro.current=D1,t=n(r,i)}while(ui)}if(Ro.current=ul,e=ee!==null&&ee.next!==null,_n=0,ie=ee=Q=null,sl=!1,e)throw Error(w(300));return t}function Aa(){var t=Ai!==0;return Ai=0,t}function ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?Q.memoizedState=ie=t:ie=ie.next=t,ie}function Ze(){if(ee===null){var t=Q.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var e=ie===null?Q.memoizedState:ie.next;if(e!==null)ie=e,ee=t;else{if(t===null)throw Error(w(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},ie===null?Q.memoizedState=ie=t:ie=ie.next=t}return ie}function Ii(t,e){return typeof e=="function"?e(t):e}function Os(t){var e=Ze(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var r=ee,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,u=null,a=o;do{var c=a.lane;if((_n&c)===c)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:t(r,a.action);else{var f={lane:c,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(s=u=f,l=r):u=u.next=f,Q.lanes|=c,bn|=c}a=a.next}while(a!==null&&a!==o);u===null?l=r:u.next=s,st(r,e.memoizedState)||(Re=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Q.lanes|=o,bn|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ms(t){var e=Ze(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);st(o,e.memoizedState)||(Re=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function xp(){}function Cp(t,e){var n=Q,r=Ze(),i=e(),o=!st(r.memoizedState,i);if(o&&(r.memoizedState=i,Re=!0),r=r.queue,Ia(Op.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Fi(9,Np.bind(null,n,r,i,e),void 0,null),oe===null)throw Error(w(349));_n&30||Ep(n,e,i)}return i}function Ep(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Np(t,e,n,r){e.value=n,e.getSnapshot=r,Mp(e)&&Tp(t)}function Op(t,e,n){return n(function(){Mp(e)&&Tp(t)})}function Mp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!st(t,n)}catch{return!0}}function Tp(t){var e=At(t,1);e!==null&&lt(e,t,1,-1)}function kf(t){var e=ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},e.queue=t,t=t.dispatch=O1.bind(null,Q,t),[e.memoizedState,t]}function Fi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dp(){return Ze().memoizedState}function Po(t,e,n,r){var i=ct();Q.flags|=t,i.memoizedState=Fi(1|e,n,void 0,r===void 0?null:r)}function Rl(t,e,n,r){var i=Ze();r=r===void 0?null:r;var o=void 0;if(ee!==null){var l=ee.memoizedState;if(o=l.destroy,r!==null&&Pa(r,l.deps)){i.memoizedState=Fi(e,n,o,r);return}}Q.flags|=t,i.memoizedState=Fi(1|e,n,o,r)}function Sf(t,e){return Po(8390656,8,t,e)}function Ia(t,e){return Rl(2048,8,t,e)}function Rp(t,e){return Rl(4,2,t,e)}function Pp(t,e){return Rl(4,4,t,e)}function zp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ap(t,e,n){return n=n!=null?n.concat([t]):null,Rl(4,4,zp.bind(null,e,t),n)}function Fa(){}function Ip(t,e){var n=Ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Fp(t,e){var n=Ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Lp(t,e,n){return _n&21?(st(n,e)||(n=_h(),Q.lanes|=n,bn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=n)}function E1(t,e){var n=$;$=n!==0&&4>n?n:4,t(!0);var r=Ns.transition;Ns.transition={};try{t(!1),e()}finally{$=n,Ns.transition=r}}function Bp(){return Ze().memoizedState}function N1(t,e,n){var r=en(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vp(t))_p(e,n);else if(n=mp(t,e,n,r),n!==null){var i=xe();lt(n,t,r,i),bp(n,e,r)}}function O1(t,e,n){var r=en(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vp(t))_p(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,st(s,l)){var u=e.interleaved;u===null?(i.next=i,Oa(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=mp(t,e,i,r),n!==null&&(i=xe(),lt(n,t,r,i),bp(n,e,r))}}function Vp(t){var e=t.alternate;return t===Q||e!==null&&e===Q}function _p(t,e){ui=sl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,da(t,n)}}var ul={readContext:Xe,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},M1={readContext:Xe,useCallback:function(t,e){return ct().memoizedState=[t,e===void 0?null:e],t},useContext:Xe,useEffect:Sf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Po(4194308,4,zp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Po(4194308,4,t,e)},useInsertionEffect:function(t,e){return Po(4,2,t,e)},useMemo:function(t,e){var n=ct();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ct();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=N1.bind(null,Q,t),[r.memoizedState,t]},useRef:function(t){var e=ct();return t={current:t},e.memoizedState=t},useState:kf,useDebugValue:Fa,useDeferredValue:function(t){return ct().memoizedState=t},useTransition:function(){var t=kf(!1),e=t[0];return t=E1.bind(null,t[1]),ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Q,i=ct();if(H){if(n===void 0)throw Error(w(407));n=n()}else{if(n=e(),oe===null)throw Error(w(349));_n&30||Ep(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Sf(Op.bind(null,r,o,t),[t]),r.flags|=2048,Fi(9,Np.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ct(),e=oe.identifierPrefix;if(H){var n=Mt,r=Ot;n=(r&~(1<<32-ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ai++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=C1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},T1={readContext:Xe,useCallback:Ip,useContext:Xe,useEffect:Ia,useImperativeHandle:Ap,useInsertionEffect:Rp,useLayoutEffect:Pp,useMemo:Fp,useReducer:Os,useRef:Dp,useState:function(){return Os(Ii)},useDebugValue:Fa,useDeferredValue:function(t){var e=Ze();return Lp(e,ee.memoizedState,t)},useTransition:function(){var t=Os(Ii)[0],e=Ze().memoizedState;return[t,e]},useMutableSource:xp,useSyncExternalStore:Cp,useId:Bp,unstable_isNewReconciler:!1},D1={readContext:Xe,useCallback:Ip,useContext:Xe,useEffect:Ia,useImperativeHandle:Ap,useInsertionEffect:Rp,useLayoutEffect:Pp,useMemo:Fp,useReducer:Ms,useRef:Dp,useState:function(){return Ms(Ii)},useDebugValue:Fa,useDeferredValue:function(t){var e=Ze();return ee===null?e.memoizedState=t:Lp(e,ee.memoizedState,t)},useTransition:function(){var t=Ms(Ii)[0],e=Ze().memoizedState;return[t,e]},useMutableSource:xp,useSyncExternalStore:Cp,useId:Bp,unstable_isNewReconciler:!1};function Nr(t,e){try{var n="",r=e;do n+=r0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ts(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ku(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R1=typeof WeakMap=="function"?WeakMap:Map;function $p(t,e,n){n=Tt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cl||(cl=!0,Tu=r),ku(t,e)},n}function Wp(t,e,n){n=Tt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ku(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ku(t,e),typeof r!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function vf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=j1.bind(null,t,e,n),e.then(t,t))}function wf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tt(-1,1),e.tag=2,Xt(n,e,1))),n.lanes|=1),t)}var P1=Lt.ReactCurrentOwner,Re=!1;function ve(t,e,n,r){e.child=t===null?vp(e,null,n,r):Cr(e,t.child,n,r)}function Cf(t,e,n,r,i){n=n.render;var o=e.ref;return pr(e,i),r=za(t,e,n,r,o,i),n=Aa(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,It(t,e,i)):(H&&n&&va(e),e.flags|=1,ve(t,e,r,i),e.child)}function Ef(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ua(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Up(t,e,o,r,i)):(t=Fo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mi,n(l,r)&&t.ref===e.ref)return It(t,e,i)}return e.flags|=1,t=tn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Up(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Mi(o,r)&&t.ref===e.ref)if(Re=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,It(t,e,i)}return Su(t,e,n,r,i)}function jp(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(ar,Be),Be|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,W(ar,Be),Be|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,W(ar,Be),Be|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,W(ar,Be),Be|=r;return ve(t,e,i,n),e.child}function Jp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Su(t,e,n,r,i){var o=ze(n)?Bn:Se.current;return o=wr(e,o),pr(e,i),n=za(t,e,n,r,o,i),r=Aa(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,It(t,e,i)):(H&&r&&va(e),e.flags|=1,ve(t,e,n,i),e.child)}function Nf(t,e,n,r,i){if(ze(n)){var o=!0;el(e)}else o=!1;if(pr(e,i),e.stateNode===null)zo(t,e),kp(e,n,r),yu(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,s=e.memoizedProps;l.props=s;var u=l.context,a=n.contextType;typeof a=="object"&&a!==null?a=Xe(a):(a=ze(n)?Bn:Se.current,a=wr(e,a));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||u!==a)&&gf(e,l,r,a),bt=!1;var d=e.memoizedState;l.state=d,ol(e,r,l,i),u=e.memoizedState,s!==r||d!==u||Pe.current||bt?(typeof c=="function"&&(gu(e,n,c,r),u=e.memoizedState),(s=bt||mf(e,n,s,r,d,u,a))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),l.props=r,l.state=u,l.context=a,r=s):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,gp(t,e),s=e.memoizedProps,a=e.type===e.elementType?s:tt(e.type,s),l.props=a,f=e.pendingProps,d=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=Xe(u):(u=ze(n)?Bn:Se.current,u=wr(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==f||d!==u)&&gf(e,l,r,u),bt=!1,d=e.memoizedState,l.state=d,ol(e,r,l,i);var h=e.memoizedState;s!==f||d!==h||Pe.current||bt?(typeof p=="function"&&(gu(e,n,p,r),h=e.memoizedState),(a=bt||mf(e,n,a,r,d,h,u)||!1)?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,h,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,h,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),l.props=r,l.state=h,l.context=u,r=a):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return vu(t,e,n,r,o,i)}function vu(t,e,n,r,i,o){Jp(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&cf(e,n,!1),It(t,e,o);r=e.stateNode,P1.current=e;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Cr(e,t.child,null,o),e.child=Cr(e,null,s,o)):ve(t,e,s,o),e.memoizedState=r.state,i&&cf(e,n,!0),e.child}function Hp(t){var e=t.stateNode;e.pendingContext?af(t,e.pendingContext,e.pendingContext!==e.context):e.context&&af(t,e.context,!1),Ta(t,e.containerInfo)}function Of(t,e,n,r,i){return xr(),xa(i),e.flags|=256,ve(t,e,n,r),e.child}var wu={dehydrated:null,treeContext:null,retryLane:0};function xu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kp(t,e,n){var r=e.pendingProps,i=K.current,o=!1,l=(e.flags&128)!==0,s;if((s=l)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),W(K,i&1),t===null)return pu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Al(l,r,0,null),t=An(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=xu(n),e.memoizedState=wu,t):La(e,l));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return z1(t,e,l,r,s,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=tn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=tn(s,o):(o=An(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?xu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=wu,r}return o=t.child,t=o.sibling,r=tn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function La(t,e){return e=Al({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mo(t,e,n,r){return r!==null&&xa(r),Cr(e,t.child,null,n),t=La(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function z1(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Ts(Error(w(422))),mo(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Al({mode:"visible",children:r.children},i,0,null),o=An(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Cr(e,t.child,null,l),e.child.memoizedState=xu(l),e.memoizedState=wu,o);if(!(e.mode&1))return mo(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(w(419)),r=Ts(o,r,void 0),mo(t,e,l,r)}if(s=(l&t.childLanes)!==0,Re||s){if(r=oe,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,At(t,i),lt(r,t,i,-1))}return Wa(),r=Ts(Error(w(421))),mo(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ve=Gt(i.nextSibling),be=e,H=!0,rt=null,t!==null&&(He[Ke++]=Ot,He[Ke++]=Mt,He[Ke++]=Vn,Ot=t.id,Mt=t.overflow,Vn=e),e=La(e,r.children),e.flags|=4096,e)}function Mf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mu(t.return,e,n)}function Ds(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Qp(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ve(t,e,r.children,n),r=K.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mf(t,n,e);else if(t.tag===19)Mf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(W(K,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ll(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ds(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ll(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ds(e,!0,n,null,o);break;case"together":Ds(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function It(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(w(153));if(e.child!==null){for(t=e.child,n=tn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function A1(t,e,n){switch(e.tag){case 3:Hp(e),xr();break;case 5:wp(e);break;case 1:ze(e.type)&&el(e);break;case 4:Ta(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;W(rl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(W(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?Kp(t,e,n):(W(K,K.current&1),t=It(t,e,n),t!==null?t.sibling:null);W(K,K.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Qp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),W(K,K.current),r)break;return null;case 22:case 23:return e.lanes=0,jp(t,e,n)}return It(t,e,n)}var qp,Cu,Yp,Gp;qp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cu=function(){};Yp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,En(mt.current);var o=null;switch(n){case"input":i=Js(t,i),r=Js(t,r),o=[];break;case"select":i=q({},i,{value:void 0}),r=q({},r,{value:void 0}),o=[];break;case"textarea":i=Qs(t,i),r=Qs(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xo)}Ys(n,r);var l;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var s=i[a];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(vi.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in r){var u=r[a];if(s=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==s&&(u!=null||s!=null))if(a==="style")if(s){for(l in s)!s.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&s[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(vi.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&j("scroll",t),o||s===u||(o=[])):(o=o||[]).push(a,u))}n&&(o=o||[]).push("style",n);var a=o;(e.updateQueue=a)&&(e.flags|=4)}};Gp=function(t,e,n,r){n!==r&&(e.flags|=4)};function br(t,e){if(!H)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function I1(t,e,n){var r=e.pendingProps;switch(wa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return ze(e.type)&&Zo(),pe(e),null;case 3:return r=e.stateNode,Er(),J(Pe),J(Se),Ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ho(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rt!==null&&(Pu(rt),rt=null))),Cu(t,e),pe(e),null;case 5:Da(e);var i=En(zi.current);if(n=e.type,t!==null&&e.stateNode!=null)Yp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(w(166));return pe(e),null}if(t=En(mt.current),ho(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ft]=e,r[Ri]=o,t=(e.mode&1)!==0,n){case"dialog":j("cancel",r),j("close",r);break;case"iframe":case"object":case"embed":j("load",r);break;case"video":case"audio":for(i=0;i<Zr.length;i++)j(Zr[i],r);break;case"source":j("error",r);break;case"img":case"image":case"link":j("error",r),j("load",r);break;case"details":j("toggle",r);break;case"input":Fc(r,o),j("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},j("invalid",r);break;case"textarea":Bc(r,o),j("invalid",r)}Ys(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&fo(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&fo(r.textContent,s,t),i=["children",""+s]):vi.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&j("scroll",r)}switch(n){case"input":ro(r),Lc(r,o,!0);break;case"textarea":ro(r),Vc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Xo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Eh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[ft]=e,t[Ri]=r,qp(t,e,!1,!1),e.stateNode=t;e:{switch(l=Gs(n,r),n){case"dialog":j("cancel",t),j("close",t),i=r;break;case"iframe":case"object":case"embed":j("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zr.length;i++)j(Zr[i],t);i=r;break;case"source":j("error",t),i=r;break;case"img":case"image":case"link":j("error",t),j("load",t),i=r;break;case"details":j("toggle",t),i=r;break;case"input":Fc(t,r),i=Js(t,r),j("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=q({},r,{value:void 0}),j("invalid",t);break;case"textarea":Bc(t,r),i=Qs(t,r),j("invalid",t);break;default:i=r}Ys(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?Mh(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Nh(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wi(t,u):typeof u=="number"&&wi(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vi.hasOwnProperty(o)?u!=null&&o==="onScroll"&&j("scroll",t):u!=null&&la(t,o,u,l))}switch(n){case"input":ro(t),Lc(t,r,!1);break;case"textarea":ro(t),Vc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ln(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?cr(t,!!r.multiple,o,!1):r.defaultValue!=null&&cr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pe(e),null;case 6:if(t&&e.stateNode!=null)Gp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(w(166));if(n=En(zi.current),En(mt.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[ft]=e,(o=r.nodeValue!==n)&&(t=be,t!==null))switch(t.tag){case 3:fo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fo(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=e,e.stateNode=r}return pe(e),null;case 13:if(J(K),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(H&&Ve!==null&&e.mode&1&&!(e.flags&128))pp(),xr(),e.flags|=98560,o=!1;else if(o=ho(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(w(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(w(317));o[ft]=e}else xr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pe(e),o=!1}else rt!==null&&(Pu(rt),rt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?te===0&&(te=3):Wa())),e.updateQueue!==null&&(e.flags|=4),pe(e),null);case 4:return Er(),Cu(t,e),t===null&&Ti(e.stateNode.containerInfo),pe(e),null;case 10:return Na(e.type._context),pe(e),null;case 17:return ze(e.type)&&Zo(),pe(e),null;case 19:if(J(K),o=e.memoizedState,o===null)return pe(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)br(o,!1);else{if(te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ll(t),l!==null){for(e.flags|=128,br(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return W(K,K.current&1|2),e.child}t=t.sibling}o.tail!==null&&X()>Or&&(e.flags|=128,r=!0,br(o,!1),e.lanes=4194304)}else{if(!r)if(t=ll(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),br(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!H)return pe(e),null}else 2*X()-o.renderingStartTime>Or&&n!==1073741824&&(e.flags|=128,r=!0,br(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=X(),e.sibling=null,n=K.current,W(K,r?n&1|2:n&1),e):(pe(e),null);case 22:case 23:return $a(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Be&1073741824&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),null;case 24:return null;case 25:return null}throw Error(w(156,e.tag))}function F1(t,e){switch(wa(e),e.tag){case 1:return ze(e.type)&&Zo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Er(),J(Pe),J(Se),Ra(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Da(e),null;case 13:if(J(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(w(340));xr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(K),null;case 4:return Er(),null;case 10:return Na(e.type._context),null;case 22:case 23:return $a(),null;case 24:return null;default:return null}}var go=!1,ge=!1,L1=typeof WeakSet=="function"?WeakSet:Set,M=null;function ur(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(t,e,r)}else n.current=null}function Eu(t,e,n){try{n()}catch(r){Y(t,e,r)}}var Tf=!1;function B1(t,e){if(su=qo,t=tp(),Sa(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,u=-1,a=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=l+i),f!==o||r!==0&&f.nodeType!==3||(u=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++a===i&&(s=l),d===o&&++c===r&&(u=l),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(uu={focusedElem:t,selectionRange:n},qo=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,S=h.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:tt(e.type,y),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(v){Y(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return h=Tf,Tf=!1,h}function ai(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Eu(e,n,o)}i=i.next}while(i!==r)}}function Pl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xp(t){var e=t.alternate;e!==null&&(t.alternate=null,Xp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ft],delete e[Ri],delete e[fu],delete e[S1],delete e[v1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zp(t){return t.tag===5||t.tag===3||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ou(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xo));else if(r!==4&&(t=t.child,t!==null))for(Ou(t,e,n),t=t.sibling;t!==null;)Ou(t,e,n),t=t.sibling}function Mu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mu(t,e,n),t=t.sibling;t!==null;)Mu(t,e,n),t=t.sibling}var ue=null,nt=!1;function Bt(t,e,n){for(n=n.child;n!==null;)em(t,e,n),n=n.sibling}function em(t,e,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Cl,n)}catch{}switch(n.tag){case 5:ge||ur(n,e);case 6:var r=ue,i=nt;ue=null,Bt(t,e,n),ue=r,nt=i,ue!==null&&(nt?(t=ue,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(nt?(t=ue,n=n.stateNode,t.nodeType===8?xs(t.parentNode,n):t.nodeType===1&&xs(t,n),Ni(t)):xs(ue,n.stateNode));break;case 4:r=ue,i=nt,ue=n.stateNode.containerInfo,nt=!0,Bt(t,e,n),ue=r,nt=i;break;case 0:case 11:case 14:case 15:if(!ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Eu(n,e,l),i=i.next}while(i!==r)}Bt(t,e,n);break;case 1:if(!ge&&(ur(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Y(n,e,s)}Bt(t,e,n);break;case 21:Bt(t,e,n);break;case 22:n.mode&1?(ge=(r=ge)||n.memoizedState!==null,Bt(t,e,n),ge=r):Bt(t,e,n);break;default:Bt(t,e,n)}}function Rf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new L1),e.forEach(function(r){var i=H1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,s=l;e:for(;s!==null;){switch(s.tag){case 5:ue=s.stateNode,nt=!1;break e;case 3:ue=s.stateNode.containerInfo,nt=!0;break e;case 4:ue=s.stateNode.containerInfo,nt=!0;break e}s=s.return}if(ue===null)throw Error(w(160));em(o,l,i),ue=null,nt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(a){Y(i,e,a)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tm(e,t),e=e.sibling}function tm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(et(e,t),at(t),r&4){try{ai(3,t,t.return),Pl(3,t)}catch(y){Y(t,t.return,y)}try{ai(5,t,t.return)}catch(y){Y(t,t.return,y)}}break;case 1:et(e,t),at(t),r&512&&n!==null&&ur(n,n.return);break;case 5:if(et(e,t),at(t),r&512&&n!==null&&ur(n,n.return),t.flags&32){var i=t.stateNode;try{wi(i,"")}catch(y){Y(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&xh(i,o),Gs(s,l);var a=Gs(s,o);for(l=0;l<u.length;l+=2){var c=u[l],f=u[l+1];c==="style"?Mh(i,f):c==="dangerouslySetInnerHTML"?Nh(i,f):c==="children"?wi(i,f):la(i,c,f,a)}switch(s){case"input":Hs(i,o);break;case"textarea":Ch(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?cr(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?cr(i,!!o.multiple,o.defaultValue,!0):cr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ri]=o}catch(y){Y(t,t.return,y)}}break;case 6:if(et(e,t),at(t),r&4){if(t.stateNode===null)throw Error(w(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Y(t,t.return,y)}}break;case 3:if(et(e,t),at(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ni(e.containerInfo)}catch(y){Y(t,t.return,y)}break;case 4:et(e,t),at(t);break;case 13:et(e,t),at(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(_a=X())),r&4&&Rf(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ge=(a=ge)||c,et(e,t),ge=a):et(e,t),at(t),r&8192){if(a=t.memoizedState!==null,(t.stateNode.isHidden=a)&&!c&&t.mode&1)for(M=t,c=t.child;c!==null;){for(f=M=c;M!==null;){switch(d=M,p=d.child,d.tag){case 0:case 11:case 14:case 15:ai(4,d,d.return);break;case 1:ur(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(y){Y(r,n,y)}}break;case 5:ur(d,d.return);break;case 22:if(d.memoizedState!==null){zf(f);continue}}p!==null?(p.return=d,M=p):zf(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,a?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,u=f.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Oh("display",l))}catch(y){Y(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=a?"":f.memoizedProps}catch(y){Y(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:et(e,t),at(t),r&4&&Rf(t);break;case 21:break;default:et(e,t),at(t)}}function at(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zp(n)){var r=n;break e}n=n.return}throw Error(w(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wi(i,""),r.flags&=-33);var o=Df(t);Mu(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Df(t);Ou(t,s,l);break;default:throw Error(w(161))}}catch(u){Y(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V1(t,e,n){M=t,nm(t)}function nm(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var i=M,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||go;if(!l){var s=i.alternate,u=s!==null&&s.memoizedState!==null||ge;s=go;var a=ge;if(go=l,(ge=u)&&!a)for(M=i;M!==null;)l=M,u=l.child,l.tag===22&&l.memoizedState!==null?Af(i):u!==null?(u.return=l,M=u):Af(i);for(;o!==null;)M=o,nm(o),o=o.sibling;M=i,go=s,ge=a}Pf(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,M=o):Pf(t)}}function Pf(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||Pl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ge)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&pf(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pf(e,l,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var a=e.alternate;if(a!==null){var c=a.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ni(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}ge||e.flags&512&&Nu(e)}catch(d){Y(e,e.return,d)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function zf(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Af(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pl(4,e)}catch(u){Y(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Y(e,i,u)}}var o=e.return;try{Nu(e)}catch(u){Y(e,o,u)}break;case 5:var l=e.return;try{Nu(e)}catch(u){Y(e,l,u)}}}catch(u){Y(e,e.return,u)}if(e===t){M=null;break}var s=e.sibling;if(s!==null){s.return=e.return,M=s;break}M=e.return}}var _1=Math.ceil,al=Lt.ReactCurrentDispatcher,Ba=Lt.ReactCurrentOwner,Ye=Lt.ReactCurrentBatchConfig,V=0,oe=null,Z=null,ce=0,Be=0,ar=fn(0),te=0,Li=null,bn=0,zl=0,Va=0,ci=null,Te=null,_a=0,Or=1/0,vt=null,cl=!1,Tu=null,Zt=null,yo=!1,Ht=null,fl=0,fi=0,Du=null,Ao=-1,Io=0;function xe(){return V&6?X():Ao!==-1?Ao:Ao=X()}function en(t){return t.mode&1?V&2&&ce!==0?ce&-ce:x1.transition!==null?(Io===0&&(Io=_h()),Io):(t=$,t!==0||(t=window.event,t=t===void 0?16:Hh(t.type)),t):1}function lt(t,e,n,r){if(50<fi)throw fi=0,Du=null,Error(w(185));Ji(t,n,r),(!(V&2)||t!==oe)&&(t===oe&&(!(V&2)&&(zl|=n),te===4&&Ut(t,ce)),Ae(t,r),n===1&&V===0&&!(e.mode&1)&&(Or=X()+500,Tl&&dn()))}function Ae(t,e){var n=t.callbackNode;x0(t,e);var r=Qo(t,t===oe?ce:0);if(r===0)n!==null&&$c(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$c(n),e===1)t.tag===0?w1(If.bind(null,t)):fp(If.bind(null,t)),y1(function(){!(V&6)&&dn()}),n=null;else{switch(bh(r)){case 1:n=fa;break;case 4:n=Bh;break;case 16:n=Ko;break;case 536870912:n=Vh;break;default:n=Ko}n=cm(n,rm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rm(t,e){if(Ao=-1,Io=0,V&6)throw Error(w(327));var n=t.callbackNode;if(mr()&&t.callbackNode!==n)return null;var r=Qo(t,t===oe?ce:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dl(t,r);else{e=r;var i=V;V|=2;var o=om();(oe!==t||ce!==e)&&(vt=null,Or=X()+500,zn(t,e));do try{W1();break}catch(s){im(t,s)}while(1);Ea(),al.current=o,V=i,Z!==null?e=0:(oe=null,ce=0,e=te)}if(e!==0){if(e===2&&(i=nu(t),i!==0&&(r=i,e=Ru(t,i))),e===1)throw n=Li,zn(t,0),Ut(t,r),Ae(t,X()),n;if(e===6)Ut(t,r);else{if(i=t.current.alternate,!(r&30)&&!b1(i)&&(e=dl(t,r),e===2&&(o=nu(t),o!==0&&(r=o,e=Ru(t,o))),e===1))throw n=Li,zn(t,0),Ut(t,r),Ae(t,X()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(w(345));case 2:Sn(t,Te,vt);break;case 3:if(Ut(t,r),(r&130023424)===r&&(e=_a+500-X(),10<e)){if(Qo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cu(Sn.bind(null,t,Te,vt),e);break}Sn(t,Te,vt);break;case 4:if(Ut(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-ot(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=X()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_1(r/1960))-r,10<r){t.timeoutHandle=cu(Sn.bind(null,t,Te,vt),r);break}Sn(t,Te,vt);break;case 5:Sn(t,Te,vt);break;default:throw Error(w(329))}}}return Ae(t,X()),t.callbackNode===n?rm.bind(null,t):null}function Ru(t,e){var n=ci;return t.current.memoizedState.isDehydrated&&(zn(t,e).flags|=256),t=dl(t,e),t!==2&&(e=Te,Te=n,e!==null&&Pu(e)),t}function Pu(t){Te===null?Te=t:Te.push.apply(Te,t)}function b1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!st(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ut(t,e){for(e&=~Va,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ot(e),r=1<<n;t[n]=-1,e&=~r}}function If(t){if(V&6)throw Error(w(327));mr();var e=Qo(t,0);if(!(e&1))return Ae(t,X()),null;var n=dl(t,e);if(t.tag!==0&&n===2){var r=nu(t);r!==0&&(e=r,n=Ru(t,r))}if(n===1)throw n=Li,zn(t,0),Ut(t,e),Ae(t,X()),n;if(n===6)throw Error(w(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sn(t,Te,vt),Ae(t,X()),null}function ba(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(Or=X()+500,Tl&&dn())}}function $n(t){Ht!==null&&Ht.tag===0&&!(V&6)&&mr();var e=V;V|=1;var n=Ye.transition,r=$;try{if(Ye.transition=null,$=1,t)return t()}finally{$=r,Ye.transition=n,V=e,!(V&6)&&dn()}}function $a(){Be=ar.current,J(ar)}function zn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g1(n)),Z!==null)for(n=Z.return;n!==null;){var r=n;switch(wa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zo();break;case 3:Er(),J(Pe),J(Se),Ra();break;case 5:Da(r);break;case 4:Er();break;case 13:J(K);break;case 19:J(K);break;case 10:Na(r.type._context);break;case 22:case 23:$a()}n=n.return}if(oe=t,Z=t=tn(t.current,null),ce=Be=e,te=0,Li=null,Va=zl=bn=0,Te=ci=null,Cn!==null){for(e=0;e<Cn.length;e++)if(n=Cn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Cn=null}return t}function im(t,e){do{var n=Z;try{if(Ea(),Ro.current=ul,sl){for(var r=Q.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sl=!1}if(_n=0,ie=ee=Q=null,ui=!1,Ai=0,Ba.current=null,n===null||n.return===null){te=1,Li=e,Z=null;break}e:{var o=t,l=n.return,s=n,u=e;if(e=ce,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=wf(l);if(p!==null){p.flags&=-257,xf(p,l,s,o,e),p.mode&1&&vf(o,a,e),e=p,u=a;var h=e.updateQueue;if(h===null){var y=new Set;y.add(u),e.updateQueue=y}else h.add(u);break e}else{if(!(e&1)){vf(o,a,e),Wa();break e}u=Error(w(426))}}else if(H&&s.mode&1){var S=wf(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),xf(S,l,s,o,e),xa(Nr(u,s));break e}}o=u=Nr(u,s),te!==4&&(te=2),ci===null?ci=[o]:ci.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=$p(o,u,e);hf(o,g);break e;case 1:s=u;var m=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Zt===null||!Zt.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=Wp(o,s,e);hf(o,v);break e}}o=o.return}while(o!==null)}sm(n)}catch(E){e=E,Z===n&&n!==null&&(Z=n=n.return);continue}break}while(1)}function om(){var t=al.current;return al.current=ul,t===null?ul:t}function Wa(){(te===0||te===3||te===2)&&(te=4),oe===null||!(bn&268435455)&&!(zl&268435455)||Ut(oe,ce)}function dl(t,e){var n=V;V|=2;var r=om();(oe!==t||ce!==e)&&(vt=null,zn(t,e));do try{$1();break}catch(i){im(t,i)}while(1);if(Ea(),V=n,al.current=r,Z!==null)throw Error(w(261));return oe=null,ce=0,te}function $1(){for(;Z!==null;)lm(Z)}function W1(){for(;Z!==null&&!h0();)lm(Z)}function lm(t){var e=am(t.alternate,t,Be);t.memoizedProps=t.pendingProps,e===null?sm(t):Z=e,Ba.current=null}function sm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=F1(n,e),n!==null){n.flags&=32767,Z=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{te=6,Z=null;return}}else if(n=I1(n,e,Be),n!==null){Z=n;return}if(e=e.sibling,e!==null){Z=e;return}Z=e=t}while(e!==null);te===0&&(te=5)}function Sn(t,e,n){var r=$,i=Ye.transition;try{Ye.transition=null,$=1,U1(t,e,n,r)}finally{Ye.transition=i,$=r}return null}function U1(t,e,n,r){do mr();while(Ht!==null);if(V&6)throw Error(w(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(w(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(C0(t,o),t===oe&&(Z=oe=null,ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yo||(yo=!0,cm(Ko,function(){return mr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ye.transition,Ye.transition=null;var l=$;$=1;var s=V;V|=4,Ba.current=null,B1(t,n),tm(n,t),a1(uu),qo=!!su,uu=su=null,t.current=n,V1(n),p0(),V=s,$=l,Ye.transition=o}else t.current=n;if(yo&&(yo=!1,Ht=t,fl=i),o=t.pendingLanes,o===0&&(Zt=null),y0(n.stateNode),Ae(t,X()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cl)throw cl=!1,t=Tu,Tu=null,t;return fl&1&&t.tag!==0&&mr(),o=t.pendingLanes,o&1?t===Du?fi++:(fi=0,Du=t):fi=0,dn(),null}function mr(){if(Ht!==null){var t=bh(fl),e=Ye.transition,n=$;try{if(Ye.transition=null,$=16>t?16:t,Ht===null)var r=!1;else{if(t=Ht,Ht=null,fl=0,V&6)throw Error(w(331));var i=V;for(V|=4,M=t.current;M!==null;){var o=M,l=o.child;if(M.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var a=s[u];for(M=a;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:ai(8,c,o)}var f=c.child;if(f!==null)f.return=c,M=f;else for(;M!==null;){c=M;var d=c.sibling,p=c.return;if(Xp(c),c===a){M=null;break}if(d!==null){d.return=p,M=d;break}M=p}}}var h=o.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}M=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,M=l;else e:for(;M!==null;){if(o=M,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ai(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,M=g;break e}M=o.return}}var m=t.current;for(M=m;M!==null;){l=M;var k=l.child;if(l.subtreeFlags&2064&&k!==null)k.return=l,M=k;else e:for(l=m;M!==null;){if(s=M,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Pl(9,s)}}catch(E){Y(s,s.return,E)}if(s===l){M=null;break e}var v=s.sibling;if(v!==null){v.return=s.return,M=v;break e}M=s.return}}if(V=i,dn(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Cl,t)}catch{}r=!0}return r}finally{$=n,Ye.transition=e}}return!1}function Ff(t,e,n){e=Nr(n,e),e=$p(t,e,1),t=Xt(t,e,1),e=xe(),t!==null&&(Ji(t,1,e),Ae(t,e))}function Y(t,e,n){if(t.tag===3)Ff(t,t,n);else for(;e!==null;){if(e.tag===3){Ff(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zt===null||!Zt.has(r))){t=Nr(n,t),t=Wp(e,t,1),e=Xt(e,t,1),t=xe(),e!==null&&(Ji(e,1,t),Ae(e,t));break}}e=e.return}}function j1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xe(),t.pingedLanes|=t.suspendedLanes&n,oe===t&&(ce&n)===n&&(te===4||te===3&&(ce&130023424)===ce&&500>X()-_a?zn(t,0):Va|=n),Ae(t,e)}function um(t,e){e===0&&(t.mode&1?(e=lo,lo<<=1,!(lo&130023424)&&(lo=4194304)):e=1);var n=xe();t=At(t,e),t!==null&&(Ji(t,e,n),Ae(t,n))}function J1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),um(t,n)}function H1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(w(314))}r!==null&&r.delete(e),um(t,n)}var am;am=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Re=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Re=!1,A1(t,e,n);Re=!!(t.flags&131072)}else Re=!1,H&&e.flags&1048576&&dp(e,nl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zo(t,e),t=e.pendingProps;var i=wr(e,Se.current);pr(e,n),i=za(null,e,r,t,i,n);var o=Aa();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ze(r)?(o=!0,el(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ma(e),i.updater=Dl,e.stateNode=i,i._reactInternals=e,yu(e,r,t,n),e=vu(null,e,r,!0,o,n)):(e.tag=0,H&&o&&va(e),ve(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Q1(r),t=tt(r,t),i){case 0:e=Su(null,e,r,t,n);break e;case 1:e=Nf(null,e,r,t,n);break e;case 11:e=Cf(null,e,r,t,n);break e;case 14:e=Ef(null,e,r,tt(r.type,t),n);break e}throw Error(w(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),Su(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),Nf(t,e,r,i,n);case 3:e:{if(Hp(e),t===null)throw Error(w(387));r=e.pendingProps,o=e.memoizedState,i=o.element,gp(t,e),ol(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Nr(Error(w(423)),e),e=Of(t,e,r,n,i);break e}else if(r!==i){i=Nr(Error(w(424)),e),e=Of(t,e,r,n,i);break e}else for(Ve=Gt(e.stateNode.containerInfo.firstChild),be=e,H=!0,rt=null,n=vp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===i){e=It(t,e,n);break e}ve(t,e,r,n)}e=e.child}return e;case 5:return wp(e),t===null&&pu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,au(r,i)?l=null:o!==null&&au(r,o)&&(e.flags|=32),Jp(t,e),ve(t,e,l,n),e.child;case 6:return t===null&&pu(e),null;case 13:return Kp(t,e,n);case 4:return Ta(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cr(e,null,r,n):ve(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),Cf(t,e,r,i,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,W(rl,r._currentValue),r._currentValue=l,o!==null)if(st(o.value,l)){if(o.children===i.children&&!Pe.current){e=It(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Tt(-1,n&-n),u.tag=2;var a=o.updateQueue;if(a!==null){a=a.shared;var c=a.pending;c===null?u.next=u:(u.next=c.next,c.next=u),a.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),mu(o.return,n,e),s.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(w(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),mu(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}ve(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pr(e,n),i=Xe(i),r=r(i),e.flags|=1,ve(t,e,r,n),e.child;case 14:return r=e.type,i=tt(r,e.pendingProps),i=tt(r.type,i),Ef(t,e,r,i,n);case 15:return Up(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),zo(t,e),e.tag=1,ze(r)?(t=!0,el(e)):t=!1,pr(e,n),kp(e,r,i),yu(e,r,i,n),vu(null,e,r,!0,t,n);case 19:return Qp(t,e,n);case 22:return jp(t,e,n)}throw Error(w(156,e.tag))};function cm(t,e){return Lh(t,e)}function K1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,n,r){return new K1(t,e,n,r)}function Ua(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q1(t){if(typeof t=="function")return Ua(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ua)return 11;if(t===aa)return 14}return 2}function tn(t,e){var n=t.alternate;return n===null?(n=qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fo(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")Ua(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Zn:return An(n.children,i,o,e);case sa:l=8,i|=8;break;case $s:return t=qe(12,n,e,i|2),t.elementType=$s,t.lanes=o,t;case Ws:return t=qe(13,n,e,i),t.elementType=Ws,t.lanes=o,t;case Us:return t=qe(19,n,e,i),t.elementType=Us,t.lanes=o,t;case Sh:return Al(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yh:l=10;break e;case kh:l=9;break e;case ua:l=11;break e;case aa:l=14;break e;case _t:l=16,r=null;break e}throw Error(w(130,t==null?t:typeof t,""))}return e=qe(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function An(t,e,n,r){return t=qe(7,t,r,e),t.lanes=n,t}function Al(t,e,n,r){return t=qe(22,t,r,e),t.elementType=Sh,t.lanes=n,t.stateNode={isHidden:!1},t}function Rs(t,e,n){return t=qe(6,t,null,e),t.lanes=n,t}function Ps(t,e,n){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ja(t,e,n,r,i,o,l,s,u){return t=new q1(t,e,n,s,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=qe(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(o),t}function Y1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fm(t){if(!t)return sn;t=t._reactInternals;e:{if(jn(t)!==t||t.tag!==1)throw Error(w(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(w(171))}if(t.tag===1){var n=t.type;if(ze(n))return cp(t,n,e)}return e}function dm(t,e,n,r,i,o,l,s,u){return t=ja(n,r,!0,t,i,o,l,s,u),t.context=fm(null),n=t.current,r=xe(),i=en(n),o=Tt(r,i),o.callback=e??null,Xt(n,o,i),t.current.lanes=i,Ji(t,i,r),Ae(t,r),t}function Il(t,e,n,r){var i=e.current,o=xe(),l=en(i);return n=fm(n),e.context===null?e.context=n:e.pendingContext=n,e=Tt(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xt(i,e,l),t!==null&&(lt(t,i,l,o),Do(t,i,l)),l}function hl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ja(t,e){Lf(t,e),(t=t.alternate)&&Lf(t,e)}function G1(){return null}var hm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ha(t){this._internalRoot=t}Fl.prototype.render=Ha.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(w(409));Il(t,e,null,null)};Fl.prototype.unmount=Ha.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$n(function(){Il(null,t,null,null)}),e[zt]=null}};function Fl(t){this._internalRoot=t}Fl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Uh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wt.length&&e!==0&&e<Wt[n].priority;n++);Wt.splice(n,0,t),n===0&&Jh(t)}};function Ka(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bf(){}function X1(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var a=hl(l);o.call(a)}}var l=dm(e,r,t,0,null,!1,!1,"",Bf);return t._reactRootContainer=l,t[zt]=l.current,Ti(t.nodeType===8?t.parentNode:t),$n(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var a=hl(u);s.call(a)}}var u=ja(t,0,!1,null,null,!1,!1,"",Bf);return t._reactRootContainer=u,t[zt]=u.current,Ti(t.nodeType===8?t.parentNode:t),$n(function(){Il(e,u,n,r)}),u}function Bl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var u=hl(l);s.call(u)}}Il(e,l,t,i)}else l=X1(n,e,t,i,r);return hl(l)}$h=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xr(e.pendingLanes);n!==0&&(da(e,n|1),Ae(e,X()),!(V&6)&&(Or=X()+500,dn()))}break;case 13:$n(function(){var r=At(t,1);if(r!==null){var i=xe();lt(r,t,1,i)}}),Ja(t,1)}};ha=function(t){if(t.tag===13){var e=At(t,134217728);if(e!==null){var n=xe();lt(e,t,134217728,n)}Ja(t,134217728)}};Wh=function(t){if(t.tag===13){var e=en(t),n=At(t,e);if(n!==null){var r=xe();lt(n,t,e,r)}Ja(t,e)}};Uh=function(){return $};jh=function(t,e){var n=$;try{return $=t,e()}finally{$=n}};Zs=function(t,e,n){switch(e){case"input":if(Hs(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ml(r);if(!i)throw Error(w(90));wh(r),Hs(r,i)}}}break;case"textarea":Ch(t,n);break;case"select":e=n.value,e!=null&&cr(t,!!n.multiple,e,!1)}};Rh=ba;Ph=$n;var Z1={usingClientEntryPoint:!1,Events:[Ki,rr,Ml,Th,Dh,ba]},$r={findFiberByHostInstance:xn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ek={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ih(t),t===null?null:t.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||G1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Cl=ko.inject(ek),pt=ko}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z1;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ka(e))throw Error(w(200));return Y1(t,e,null,n)};Ue.createRoot=function(t,e){if(!Ka(t))throw Error(w(299));var n=!1,r="",i=hm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ja(t,1,!1,null,null,n,!1,r,i),t[zt]=e.current,Ti(t.nodeType===8?t.parentNode:t),new Ha(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(w(188)):(t=Object.keys(t).join(","),Error(w(268,t)));return t=Ih(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return $n(t)};Ue.hydrate=function(t,e,n){if(!Ll(e))throw Error(w(200));return Bl(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!Ka(t))throw Error(w(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=hm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=dm(e,null,t,1,n??null,i,!1,o,l),t[zt]=e.current,Ti(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fl(e)};Ue.render=function(t,e,n){if(!Ll(e))throw Error(w(200));return Bl(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!Ll(t))throw Error(w(40));return t._reactRootContainer?($n(function(){Bl(null,null,t,!1,function(){t._reactRootContainer=null,t[zt]=null})}),!0):!1};Ue.unstable_batchedUpdates=ba;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ll(n))throw Error(w(200));if(t==null||t._reactInternals===void 0)throw Error(w(38));return Bl(t,e,n,!1,r)};Ue.version="18.2.0-next-9e3b772b8-20220608";function pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pm)}catch(t){console.error(t)}}pm(),dh.exports=Ue;var Bi=dh.exports,mm,Vf=Bi;mm=Vf.createRoot,Vf.hydrateRoot;const Vl=O.createContext(null);Vl.Provider;function gm(){const[,t]=O.useReducer(e=>e+1,0);return t}const tk=()=>{const t=O.useRef(new Set).current,e=O.useRef(new Set).current,n=gm(),r=O.useRef(!0),i=O.useCallback(()=>{r.current||(n(),r.current=!0)},[n]),o=O.useCallback(l=>{let s;const u=()=>{s=l()};return t.add(u),i(),()=>{t.delete(u),s&&(e.add(s),i())}},[t,e,i]);return O.useLayoutEffect(()=>(r.current=!1,t.forEach(l=>l()),t.clear(),()=>{e.forEach(l=>l()),e.clear()})),o},nk=O.createContext(null);function rk({children:t}){const e=tk();return L(nk.Provider,{value:e,children:t})}const ym=O.createContext(null);function ik(t){const e={};for(const[r,i]of t.entries()){let o=function(l,s){for(const u of i){let a=!1;if(Bi.unstable_batchedUpdates(()=>{a=!!u.call(this,l,s)}),a||s.defaultPrevented)return!0}return!1};e[r]=o}return new xl({key:new oh("@nytimes/react-prosemirror/componentEventListeners"),props:{handleDOMEvents:e}})}function ok(){const[t,e]=O.useState(new Map),n=O.useCallback((o,l)=>{const s=t.get(o)??[];s.unshift(l),t.has(o)||(t.set(o,s),e(new Map(t)))},[t]),r=O.useCallback((o,l)=>{const s=t.get(o);s==null||s.splice(s.indexOf(l),1)},[t]),i=O.useMemo(()=>ik(t),[t]);return{registerEventListener:n,unregisterEventListener:r,componentEventListenersPlugin:i}}const we=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Vi=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let _f=null;const wt=function(t,e,n){let r=_f||(_f=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Wn=function(t,e,n,r){return n&&(bf(t,e,n,r,-1)||bf(t,e,n,r,1))},lk=/^(img|br|input|textarea|hr)$/i;function bf(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:dt(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Qa(t)||lk.test(t.nodeName)||t.contentEditable=="false")return!1;e=we(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?dt(t):0}else return!1}}function dt(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function sk(t,e,n){for(let r=e==0,i=e==dt(t);r||i;){if(t==n)return!0;let o=we(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==dt(t)}}function Qa(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const _l=function(t){return t.focusNode&&Wn(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function vn(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function uk(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ak(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const yt=typeof navigator<"u"?navigator:null,$f=typeof document<"u"?document:null,hn=yt&&yt.userAgent||"",zu=/Edge\/(\d+)/.exec(hn),km=/MSIE \d/.exec(hn),Au=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(hn),Ie=!!(km||Au||zu),nn=km?document.documentMode:Au?+Au[1]:zu?+zu[1]:0,ut=!Ie&&/gecko\/(\d+)/i.test(hn);ut&&+(/Firefox\/(\d+)/.exec(hn)||[0,0])[1];const Iu=!Ie&&/Chrome\/(\d+)/.exec(hn),ye=!!Iu,ck=Iu?+Iu[1]:0,Ce=!Ie&&!!yt&&/Apple Computer/.test(yt.vendor),Mr=Ce&&(/Mobile\/\w+/.test(hn)||!!yt&&yt.maxTouchPoints>2),Je=Mr||(yt?/Mac/.test(yt.platform):!1),fk=yt?/Win/.test(yt.platform):!1,it=/Android \d/.test(hn),bl=!!$f&&"webkitFontSmoothing"in $f.documentElement.style,dk=bl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function hk(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function St(t,e){return typeof t=="number"?t:t[e]}function pk(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Wf(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let l=n||t.dom;l;l=Vi(l)){if(l.nodeType!=1)continue;let s=l,u=s==o.body,a=u?hk(o):pk(s),c=0,f=0;if(e.top<a.top+St(r,"top")?f=-(a.top-e.top+St(i,"top")):e.bottom>a.bottom-St(r,"bottom")&&(f=e.bottom-e.top>a.bottom-a.top?e.top+St(i,"top")-a.top:e.bottom-a.bottom+St(i,"bottom")),e.left<a.left+St(r,"left")?c=-(a.left-e.left+St(i,"left")):e.right>a.right-St(r,"right")&&(c=e.right-a.right+St(i,"right")),c||f)if(u)o.defaultView.scrollBy(c,f);else{let d=s.scrollLeft,p=s.scrollTop;f&&(s.scrollTop+=f),c&&(s.scrollLeft+=c);let h=s.scrollLeft-d,y=s.scrollTop-p;e={left:e.left-h,top:e.top-y,right:e.right-h,bottom:e.bottom-y}}if(u||/^(fixed|sticky)$/.test(getComputedStyle(l).position))break}}function Sm(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let s=t.root.elementFromPoint(o,l);if(!s||s==t.dom||!t.dom.contains(s))continue;let u=s.getBoundingClientRect();if(u.top>=n-20){r=s,i=u.top;break}}return{refDOM:r,refTop:i,stack:vm(t.dom)}}function vm(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Vi(r));return e}function wm({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;xm(n,r==0?0:r-e)}function xm(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Hn=null;function mk(t){if(t.setActive)return t.setActive();if(Hn)return t.focus(Hn);let e=vm(t);t.focus(Hn==null?{get preventScroll(){return Hn={preventScroll:!0},!0}}:void 0),Hn||(Hn=!1,xm(e,0))}function Cm(t,e){let n,r=2e8,i,o=0,l=e.top,s=e.top,u,a;for(let c=t.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=wt(c).getClientRects();else continue;for(let p=0;p<d.length;p++){let h=d[p];if(h.top<=l&&h.bottom>=s){l=Math.max(h.bottom,l),s=Math.min(h.top,s);let y=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(y<r){n=c,r=y,i=y&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&y&&(o=f+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!u&&h.left<=e.left&&h.right>=e.left&&(u=c,a={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=f+1)}}return!n&&u&&(n=u,i=a,r=0),n&&n.nodeType==3?gk(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:Cm(n,i)}function gk(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Vt(r,1);if(o.top!=o.bottom&&qa(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function qa(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function yk(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function kk(t,e,n){let{node:r,offset:i}=Cm(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function Sk(t,e,n,r){let i=-1;for(let o=e,l=!1;o!=t.dom;){let s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent&&!l||!s.contentDOM)){let u=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&!l&&(l=!0,u.left>r.left||u.top>r.top?i=s.posBefore:(u.right<r.left||u.bottom<r.top)&&(i=s.posAfter)),!s.contentDOM&&i<0&&!s.node.isText)return(s.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?s.posBefore:s.posAfter}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function Em(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let l=t.childNodes[o];if(l.nodeType==1){let s=l.getClientRects();for(let u=0;u<s.length;u++){let a=s[u];if(qa(e,a))return Em(l,e,a)}}if((o=(o+1)%r)==i)break}return t}function vk(t,e){let n=t.dom.ownerDocument,r,i=0,o=ak(n,e.left,e.top);o&&({node:r,offset:i}=o);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let a=t.dom.getBoundingClientRect();if(!qa(e,a)||(l=Em(t.dom,e,a),!l))return null}if(Ce)for(let a=l;r&&a;a=Vi(a))a.draggable&&(r=void 0);if(l=yk(l,e),r){if(ut&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let a=r.childNodes[i],c;a.nodeName=="IMG"&&(c=a.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=Sk(t,r,i,e))}s==null&&(s=kk(t,l,e));let u=t.docView.nearestDesc(l,!0);return{pos:s,inside:u?u.posAtStart-u.border:-1}}function Uf(t){return t.top<t.bottom||t.left<t.right}function Vt(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Uf(r))return r}return Array.prototype.find.call(n,Uf)||t.getBoundingClientRect()}const wk=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Nm(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),l=bl||ut;if(r.nodeType==3)if(l&&(wk.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Vt(wt(r,i,i),n);if(ut&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let a=Vt(wt(r,i-1,i-1),-1);if(a.top==u.top){let c=Vt(wt(r,i,i+1),-1);if(c.top!=u.top)return Wr(c,c.left<a.left)}}return u}else{let u=i,a=i,c=n<0?1:-1;return n<0&&!i?(a++,c=-1):n>=0&&i==r.nodeValue.length?(u--,c=1):n<0?u--:a++,Wr(Vt(wt(r,u,a),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==dt(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return zs(u.getBoundingClientRect(),!1)}if(o==null&&i<dt(r)){let u=r.childNodes[i];if(u.nodeType==1)return zs(u.getBoundingClientRect(),!0)}return zs(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==dt(r))){let u=r.childNodes[i-1],a=u.nodeType==3?wt(u,dt(u)-(l?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(a)return Wr(Vt(a,1),!1)}if(o==null&&i<dt(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let a=u?u.nodeType==3?wt(u,0,l?0:1):u.nodeType==1?u:null:null;if(a)return Wr(Vt(a,-1),!0)}return Wr(Vt(r.nodeType==3?wt(r):r,-n),n>=0)}function Wr(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function zs(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Om(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function xk(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Om(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=t.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let l=Nm(t,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let u;if(s.nodeType==1)u=s.getClientRects();else if(s.nodeType==3)u=wt(s,0,s.nodeValue.length).getClientRects();else continue;for(let a=0;a<u.length;a++){let c=u[a];if(c.bottom>c.top+1&&(n=="up"?l.top-c.top>(c.bottom-l.top)*2:c.bottom-l.bottom>(l.bottom-c.top)*2))return!1}}return!0})}const Ck=/[\u0590-\u08ac]/;function Ek(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,s=t.domSelection();return!Ck.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?o:l:Om(t,e,()=>{let{focusNode:u,focusOffset:a,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:y}=t.domSelectionRange(),S=h&&!p.contains(h.nodeType==1?h:h.parentNode)||u==h&&a==y;try{s.collapse(c,f),u&&(u!=c||a!=f)&&s.extend&&s.extend(u,a)}catch{}return d!=null&&(s.caretBidiLevel=d),S})}let jf=null,Jf=null,Hf=!1;function Nk(t,e,n){return jf==e&&Jf==n?Hf:(jf=e,Jf=n,Hf=n=="up"||n=="down"?xk(t,e,n):Ek(t,e,n))}const Ge=0,Kf=1,Nn=2,kt=3;class qi{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ge,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>we(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),l;if(o&&(!n||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],s=o+l.size;if(s>e||l instanceof Ga){i=e-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Ya&&o.side>=0;r--);if(n<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&n&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?we(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?we(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let l=r,s=0;;s++){let u=this.children[s],a=l+u.size;if(i==-1&&e<=a){let c=l+u.border;if(e>=c&&n<=a-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,c);e=l;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=we(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(a>n||s==this.children.length-1)){n=a;for(let c=s+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=we(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=a}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),l=Math.max(e,n);for(let d=0,p=0;d<this.children.length;d++){let h=this.children[d],y=p+h.size;if(o>p&&l<y)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=y}let s=this.domFromPos(e,e?-1:1),u=n==e?s:this.domFromPos(n,n?-1:1),a=r.getSelection(),c=!1;if((ut||Ce)&&e==n){let{node:d,offset:p}=s;if(d.nodeType==3){if(c=!!(p&&d.nodeValue[p-1]==`
`),c&&p==d.nodeValue.length)for(let h=d,y;h;h=h.parentNode){if(y=h.nextSibling){y.nodeName=="BR"&&(s=u={node:y.parentNode,offset:we(y)+1});break}let S=h.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let h=d.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(ut&&a.focusNode&&a.focusNode!=u.node&&a.focusNode.nodeType==1){let d=a.focusNode.childNodes[a.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&Ce)&&Wn(s.node,s.offset,a.anchorNode,a.anchorOffset)&&Wn(u.node,u.offset,a.focusNode,a.focusOffset))return;let f=!1;if((a.extend||e==n)&&!c){a.collapse(s.node,s.offset);try{e!=n&&a.extend(u.node,u.offset),f=!0}catch{}}if(!f){if(e>n){let p=s;s=u,u=p}let d=document.createRange();d.setEnd(u.node,u.offset),d.setStart(s.node,s.offset),a.removeAllRanges(),a.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],l=r+o.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let s=r+o.border,u=l-o.border;if(e>=s&&n<=u){this.dirty=e==r||n==l?Nn:Kf,e==s&&n==u&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=kt:o.markDirty(e-s,n-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Nn:kt}r=l}this.dirty=Nn}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Nn:Kf;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Ya extends qi{constructor(e,n,r){super(e,[],r,null),this.widget=n,this.widget=n}matchesWidget(e){return this.dirty==Ge&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Ok extends qi{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class un extends qi{constructor(e,n,r,i,o){super(e,n,i,o),this.mark=r}static create(e,n,r,i){let o=i.nodeViews[n.type.name],l=o&&o(n,i,r);return(!l||!l.dom)&&(l=Nt.renderSpec(document,n.type.spec.toDOM(n,r))),new un(e,[],n,l.dom,l.contentDOM||l.dom)}parseRule(){return this.dirty&kt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=kt&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ge){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ge}}slice(e,n,r){let i=un.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;n<l&&(o=Bu(o,n,l,r)),e>0&&(o=Bu(o,0,e,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}}class Dt extends qi{constructor(e,n,r,i,o,l,s,u){super(e,n,l,s),this.node=r,this.outerDeco=i,this.innerDeco=o,this.nodeDOM=u}static create(e,n,r,i,o,l){let s=o.nodeViews[n.type.name],u,a=s&&s(n,o,()=>{if(!u)return l;if(u.parent)return u.parent.posBeforeChild(u)},r,i),c=a&&a.dom,f=a&&a.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=Nt.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Dm(c,r,n),a?u=new Mk(e,n,r,i,c,f||null,d,a,o,l+1):n.isText?new Tr(e,[],n,r,i,c,d):new Dt(e,[],n,r,i,c,f||null,d)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>x.empty)}return e}matchesNode(e,n,r){return this.dirty==Ge&&e.eq(this.node)&&Lu(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,l=o&&o.pos>-1?o:null,s=o&&o.pos<0,u=new Dk(this,l&&l.node,e);zk(this.node,this.innerDeco,(a,c,f)=>{a.spec.marks?u.syncToMarks(a.spec.marks,r,e):a.type.side>=0&&!f&&u.syncToMarks(c==this.node.childCount?_.none:this.node.child(c).marks,r,e),u.placeWidget(a,e,i)},(a,c,f,d)=>{u.syncToMarks(a.marks,r,e);let p;u.findNodeMatch(a,c,f,d)||s&&e.state.selection.from>i&&e.state.selection.to<i+a.nodeSize&&(p=u.findIndexWithChild(o.node))>-1&&u.updateNodeAt(a,c,f,p,e)||u.updateNextNode(a,c,f,e,d,i)||u.addNode(a,c,f,e,i),i+=a.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Nn)&&(l&&this.protectLocalComposition(e,l),Mm(this.contentDOM,this.children,e),Mr&&Ak(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof U)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),l=Ik(o.focusNode,o.focusOffset);if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let s=l.nodeValue,u=Fk(this.node.content,s,r-n,i-n);return u<0?null:{node:l,pos:u,text:s}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new Ok(this,o,n,i);e.input.compositionNodes.push(l),this.children=Bu(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==kt||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ge}updateOuterDeco(e){if(Lu(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Tm(this.dom,this.nodeDOM,Fu(this.outerDeco,this.node,n),Fu(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Qf(t,e,n,r,i){Dm(r,e,t);let o=new Dt(void 0,[],t,e,n,r,r,r);return o.contentDOM&&o.updateChildren(i,0),o}class Tr extends Dt{constructor(e,n,r,i,o,l,s){super(e,n,r,i,o,l,null,s)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==kt||this.dirty!=Ge&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ge||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ge,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Tr(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=kt)}get domAtom(){return!1}}class Ga extends qi{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ge&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Mk extends Dt{constructor(e,n,r,i,o,l,s,u,a,c){super(e,[],n,r,i,o,l,s),this.spec=u}update(e,n,r,i){if(this.dirty==kt)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Mm(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let l=e[o],s=l.dom;if(s.parentNode==t){for(;s!=r;)r=qf(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(s,r);if(l instanceof un){let u=r?r.previousSibling:t.lastChild;Mm(l.contentDOM,l.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=qf(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const di=function(t){t&&(this.nodeName=t)};di.prototype=Object.create(null);const On=[new di];function Fu(t,e,n){if(t.length==0)return On;let r=n?On[0]:new di,i=[r];for(let o=0;o<t.length;o++){let l=t[o].type.attrs;if(l){l.nodeName&&i.push(r=new di(l.nodeName));for(let s in l){let u=l[s];u!=null&&(n&&i.length==1&&i.push(r=new di(e.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+u:s=="style"?r.style=(r.style?r.style+";":"")+u:s!="nodeName"&&(r[s]=u))}}}return i}function Tm(t,e,n,r){if(n==On&&r==On)return e;let i=e;for(let o=0;o<r.length;o++){let l=r[o],s=n[o];if(o){let u;s&&s.nodeName==l.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==l.nodeName||(u=document.createElement(l.nodeName),u.pmIsDeco=!0,u.appendChild(i),s=On[0]),i=u}Tk(i,s||On[0],l)}return i}function Tk(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function Dm(t,e,n){return Tm(t,t,On,Fu(e,n,t.nodeType!=1))}function Lu(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function qf(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Dk{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Rk(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Ge,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let a=this.top.children[u];if(a.matchesMark(e[o])&&!this.isLocked(a.dom)){s=u;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let u=un.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))o=this.top.children.indexOf(l,this.index);else for(let s=this.index,u=Math.min(this.top.children.length,s+5);s<u;s++){let a=this.top.children[s];if(a.matchesNode(e,n,r)&&!this.preMatch.matched.has(a)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let l=this.top.children[i];return l.dirty==kt&&l.dom==l.contentDOM&&(l.dirty=Nn),l.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,l){for(let s=this.index;s<this.top.children.length;s++){let u=this.top.children[s];if(u instanceof Dt){let a=this.preMatch.matched.get(u);if(a!=null&&a!=o)return!1;let c=u.dom,f,d=this.isLocked(c)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=kt&&Lu(n,u.outerDeco));if(!d&&u.update(e,n,r,i))return this.destroyBetween(this.index,s),u.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(u,e,n,r,i,l)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Nn,f.updateChildren(i,l+1),f.dirty=Ge),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let s=Dt.create(this.top,n,r,i,o,l);if(s.contentDOM){s.children=e.children,e.children=[];for(let u of s.children)u.parent=s}return e.destroy(),s}addNode(e,n,r,i,o){let l=Dt.create(this.top,e,n,r,i,o);l.contentDOM&&l.updateChildren(i,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Ya(this.top,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof un;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Tr)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ce||ye)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Ga(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Rk(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,l=[];e:for(;i>0;){let s;for(;;)if(r){let a=n.children[r-1];if(a instanceof un)n=a,r=a.children.length;else{s=a,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=s.node;if(u){if(u!=t.child(i-1))break;--i,o.set(s,i),l.push(s)}}return{index:i,matched:o,matches:l.reverse()}}function Pk(t,e){return t.type.side-e.type.side}function zk(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let a=0;a<t.childCount;a++){let c=t.child(a);r(c,i,e.forChild(o,c),a),o+=c.nodeSize}return}let l=0,s=[],u=null;for(let a=0;;){if(l<i.length&&i[l].to==o){let h=i[l++],y;for(;l<i.length&&i[l].to==o;)(y||(y=[h])).push(i[l++]);if(y){y.sort(Pk);for(let S=0;S<y.length;S++)n(y[S],a,!!u)}else n(h,a,!!u)}let c,f;if(u)f=-1,c=u,u=null;else if(a<t.childCount)f=a,c=t.child(a++);else break;for(let h=0;h<s.length;h++)s[h].to<=o&&s.splice(h--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)s.push(i[l++]);let d=o+c.nodeSize;if(c.isText){let h=d;l<i.length&&i[l].from<h&&(h=i[l].from);for(let y=0;y<s.length;y++)s[y].to<h&&(h=s[y].to);h<d&&(u=c.cut(h-o),c=c.cut(0,h-o),d=h,f=-1)}let p=c.isInline&&!c.isLeaf?s.filter(h=>!h.inline):s.slice();r(c,p,e.forChild(o,c),f),o=d}}function Ak(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Ik(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=dt(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function Fk(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let l=t.child(i++),s=o;if(o+=l.nodeSize,!l.isText)continue;let u=l.text;for(;i<t.childCount;){let a=t.child(i++);if(o+=a.nodeSize,!a.isText)break;u+=a.text}if(o>=n){let a=s<r?u.lastIndexOf(e,r-s-1):-1;if(a>=0&&a+e.length+s>=n)return s+a;if(n==r&&u.length>=r+e.length-s&&u.slice(r-s,r-s+e.length)==e)return r}}return-1}function Bu(t,e,n,r,i){let o=[];for(let l=0,s=0;l<t.length;l++){let u=t[l],a=s,c=s+=u.size;a>=n||c<=e?o.push(u):(a<e&&o.push(u.slice(0,e-a,r)),i&&(o.push(i),i=void 0),c>n&&o.push(u.slice(n-a,u.size,r)))}return o}const Rm=65535,Pm=Math.pow(2,16);function Lk(t,e){return t+e*Pm}function Yf(t){return t&Rm}function Bk(t){return(t-(t&Rm))/Pm}const zm=1,Am=2,Lo=4,Im=8;class Gf{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Im)>0}get deletedBefore(){return(this.delInfo&(zm|Lo))>0}get deletedAfter(){return(this.delInfo&(Am|Lo))>0}get deletedAcross(){return(this.delInfo&Lo)>0}}class Qe{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Qe.empty)return Qe.empty}recover(e){let n=0,r=Yf(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Bk(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let u=this.ranges[s]-(this.inverted?i:0);if(u>e)break;let a=this.ranges[s+o],c=this.ranges[s+l],f=u+a;if(e<=f){let d=a?e==u?-1:e==f?1:n:n,p=u+i+(d<0?0:c);if(r)return p;let h=e==(n<0?u:f)?null:Lk(s/3,e-u),y=e==u?Am:e==f?zm:Lo;return(n<0?e!=u:e!=f)&&(y|=Im),new Gf(p,y,h)}i+=c-a}return r?e+i:new Gf(e+i,0,null)}touches(e,n){let r=0,i=Yf(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let u=this.ranges[s]-(this.inverted?r:0);if(u>e)break;let a=this.ranges[s+o],c=u+a;if(e<=c&&s==i*3)return!0;r+=this.ranges[s+l]-a}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],s=l-(this.inverted?o:0),u=l+(this.inverted?0:o),a=this.ranges[i+n],c=this.ranges[i+r];e(s,s+a,u,u+c),o+=c-a}}invert(){return new Qe(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Qe.empty:new Qe(e<0?[0,-e,0]:[0,0,e])}}Qe.empty=new Qe([]);const As=Object.create(null);class Le{getMap(){return Qe.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=As[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in As)throw new RangeError("Duplicate use of step JSON ID "+e);return As[e]=n,n.prototype.jsonID=e,n}}class ne{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ne(e,null)}static fail(e){return new ne(null,e)}static fromReplace(e,n,r,i){try{return ne.ok(e.replace(n,r,i))}catch(o){if(o instanceof yi)return ne.fail(o.message);throw o}}}function Xa(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Xa(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return x.fromArray(r)}class Mn extends Le{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new C(Xa(n.content,(l,s)=>!l.isAtom||!s.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return ne.fromReplace(e,this.from,this.to,o)}invert(){return new Tn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Mn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Mn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Mn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Mn(n.from,n.to,e.markFromJSON(n.mark))}}Le.jsonID("addMark",Mn);class Tn extends Le{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new C(Xa(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return ne.fromReplace(e,this.from,this.to,r)}invert(){return new Mn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Tn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Tn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Tn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Tn(n.from,n.to,e.markFromJSON(n.mark))}}Le.jsonID("removeMark",Tn);class Dn extends Le{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ne.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ne.fromReplace(e,this.pos,this.pos+1,new C(x.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Dn(this.pos,n.marks[i]);return new Dn(this.pos,this.mark)}}return new _i(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Dn(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Dn(n.pos,e.markFromJSON(n.mark))}}Le.jsonID("addNodeMark",Dn);class _i extends Le{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ne.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ne.fromReplace(e,this.pos,this.pos+1,new C(x.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Dn(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _i(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _i(n.pos,e.markFromJSON(n.mark))}}Le.jsonID("removeNodeMark",_i);class $t extends Le{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Vu(e,this.from,this.to)?ne.fail("Structure replace would overwrite content"):ne.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Qe([this.from,this.to-this.from,this.slice.size])}invert(e){return new $t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new $t(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof $t)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?C.empty:new C(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new $t(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?C.empty:new C(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new $t(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new $t(n.from,n.to,C.fromJSON(e,n.slice),!!n.structure)}}Le.jsonID("replace",$t);class hi extends Le{constructor(e,n,r,i,o,l,s=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=s}apply(e){if(this.structure&&(Vu(e,this.from,this.gapFrom)||Vu(e,this.gapTo,this.to)))return ne.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ne.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ne.fromReplace(e,this.from,this.to,r):ne.fail("Content does not fit in gap")}getMap(){return new Qe([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new hi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new hi(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new hi(n.from,n.to,n.gapFrom,n.gapTo,C.fromJSON(e,n.slice),n.insert,!!n.structure)}}Le.jsonID("replaceAround",hi);function Vu(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function Vk(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let l=r.depth;l>=0;l--){let s=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,u=r.index(l)+(s>0?1:0),a=r.node(l),c=!1;if(o==1)c=a.canReplace(u,u,i);else{let f=a.contentMatchAt(u).findWrapping(i.firstChild.type);c=f&&a.canReplaceWith(u,u,f[0])}if(c)return s==0?r.pos:s<0?r.before(l+1):r.after(l+1)}return null}class pi extends Le{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return ne.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return ne.fromReplace(e,this.pos,this.pos+1,new C(x.from(i),0,n.isLeaf?0:1))}getMap(){return Qe.empty}invert(e){return new pi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new pi(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new pi(n.pos,n.attr,n.value)}}Le.jsonID("attr",pi);let bi=class extends Error{};bi=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};bi.prototype=Object.create(Error.prototype);bi.prototype.constructor=bi;bi.prototype.name="TransformError";function Za(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let s=r.resolve(l),u,a;if(_l(n)){for(u=s;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&A.isSelectable(c)&&i.parent&&!(c.isInline&&sk(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;a=new A(l==f?s:r.resolve(f))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;u=r.resolve(c)}if(!a){let c=e=="pointer"||t.state.selection.head<s.pos&&!o?1:-1;a=ec(t,u,s,c)}return a}function Fm(t){return t.editable?t.hasFocus():Bm(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function gt(t,e=!1){let n=t.state.selection;if(Lm(t,n),!!Fm(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ye){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Wn(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)bk(t);else{let{anchor:r,head:i}=n,o,l;Xf&&!(n instanceof U)&&(n.$from.parent.inlineContent||(o=Zf(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=Zf(t,n.to))),t.docView.setSelection(r,i,t.root,e),Xf&&(o&&ed(o),l&&ed(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&_k(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Xf=Ce||ye&&ck<63;function Zf(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Ce&&i&&i.contentEditable=="false")return Is(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Is(i);if(o)return Is(o)}}function Is(t){return t.contentEditable="true",Ce&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function ed(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function _k(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Fm(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function bk(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,we(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ie&&nn<=11&&(r.disabled=!0,r.disabled=!1)}function Lm(t,e){if(e instanceof A){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(td(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else td(t)}function td(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ec(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||U.between(e,n,r)}function nd(t){return t.editable&&!t.hasFocus()?!1:Bm(t)}function Bm(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function $k(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Wn(e.node,e.offset,n.anchorNode,n.anchorOffset)}function _u(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&b.findFrom(o,e)}function wn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function rd(t,e,n){let r=t.state.selection;if(r instanceof U){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let i=_u(t.state,e);return i&&i instanceof A?wn(t,i):!1}else if(!(Je&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(l=t.docView.descAt(s))&&!l.contentDOM?A.isSelectable(o)?wn(t,new A(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):bl?wn(t,new U(t.state.doc.resolve(e<0?s:s+o.nodeSize))):!1:!1}}else{if(r instanceof A&&r.node.isInline)return wn(t,new U(e>0?r.$to:r.$from));{let i=_u(t.state,e);return i?wn(t,i):!1}}}function pl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function mi(t,e){if(t.contentEditable=="false")return!0;let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Kn(t,e){return e<0?Wk(t):Uk(t)}function Wk(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,l=!1;for(ut&&n.nodeType==1&&r<pl(n)&&mi(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(mi(s,-1))i=n,o=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(Vm(n))break;{let s=n.previousSibling;for(;s&&mi(s,-1);)i=n.parentNode,o=we(s),s=s.previousSibling;if(s)n=s,r=pl(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?bu(t,n,r):i&&bu(t,i,o)}function Uk(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=pl(n),o,l;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(mi(s,1))o=n,l=++r;else break}else{if(Vm(n))break;{let s=n.nextSibling;for(;s&&mi(s,1);)o=s.parentNode,l=we(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=pl(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&bu(t,o,l)}function Vm(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function jk(t,e){for(;t&&e==t.childNodes.length&&!Qa(t);)e=we(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Jk(t,e){for(;t&&!e&&!Qa(t);)e=we(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function bu(t,e,n){if(e.nodeType!=3){let o,l;(l=jk(e,n))?(e=l,n=0):(o=Jk(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(_l(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&gt(t)},50)}function id(t,e){let n=t.state.doc.resolve(e);if(!(ye||fk)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function od(t,e,n){let r=t.state.selection;if(r instanceof U&&!r.empty||n.indexOf("s")>-1||Je&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=_u(t.state,e);if(l&&l instanceof A)return wn(t,l)}if(!i.parent.inlineContent){let l=e<0?i:o,s=r instanceof _e?b.near(l,e):b.findFrom(l,e);return s?wn(t,s):!1}return!1}function ld(t,e){if(!(t.state.selection instanceof U))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let l=t.state.tr;return e<0?l.delete(n.pos-o.nodeSize,n.pos):l.delete(n.pos,n.pos+o.nodeSize),t.dispatch(l),!0}return!1}function sd(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Hk(t){if(!Ce||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;sd(t,r,"true"),setTimeout(()=>sd(t,r,"false"),20)}return!1}function Kk(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Qk(t,e){let n=e.keyCode,r=Kk(e);if(n==8||Je&&n==72&&r=="c")return ld(t,-1)||Kn(t,-1);if(n==46&&!e.shiftKey||Je&&n==68&&r=="c")return ld(t,1)||Kn(t,1);if(n==13||n==27)return!0;if(n==37||Je&&n==66&&r=="c"){let i=n==37?id(t,t.state.selection.from)=="ltr"?-1:1:-1;return rd(t,i,r)||Kn(t,i)}else if(n==39||Je&&n==70&&r=="c"){let i=n==39?id(t,t.state.selection.from)=="ltr"?1:-1:1;return rd(t,i,r)||Kn(t,i)}else{if(n==38||Je&&n==80&&r=="c")return od(t,-1,r)||Kn(t,-1);if(n==40||Je&&n==78&&r=="c")return Hk(t)||od(t,1,r)||Kn(t,1);if(r==(Je?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function _m(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let l=t.someProp("clipboardSerializer")||Nt.fromSchema(t.state.schema),s=Jm(),u=s.createElement("div");u.appendChild(l.serializeFragment(r,{document:s}));let a=u.firstChild,c,f=0;for(;a&&a.nodeType==1&&(c=jm[a.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=s.createElement(c[p]);for(;u.firstChild;)h.appendChild(u.firstChild);u.appendChild(h),f++}a=u.firstChild}a&&a.nodeType==1&&a.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:d}}function bm(t,e,n,r,i){let o=i.parent.type.spec.code,l,s;if(!n&&!e)return null;let u=e&&(r||o||!n);if(u){if(t.someProp("transformPastedText",d=>{e=d(e,o||r,t)}),o)return e?new C(x.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):C.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)s=f;else{let d=i.marks(),{schema:p}=t.state,h=Nt.fromSchema(p);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let S=l.appendChild(document.createElement("p"));y&&S.appendChild(h.serializeNode(p.text(y,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),l=Gk(n),bl&&Xk(l);let a=l&&l.querySelector("[data-pm-slice]"),c=a&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(a.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=l.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;l=d}if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||Si.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(u||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!qk.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)s=Zk(ud(s,+c[1],+c[2]),c[4]);else if(s=C.maxOpen(Yk(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let p=s.content.firstChild;f<s.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=s.content.lastChild;d<s.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);s=ud(s,f,d)}return t.someProp("transformPasted",f=>{s=f(s,t)}),s}const qk=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Yk(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,l=[];if(t.forEach(s=>{if(!l)return;let u=i.findWrapping(s.type),a;if(!u)return l=null;if(a=l.length&&o.length&&Wm(u,o,s,l[l.length-1],0))l[l.length-1]=a;else{l.length&&(l[l.length-1]=Um(l[l.length-1],o.length));let c=$m(s,u);l.push(c),i=i.matchType(c.type),o=u}}),l)return x.from(l)}return t}function $m(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,x.from(t));return t}function Wm(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=Wm(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(x.from($m(n,t,i+1))))}}function Um(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Um(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(x.empty,!0);return t.copy(n.append(r))}function $u(t,e,n,r,i,o){let l=e<0?t.firstChild:t.lastChild,s=l.content;return t.childCount>1&&(o=0),i<r-1&&(s=$u(s,e,n,r,i+1,o)),i>=n&&(s=e<0?l.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(l.contentMatchAt(l.childCount).fillBefore(x.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(s))}function ud(t,e,n){return e<t.openStart&&(t=new C($u(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new C($u(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const jm={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ad=null;function Jm(){return ad||(ad=document.implementation.createHTMLDocument("title"))}function Gk(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Jm().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&jm[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Xk(t){let e=t.querySelectorAll(ye?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Zk(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:l}=t;for(let s=r.length-2;s>=0;s-=2){let u=n.nodes[r[s]];if(!u||u.hasRequiredAttrs())break;i=x.from(u.create(r[s+1],i)),o++,l++}return new C(i,o,l)}const Ee={},Ne={},eS={touchstart:!0,touchmove:!0};class tS{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function nS(t){for(let e in Ee){let n=Ee[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{iS(t,r)&&!tc(t,r)&&(t.editable||!(r.type in Ne))&&n(t,r)},eS[e]?{passive:!0}:void 0)}Ce&&t.dom.addEventListener("input",()=>null),Wu(t)}function Kt(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function rS(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Wu(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>tc(t,r))})}function tc(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function iS(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function oS(t,e){!tc(t,e)&&Ee[e.type]&&(t.editable||!(e.type in Ne))&&Ee[e.type](t,e)}Ne.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Km(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(it&&ye&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Mr&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,vn(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Qk(t,n)?n.preventDefault():Kt(t,"key")};Ne.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ne.keypress=(t,e)=>{let n=e;if(Km(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Je&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof U)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function $l(t){return{left:t.clientX,top:t.clientY}}function lS(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function nc(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(t.someProp(e,s=>l>o.depth?s(t,n,o.nodeAfter,o.before(l),i,!0):s(t,n,o.node(l),o.before(l),i,!1)))return!0;return!1}function gr(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function sS(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&A.isSelectable(r)?(gr(t,new A(n),"pointer"),!0):!1}function uS(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof A&&(r=n.node);let o=t.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let s=l>o.depth?o.nodeAfter:o.node(l);if(A.isSelectable(s)){r&&n.$from.depth>0&&l>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(l);break}}return i!=null?(gr(t,A.create(t.state.doc,i),"pointer"),!0):!1}function aS(t,e,n,r,i){return nc(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?uS(t,n):sS(t,n))}function cS(t,e,n,r){return nc(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function fS(t,e,n,r){return nc(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||dS(t,n,r)}function dS(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(gr(t,U.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(l.inlineContent)gr(t,U.create(r,s+1,s+1+l.content.size),"pointer");else if(A.isSelectable(l))gr(t,A.create(r,s),"pointer");else continue;return!0}}function rc(t){return ml(t)}const Hm=Je?"metaKey":"ctrlKey";Ee.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=rc(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&lS(n,t.input.lastClick)&&!n[Hm]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let l=t.posAtCoords($l(n));l&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new hS(t,l,n,!!r)):(o=="doubleClick"?cS:fS)(t,l.pos,l.inside,n)?n.preventDefault():Kt(t,"pointer"))};class hS{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Hm],this.allowDefault=r.shiftKey;let o,l;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),l=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,l=c.depth?c.before():0}const s=i?null:r.target,u=s?e.docView.nearestDesc(s,!0):null;this.target=u?u.dom:null;let{selection:a}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||a instanceof A&&a.from<=l&&a.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ut&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Kt(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>gt(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords($l(e))),this.updateAllowDefault(e),this.allowDefault||!n?Kt(this.view,"pointer"):aS(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ce&&this.mightDrag&&!this.mightDrag.node.isAtom||ye&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(gr(this.view,b.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Kt(this.view,"pointer")}move(e){this.updateAllowDefault(e),Kt(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ee.touchstart=t=>{t.input.lastTouch=Date.now(),rc(t),Kt(t,"pointer")};Ee.touchmove=t=>{t.input.lastTouch=Date.now(),Kt(t,"pointer")};Ee.contextmenu=t=>rc(t);function Km(t,e){return t.composing?!0:Ce&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const pS=it?5e3:-1;Ne.compositionstart=Ne.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ml(t,!0),t.markCursor=null;else if(ml(t),ut&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let l=o<0?i.lastChild:i.childNodes[o-1];if(!l)break;if(l.nodeType==3){t.domSelection().collapse(l,l.nodeValue.length);break}else i=l,o=-1}}t.input.composing=!0}Qm(t,pS)};Ne.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Qm(t,20))};function Qm(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ml(t),e))}function qm(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=mS());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function mS(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ml(t,e=!1){if(!(it&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),qm(t),e||t.docView&&t.docView.dirty){let n=Za(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function gS(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Dr=Ie&&nn<15||Mr&&dk<604;Ee.copy=Ne.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Dr?null:n.clipboardData,l=r.content(),{dom:s,text:u}=_m(t,l);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",u)):gS(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function yS(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function kS(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?$i(t,r.value,null,i,e):$i(t,r.textContent,r.innerHTML,i,e)},50)}function $i(t,e,n,r,i){let o=bm(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,o||C.empty)))return!0;if(!o)return!1;let l=yS(o),s=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Ne.paste=(t,e)=>{let n=e;if(t.composing&&!it)return;let r=Dr?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&$i(t,r.getData("text/plain"),r.getData("text/html"),i,n)?n.preventDefault():kS(t,n)};class SS{constructor(e,n){this.slice=e,this.move=n}}const Ym=Je?"altKey":"ctrlKey";Ee.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords($l(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof A?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(A.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let a=t.docView.nearestDesc(n.target,!0);a&&a.node.type.spec.draggable&&a!=t.docView&&t.dispatch(t.state.tr.setSelection(A.create(t.state.doc,a.posBefore)))}}let l=t.state.selection.content(),{dom:s,text:u}=_m(t,l);n.dataTransfer.clearData(),n.dataTransfer.setData(Dr?"Text":"text/html",s.innerHTML),n.dataTransfer.effectAllowed="copyMove",Dr||n.dataTransfer.setData("text/plain",u),t.dragging=new SS(l,!n[Ym])};Ee.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ne.dragover=Ne.dragenter=(t,e)=>e.preventDefault();Ne.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords($l(n));if(!i)return;let o=t.state.doc.resolve(i.pos),l=r&&r.slice;l?t.someProp("transformPasted",h=>{l=h(l,t)}):l=bm(t,n.dataTransfer.getData(Dr?"Text":"text/plain"),Dr?null:n.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&!n[Ym]);if(t.someProp("handleDrop",h=>h(t,n,l||C.empty,s))){n.preventDefault();return}if(!l)return;n.preventDefault();let u=l?Vk(t.state.doc,o.pos,l):o.pos;u==null&&(u=o.pos);let a=t.state.tr;s&&a.deleteSelection();let c=a.mapping.map(u),f=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,d=a.doc;if(f?a.replaceRangeWith(c,c,l.content.firstChild):a.replaceRange(c,c,l),a.doc.eq(d))return;let p=a.doc.resolve(c);if(f&&A.isSelectable(l.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(l.content.firstChild))a.setSelection(new A(p));else{let h=a.mapping.map(u);a.mapping.maps[a.mapping.maps.length-1].forEach((y,S,g,m)=>h=m),a.setSelection(ec(t,p,a.doc.resolve(h)))}t.focus(),t.dispatch(a.setMeta("uiEvent","drop"))};Ee.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&gt(t)},20))};Ee.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ee.beforeinput=(t,e)=>{if(ye&&it&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,vn(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ne)Ee[t]=Ne[t];function Wi(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class ic{constructor(e,n){this.toDOM=e,this.spec=n||In,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new ke(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ic&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Wi(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class rn{constructor(e,n){this.attrs=e,this.spec=n||In}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new ke(o,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof rn&&Wi(this.attrs,e.attrs)&&Wi(this.spec,e.spec)}static is(e){return e.type instanceof rn}destroy(){}}class oc{constructor(e,n){this.attrs=e,this.spec=n||In}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=o.pos?null:new ke(o.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof oc&&Wi(this.attrs,e.attrs)&&Wi(this.spec,e.spec)}destroy(){}}class ke{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ke(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ke(e,e,new ic(n,r))}static inline(e,n,r,i){return new ke(e,n,new rn(r,i))}static node(e,n,r,i){return new ke(e,n,new oc(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof rn}}const Yn=[],In={},xt=class{constructor(t,e){this.local=t.length?t:Yn,this.children=e.length?e:Yn}static create(t,e){return e.length?gl(e,t,0,In):me}find(t,e,n){let r=[];return this.findInner(t??0,e??1e9,r,0,n),r}findInner(t,e,n,r,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=e&&l.to>=t&&(!i||i(l.spec))&&n.push(l.copy(l.from+r,l.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let l=this.children[o]+1;this.children[o+2].findInner(t-l,e-l,n,r+l,i)}}map(t,e,n){return this==me||t.maps.length==0?this:this.mapInner(t,e,0,0,n||In)}mapInner(t,e,n,r,i){let o;for(let l=0;l<this.local.length;l++){let s=this.local[l].map(t,n,r);s&&s.type.valid(e,s)?(o||(o=[])).push(s):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?vS(this.children,o||[],t,e,n,r,i):o?new xt(o.sort(Fn),Yn):me}add(t,e){return e.length?this==me?xt.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,i=0;t.forEach((l,s)=>{let u=s+n,a;if(a=Xm(e,l,u)){for(r||(r=this.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(l,a,u+1):r.splice(i,0,s,s+l.nodeSize,gl(a,l,u+1,In)),i+=3}});let o=Gm(i?Zm(e):e,-n);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||o.splice(l--,1);return new xt(o.length?this.local.concat(o).sort(Fn):this.local,r||this.children)}remove(t){return t.length==0||this==me?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let i=0;i<n.length;i+=3){let o,l=n[i]+e,s=n[i+1]+e;for(let a=0,c;a<t.length;a++)(c=t[a])&&c.from>l&&c.to<s&&(t[a]=null,(o||(o=[])).push(c));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[i+2].removeInner(o,l+1);u!=me?n[i+2]=u:(n.splice(i,3),i-=3)}if(r.length){for(let i=0,o;i<t.length;i++)if(o=t[i])for(let l=0;l<r.length;l++)r[l].eq(o,e)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new xt(r,n):me}forChild(t,e){if(this==me)return this;if(e.isLeaf)return xt.empty;let n,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(n=this.children[l+2]);break}let i=t+1,o=i+e.content.size;for(let l=0;l<this.local.length;l++){let s=this.local[l];if(s.from<o&&s.to>i&&s.type instanceof rn){let u=Math.max(i,s.from)-i,a=Math.min(o,s.to)-i;u<a&&(r||(r=[])).push(s.copy(u,a))}}if(r){let l=new xt(r.sort(Fn),Yn);return n?new jt([l,n]):l}return n||me}eq(t){if(this==t)return!0;if(!(t instanceof xt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return lc(this.localsInner(t))}localsInner(t){if(this==me)return Yn;if(t.inlineContent||!this.local.some(rn.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof rn||e.push(this.local[n]);return e}};let $e=xt;$e.empty=new xt([],[]);$e.removeOverlap=lc;const me=$e.empty;class jt{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,In));return jt.from(r)}forChild(e,n){if(n.isLeaf)return $e.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=me&&(o instanceof jt?r=r.concat(o.members):r.push(o))}return jt.from(r)}eq(e){if(!(e instanceof jt)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let l=0;l<o.length;l++)n.push(o[l])}}return n?lc(r?n:n.sort(Fn)):Yn}static from(e){switch(e.length){case 0:return me;case 1:return e[0];default:return new jt(e.every(n=>n instanceof $e)?e:e.reduce((n,r)=>n.concat(r instanceof $e?r:r.members),[]))}}}function vS(t,e,n,r,i,o,l){let s=t.slice();for(let a=0,c=o;a<n.maps.length;a++){let f=0;n.maps[a].forEach((d,p,h,y)=>{let S=y-h-(p-d);for(let g=0;g<s.length;g+=3){let m=s[g+1];if(m<0||d>m+c-f)continue;let k=s[g]+c-f;p>=k?s[g+1]=d<=k?-2:-1:h>=i&&S&&(s[g]+=S,s[g+1]+=S)}f+=S}),c=n.maps[a].map(c,-1)}let u=!1;for(let a=0;a<s.length;a+=3)if(s[a+1]<0){if(s[a+1]==-2){u=!0,s[a+1]=-1;continue}let c=n.map(t[a]+o),f=c-i;if(f<0||f>=r.content.size){u=!0;continue}let d=n.map(t[a+1]+o,-1),p=d-i,{index:h,offset:y}=r.content.findIndex(f),S=r.maybeChild(h);if(S&&y==f&&y+S.nodeSize==p){let g=s[a+2].mapInner(n,S,c+1,t[a]+o+1,l);g!=me?(s[a]=f,s[a+1]=p,s[a+2]=g):(s[a+1]=-2,u=!0)}else u=!0}if(u){let a=wS(s,t,e,n,i,o,l),c=gl(a,r,0,l);e=c.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let p=c.children[f];for(;d<s.length&&s[d]<p;)d+=3;s.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new $e(e.sort(Fn),s)}function Gm(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new ke(i.from+e,i.to+e,i.type))}return n}function wS(t,e,n,r,i,o,l){function s(u,a){for(let c=0;c<u.local.length;c++){let f=u.local[c].map(r,i,a);f?n.push(f):l.onRemove&&l.onRemove(u.local[c].spec)}for(let c=0;c<u.children.length;c+=3)s(u.children[c+2],u.children[c]+a+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&s(t[u+2],e[u]+o+1);return n}function Xm(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,l;o<t.length;o++)(l=t[o])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[o]=null);return i}function Zm(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function gl(t,e,n,r){let i=[],o=!1;e.forEach((s,u)=>{let a=Xm(t,s,u+n);if(a){o=!0;let c=gl(a,s,n+u+1,r);c!=me&&i.push(u,u+s.nodeSize,c)}});let l=Gm(o?Zm(t):t,-n).sort(Fn);for(let s=0;s<l.length;s++)l[s].type.valid(e,l[s])||(r.onRemove&&r.onRemove(l[s].spec),l.splice(s--,1));return l.length||i.length?new $e(l,i):me}function Fn(t,e){return t.from-e.from||t.to-e.to}function lc(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),cd(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),cd(e,i,r.copy(o.from,r.to)));break}}}return e}function cd(t,e,n){for(;e<t.length&&Fn(n,t[e])>0;)e++;t.splice(e,0,n)}function Bo(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=me&&e.push(r)}),t.cursorWrapper&&e.push($e.create(t.state.doc,[t.cursorWrapper.deco])),jt.from(e)}const xS={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},CS=Ie&&nn<=11;class ES{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class NS{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ES,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ie&&nn<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),CS&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xS)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(nd(this.view)){if(this.suppressingSelectionUpdates)return gt(this.view);if(Ie&&nn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Wn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Vi(o))n.add(o);for(let o=e.anchorNode;o;o=Vi(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&nd(e)&&!this.ignoreSelectionChange(r),o=-1,l=-1,s=!1,u=[];if(e.editable)for(let c=0;c<n.length;c++){let f=this.registerMutation(n[c],u);f&&(o=o<0?f.from:Math.min(f.from,o),l=l<0?f.to:Math.max(f.to,l),f.typeOver&&(s=!0))}if(ut&&u.length>1){let c=u.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let a=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&_l(r)&&(a=Za(e))&&a.eq(b.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,gt(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,l),OS(e)),this.handleDOMChange(o,l,s,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||gt(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Ie&&nn<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let l=i&&i.parentNode==e.target?we(i)+1:0,s=r.localPosFromDOM(e.target,l,-1),u=o&&o.parentNode==e.target?we(o):e.target.childNodes.length,a=r.localPosFromDOM(e.target,u,1);return{from:s,to:a}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let fd=new WeakMap,dd=!1;function OS(t){if(!fd.has(t)&&(fd.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ut,dd)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),dd=!0}}function MS(t){let e;function n(u){u.preventDefault(),u.stopImmediatePropagation(),e=u.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,l=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Wn(s.node,s.offset,o,l)&&([r,i,o,l]=[o,l,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:l}}function TS(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:l,to:s}=t.docView.parseRange(e,n),u=t.domSelectionRange(),a,c=u.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(a=[{node:c,offset:u.anchorOffset}],_l(u)||a.push({node:u.focusNode,offset:u.focusOffset})),ye&&t.input.lastKeyCode===8)for(let S=o;S>i;S--){let g=r.childNodes[S-1],m=g.pmViewDesc;if(g.nodeName=="BR"&&!m){o=S;break}if(!m||m.size)break}let f=t.state.doc,d=t.someProp("domParser")||Si.fromSchema(t.state.schema),p=f.resolve(l),h=null,y=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:a,ruleFromNode:DS,context:p});if(a&&a[0].pos!=null){let S=a[0].pos,g=a[1]&&a[1].pos;g==null&&(g=S),h={anchor:S+l,head:g+l}}return{doc:y,sel:h,from:l,to:s}}function DS(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ce&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ce&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const RS=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function PS(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,z=Za(t,P);if(z&&!t.state.selection.eq(z)){if(ye&&it&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",pn=>pn(t,vn(13,"Enter"))))return;let de=t.state.tr.setSelection(z);P=="pointer"?de.setMeta("pointer",!0):P=="key"&&de.scrollIntoView(),o&&de.setMeta("composition",o),t.dispatch(de)}return}let l=t.state.doc.resolve(e),s=l.sharedDepth(n);e=l.before(s+1),n=t.state.doc.resolve(n).after(s+1);let u=t.state.selection,a=TS(t,e,n),c=t.state.doc,f=c.slice(a.from,a.to),d,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,p="end"):(d=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=IS(f.content,a.doc.content,a.from,d,p);if((Mr&&t.input.lastIOSEnter>Date.now()-225||it)&&i.some(P=>P.nodeType==1&&!RS.test(P.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",P=>P(t,vn(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&u instanceof U&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(a.sel&&a.sel.anchor!=a.sel.head))h={start:u.from,endA:u.to,endB:u.to};else{if(a.sel){let P=hd(t,t.state.doc,a.sel);if(P&&!P.eq(t.state.selection)){let z=t.state.tr.setSelection(P);o&&z.setMeta("composition",o),t.dispatch(z)}}return}if(ye&&t.cursorWrapper&&a.sel&&a.sel.anchor==t.cursorWrapper.deco.from&&a.sel.head==a.sel.anchor){let P=h.endB-h.start;a.sel={anchor:a.sel.anchor+P,head:a.sel.anchor+P}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof U&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=a.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=a.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),Ie&&nn<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>a.from&&a.doc.textBetween(h.start-a.from-1,h.start-a.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let y=a.doc.resolveNoCache(h.start-a.from),S=a.doc.resolveNoCache(h.endB-a.from),g=c.resolve(h.start),m=y.sameParent(S)&&y.parent.inlineContent&&g.end()>=h.endA,k;if((Mr&&t.input.lastIOSEnter>Date.now()-225&&(!m||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!m&&y.pos<a.doc.content.size&&!y.sameParent(S)&&(k=b.findFrom(a.doc.resolve(y.pos+1),1,!0))&&k.head==S.pos)&&t.someProp("handleKeyDown",P=>P(t,vn(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&AS(c,h.start,h.endA,y,S)&&t.someProp("handleKeyDown",P=>P(t,vn(8,"Backspace")))){it&&ye&&t.domObserver.suppressSelectionUpdates();return}ye&&it&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),it&&!m&&y.start()!=S.start()&&S.parentOffset==0&&y.depth==S.depth&&a.sel&&a.sel.anchor==a.sel.head&&a.sel.head==h.endA&&(h.endB-=2,S=a.doc.resolveNoCache(h.endB-a.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,vn(13,"Enter"))})},20));let v=h.start,E=h.endA,N,D,R;if(m){if(y.pos==S.pos)Ie&&nn<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>gt(t),20)),N=t.state.tr.delete(v,E),D=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(R=zS(y.parent.content.cut(y.parentOffset,S.parentOffset),g.parent.content.cut(g.parentOffset,h.endA-g.start()))))N=t.state.tr,R.type=="add"?N.addMark(v,E,R.mark):N.removeMark(v,E,R.mark);else if(y.parent.child(y.index()).isText&&y.index()==S.index()-(S.textOffset?0:1)){let P=y.parent.textBetween(y.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",z=>z(t,v,E,P)))return;N=t.state.tr.insertText(P,v,E)}}if(N||(N=t.state.tr.replace(v,E,a.doc.slice(h.start-a.from,h.endB-a.from))),a.sel){let P=hd(t,N.doc,a.sel);P&&!(ye&&it&&t.composing&&P.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==v||P.head==N.mapping.map(E)-1)||Ie&&P.empty&&P.head==v)&&N.setSelection(P)}D&&N.ensureMarks(D),o&&N.setMeta("composition",o),t.dispatch(N.scrollIntoView())}function hd(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ec(t,e.resolve(n.anchor),e.resolve(n.head))}function zS(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,l,s,u;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],l="add",u=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],l="remove",u=c=>c.mark(s.removeFromSet(c.marks));else return null;let a=[];for(let c=0;c<e.childCount;c++)a.push(u(e.child(c)));if(x.from(a).eq(t))return{mark:s,type:l}}function AS(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Fs(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=t.resolve(Fs(o,!0,!0));return!l.parent.isTextblock||l.pos>n||Fs(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Fs(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function IS(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:l,b:s}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,o-Math.min(l,s));r-=l+u-o}if(l<o&&t.size<e.size){let u=r<=o&&r>=l?o-r:0;o-=u,s=o+(s-l),l=o}else if(s<o){let u=r<=o&&r>=s?o-r:0;o-=u,l=o+(l-s),s=o}return{start:o,endA:l,endB:s}}class FS{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new tS,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(yd),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=md(this),this.nodeViews=gd(this),this.docView=null,this.domObserver=new(n.DOMObserver??NS)(this,(r,i,o,l)=>PS(this,r,i,o,l)),this.init()}initInput(){nS(this)}init(){pd(this),this.docView=Qf(this.state.doc,Uu(this),Bo(this),this.dom,this),this.domObserver.start(),this.initInput(),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Wu(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(yd),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(qm(this),o=!0),this.state=e;let l=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let d=gd(this);BS(d,this.nodeViews)&&(this.nodeViews=d,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Wu(this),this.editable=md(this),pd(this);let s=Bo(this),u=Uu(this),a=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,u,s);(c||!e.selection.eq(r.selection))&&(o=!0);let f=a=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Sm(this);if(o){this.domObserver.stop();let d=c&&(Ie||ye)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&LS(r.selection,e.selection);if(c){let p=ye?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,u,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Qf(e.doc,u,s,this.dom,this)),p&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&$k(this))?gt(this,d):(Lm(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),a=="reset"?this.dom.scrollTop=0:a=="to selection"?this.scrollToSelection():f&&wm(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof A){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Wf(this,n.getBoundingClientRect(),e)}else Wf(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let s=this.directPlugins[l].props[e];if(s!=null&&(i=n?n(s):s))return i}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let s=o[l].props[e];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(Ie){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&mk(this.dom),gt(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return vk(this,e)}coordsAtPos(e,n=1){return Nm(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Nk(this,n||this.state,e)}pasteHTML(e,n){return $i(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return $i(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(rS(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Bo(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return oS(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Ce&&this.root.nodeType===11&&uk(this.dom.ownerDocument)==this.dom?MS(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Uu(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ke.node(0,t.state.doc.content.size,e)]}function pd(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ke.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function md(t){return!t.someProp("editable",e=>e(t.state)===!1)}function LS(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function gd(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function BS(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function yd(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class VS extends FS{init(){this.domObserver.start(),this.initInput()}updateStateInner(e,n){this.editable=!this.someProp("editable",s=>s(this.state)===!1);const r=this.state;this.state=e;const i=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",o=!e.selection.eq(r.selection),l=i=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Sm(this);i=="reset"?this.dom.scrollTop=0:i=="to selection"?this.scrollToSelection():l&&wm(l)}set docView(e){}get docView(){return this.dom.pmViewDesc}}function _S(t){return function(...e){Bi.unstable_batchedUpdates(()=>{t.call(this,...e)})}}function bS(t){this.updateState(this.state.apply(t))}function $S(t,e){return{...t,dispatchTransaction:function(r){_S(t.dispatchTransaction??bS).call(this,r),e()}}}function WS(t,e){const[n,r]=O.useState(null),i=gm(),o=$S(e,i),l="defaultState"in o?o.defaultState:o.state;return O.useLayoutEffect(()=>{if(n&&n.dom!==t&&r(null),!!t&&!n){const s=new VS({mount:t},{...o,state:l});r(s);return}},[o,t,l,n]),n==null||n.setProps({...o,..."state"in o&&{state:o.state}}),n}function US(t){O.useEffect(()=>{if(!t)return;const{domObserver:e}=t;return e.connectSelection(),()=>e.disconnectSelection()},[t]),O.useEffect(()=>{t!=null&&t.state&&(t!=null&&t.composing||gt(t))})}function jS(t){const e=O.useRef(null),n=e.current;return e.current=t,n}function JS(t,e,n){const r=jS(e),i=O.useRef([]);O.useLayoutEffect(()=>{if(!(!t||!r))for(const o of i.current)o.update&&o.update(t,r)},[r,t]),O.useLayoutEffect(()=>{var o,l;if(t){i.current=[];for(const s of[...n,...t.state.plugins]){const u=(l=(o=s.spec).view)==null?void 0:l.call(o,t);u&&i.current.push(u)}}},[n,t]),O.useLayoutEffect(()=>()=>{for(const o of i.current)o.destroy&&o.destroy()},[])}const Ft=O.createContext([]);function eg(t,e,n,r,i){const o=O.useContext(Ft),l=[];return O.useLayoutEffect(()=>{if(!t||!n.current)return;const s=l[0],u=new Dt(void 0,l,t,i,r,(e==null?void 0:e.current)??n.current,(s==null?void 0:s.dom.parentElement)??null,n.current);o.push(u);for(const a of l)a.parent=u}),l}var tg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e=function(){function n(){}n.prototype=Object.create(null);function r(f,d){for(var p=d.length,h=0;h<p;++h)a(f,d[h])}var i={}.hasOwnProperty;function o(f,d){f[d]=!0}function l(f,d){if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]")){f[d.toString()]=!0;return}for(var p in d)i.call(d,p)&&(f[p]=!!d[p])}var s=/\s+/;function u(f,d){for(var p=d.split(s),h=p.length,y=0;y<h;++y)f[p[y]]=!0}function a(f,d){if(d){var p=typeof d;p==="string"?u(f,d):Array.isArray(d)?r(f,d):p==="object"?l(f,d):p==="number"&&o(f,d)}}function c(){for(var f=arguments.length,d=Array(f),p=0;p<f;p++)d[p]=arguments[p];var h=new n;r(h,d);var y=[];for(var S in h)h[S]&&y.push(S);return y.join(" ")}return c}();t.exports?(e.default=e,t.exports=e):window.classNames=e})()})(tg);var HS=tg.exports;const KS=ug(HS);function QS(t,e){return t.type.side-e.type.side}function qS(t,e,n,r){const i=e.locals(t);let o=0;if(i.length==0){for(let a=0;a<t.childCount;a++){const c=t.child(a);r(c,i,e.forChild(o,c),o,a),o+=c.nodeSize}return}let l=0;const s=[];let u=null;for(let a=0;;){if(l<i.length&&i[l].to==o){const h=i[l++];let y;for(;l<i.length&&i[l].to==o;)(y||(y=[h])).push(i[l++]);if(y){y.sort(QS);for(let S=0;S<y.length;S++)n(y[S],o,a+S,!!u)}else n(h,o,a,!!u)}let c,f;if(u)f=-1,c=u,u=null;else if(a<t.childCount)f=a,c=t.child(a++);else break;for(let h=0;h<s.length;h++)s[h].to<=o&&s.splice(h--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)s.push(i[l++]);let d=o+c.nodeSize;if(c.isText){let h=d;l<i.length&&i[l].from<h&&(h=i[l].from);for(let y=0;y<s.length;y++)s[y].to<h&&(h=s[y].to);h<d&&(u=c.cut(h-o),c=c.cut(0,h-o),d=h,f=-1)}const p=c.isInline&&!c.isLeaf?s.filter(h=>!h.inline):s.slice();r(c,p,e.forChild(o,c),o,f),o=d}}function Wl(){const{editorState:t}=O.useContext(Vl);return t}function So(t){const e=Math.floor(Math.random()*16777215).toString(16);return t.isTextblock&&t.textContent===""?`${e}-empty`:e}const ng=new oh("@nytimes/react-prosemirror/reactKeys");function YS(){let t=!1;return new xl({key:ng,state:{init(e,n){const r={posToKey:new Map,keyToPos:new Map};return n.doc.descendants((i,o)=>{const l=So(i);return r.posToKey.set(o,l),r.keyToPos.set(l,o),!0}),r},apply(e,n,r,i){if(!e.docChanged||t)return n;const o={posToKey:new Map,keyToPos:new Map},l=new Set;return i.doc.descendants((s,u)=>{const a=e.mapping.invert().map(u),c=n.posToKey.get(a)??So(s);let f=l.has(c)?So(s):c;return(f.endsWith("-empty")&&s.isTextblock&&s.textContent!==""||!f.endsWith("-empty")&&s.isTextblock&&s.textContent==="")&&(f=So(s)),o.posToKey.set(u,f),o.keyToPos.set(f,u),l.add(f),!0}),o}},props:{handleDOMEvents:{compositionstart:()=>{t=!0},compositionend:()=>{t=!1}}}})}function rg(){const t=Wl();return t&&ng.getState(t)}const sc=O.forwardRef(function({outputSpec:e,children:n,...r},i){if(typeof e=="string")return L(Sl,{children:e});if(!Array.isArray(e))throw new Error("@nytimes/react-prosemirror only supports strings and arrays in toDOM");const l=e[0].replace(" ",":"),s=e[1],u={...r,ref:i};let a=1;if(s&&typeof s=="object"&&s.nodeType==null&&!Array.isArray(s)){a=2;for(const f in s)if(s[f]!=null){const d=f==="class"?"className":f.replace(" ",":");u[d]=s[f]}}const c=[];for(let f=a;f<e.length;f++){const d=e[f];if(d===0){if(f<e.length-1||f>a)throw new RangeError("Content hole must be the only child of its parent node");return O.createElement(l,u,n)}c.push(L(sc,{ref:void 0,outputSpec:d,children:n}))}return O.createElement(l,u,...c)}),ig=O.forwardRef(function({mark:e,children:n},r){var u,a;const i=O.useContext(Ft),o=[],l=O.useRef(null);O.useImperativeHandle(r,()=>l.current,[]);const s=(a=(u=e.type.spec).toDOM)==null?void 0:a.call(u,e,!0);if(!s)throw new Error(`Mark spec for ${e.type.name} is missing toDOM`);return O.useLayoutEffect(()=>{if(!l.current)return;const c=o[0],f=new un(void 0,o,e,l.current,(c==null?void 0:c.dom.parentElement)??l.current);i.push(f);for(const d of o)d.parent=f}),L(sc,{ref:l,outputSpec:s,children:L(Ft.Provider,{value:o,children:n})})});function og({outerDeco:t,pos:e,node:n,innerDeco:r,...i}){var h,y;const o=O.useRef(null),l=O.useRef(null),s=eg(n,o,l,r,t),u=Wl(),{nodeViews:a}=O.useContext(ym);let c=null;const f=a[n.type.name];if(f)c=L(f,{...i,ref:l,nodeProps:{node:n,pos:e,decorations:t,innerDecorations:r,isSelected:(u==null?void 0:u.selection)instanceof A&&u.selection.node===n},children:L(yl,{pos:e,node:n,innerDecorations:r})});else{const S=(y=(h=n.type.spec).toDOM)==null?void 0:y.call(h,n);S&&(c=L(sc,{...i,ref:l,outputSpec:S,children:L(yl,{pos:e,node:n,innerDecorations:r})}))}if(!c)throw new Error(`Node spec for ${n.type.name} is missing toDOM`);const d=O.cloneElement(t.reduce(uc,c),t.some(S=>S.type.attrs.nodeName)?{ref:o}:void 0),p=n.marks.reduce((S,g)=>L(ig,{mark:g,children:S}),d);return L(Ft.Provider,{value:s,children:O.cloneElement(p,n.marks.length||t.some(S=>S.type.attrs.nodeName)?{ref:o}:void 0)})}class GS extends O.Component{constructor(){super(...arguments),this.renderRef=null}componentDidMount(){const e=Bi.findDOMNode(this);if(!e)return;let n=e;for(;n.firstChild;)n=n.firstChild;const r=new Tr(void 0,[],this.props.node,this.props.decorations,$e.empty,e,n);this.props.siblingDescriptors.push(r)}componentDidUpdate(){const e=Bi.findDOMNode(this);if(!e)return;let n=e;for(;n.firstChild;)n=n.firstChild;const r=new Tr(void 0,[],this.props.node,this.props.decorations,$e.empty,e,n);this.props.siblingDescriptors.push(r)}render(){var e;return(e=this.props.view)!=null&&e.composing?this.renderRef:(this.renderRef=this.props.decorations.reduce(uc,this.props.node.text),this.renderRef)}}function XS(){const t=O.useContext(Ft),e=O.useRef(null);return O.useLayoutEffect(()=>{if(!e.current)return;const n=new Ga(void 0,[],e.current,null);t.push(n)}),L("br",{ref:e,className:"ProseMirror-trailingBreak"})}function ZS({widget:t,pos:e}){const n=O.useContext(Ft),r=O.useRef(null);O.useLayoutEffect(()=>{if(!r.current)return;const o=new Ya(void 0,t,r.current);n.push(o)});const{Component:i}=t.type;return i&&L(i,{ref:r,widget:t,pos:e,contentEditable:!1})}function kd(t){const e=`{"${t.replace(/;? *$/,"").replace(/;+ */g,'","').replace(/: */g,'":"')}"}`,n=JSON.parse(e);return Object.keys(n).reduce((r,i)=>{const o=i.startsWith("--")?i:i.replace(/-[a-z]/g,l=>{var s;return((s=l[1])==null?void 0:s.toUpperCase())??""});return{...r,[o]:n[i]}},{})}function uc(t,e){const{nodeName:n,class:r,style:i,contenteditable:o,spellcheck:l,...s}=e.type.attrs;return n||typeof t=="string"?O.createElement(n??"span",{className:r,contentEditable:o,spellCheck:l,style:i&&kd(i),...s},t):O.cloneElement(t,{className:KS(t.props.className,r),contentEditable:o,spellCheck:l,style:{...t.props.style,...i&&kd(i)},...s})}function lg({innerPos:t,childViews:e}){const{editorView:n}=O.useContext(Vl),r=Wl(),i=rg(),o=e.reduce((l,s)=>{var c;const u=l[l.length-1];if(!u)return[[s]];const a=u[u.length-1];return a?!s.marks.length&&!a.marks.length||s.marks.length&&a.marks.length&&((c=s.marks[0])!=null&&c.eq(a.marks[0]))?[...l.slice(0,l.length-1),[...u.slice(0,u.length),s]]:[...l,[s]]:[...l.slice(0,l.length),[s]]},[]);return L(Sl,{children:o.map(l=>{const s=l[0];if(!s)return null;const u=s.marks[0];return u?L(ig,{mark:u,children:L(lg,{innerPos:t,childViews:l.map(a=>({...a,marks:a.marks.slice(1)}))},gi(r==null?void 0:r.doc,t,s,i==null?void 0:i.posToKey))},gi(r==null?void 0:r.doc,t,s,i==null?void 0:i.posToKey)):l.map(a=>{const c=t+a.offset,f=a.type==="widget"?L(ZS,{widget:a.widget,pos:c}):a.node.isText?L(Ft.Consumer,{children:d=>L(GS,{view:n,node:a.node,siblingDescriptors:d,decorations:a.outerDeco})}):L(og,{node:a.node,pos:c,outerDeco:a.outerDeco,innerDeco:a.innerDeco});return O.cloneElement(f,{key:gi(r==null?void 0:r.doc,t,a,i==null?void 0:i.posToKey)})})})})}function gi(t,e,n,r){const i=e+n.offset,o=r==null?void 0:r.get(i);if(n.type==="widget")return n.widget.type.spec.key?n.widget.type.spec.key:(console.warn(`Widget at position ${i} doesn't have a key specified. This has negative performance implications.`),`${o}-${n.index}`);if(o)return o;if(!t)return i;const l=t.resolve(i).start()-1,s=r==null?void 0:r.get(l);return s?`${s}-${n.offset}`:i}function ev(t){const e=t[t.length-1];if((e==null?void 0:e.type)!=="node")return;const n=e.marks;for(let r=t.length-2;r>=0;r--){const i=t[r];if((i==null?void 0:i.type)!=="widget"||i.widget.type.side<0)break;i.marks=i.marks.reduce((o,l)=>l.addToSet(o),n)}}function yl({pos:t,node:e,innerDecorations:n}){const r=Wl(),i=rg();if(!e)return null;const o=[],l=t+1,s=[];return qS(e,n,(u,a,c)=>{var d;const f=u.type.spec.marks??[];s.push({type:"widget",widget:u,marks:u.type.side>=0?f:f.reduce((p,h)=>h.addToSet(p),((d=s[0])==null?void 0:d.marks)??[]),offset:a,index:c})},(u,a,c,f)=>{if(!u.isInline){const d=l+f,p=(i==null?void 0:i.posToKey.get(d))??d;o.push(L(og,{outerDeco:a,node:u,innerDeco:c,pos:d},p));return}s.push({type:"node",node:u,marks:u.marks,innerDeco:c,outerDeco:a,offset:f}),ev(s)}),s.length&&o.push(L(lg,{childViews:s,innerPos:l},gi(r==null?void 0:r.doc,l,s[0],i==null?void 0:i.posToKey))),o.length||o.push(L(XS,{},gi(r==null?void 0:r.doc,l,{type:"trailinghack",offset:0},i==null?void 0:i.posToKey))),L(Sl,{children:o})}const tv=O.forwardRef(function({className:e,node:n,innerDeco:r,outerDeco:i,as:o},l){const s=O.useRef(null);O.useImperativeHandle(l,()=>s.current,[]);const u=eg(n,s,s,r,i),a={ref:s,className:e,suppressContentEditableWarning:!0},c=o?O.cloneElement(o,a,L(Ft.Provider,{value:u,children:L(yl,{pos:-1,node:n,innerDecorations:r})})):O.createElement("div",a,L(Ft.Provider,{value:u,children:L(yl,{pos:-1,node:n,innerDecorations:r})}));if(!n)return c;const f=i.filter(p=>!p.inline);return f.length?f.reduce(uc,c):c});function nv({className:t,children:e,nodeViews:n={},as:r,...i}){const[o,l]=O.useState(null),{componentEventListenersPlugin:s,registerEventListener:u,unregisterEventListener:a}=ok(),c=O.useMemo(()=>[...i.plugins??[],s],[i.plugins,s]),f=WS(o,{...i,plugins:c}),d="state"in i?i.state??null:(f==null?void 0:f.state)??null,p=O.useMemo(()=>({editorView:f,editorState:d,registerEventListener:u,unregisterEventListener:a}),[d,f,u,a]);f==null||f.domObserver.stop(),O.useEffect(()=>{f==null||f.domObserver.start()});const h=O.useMemo(()=>i.plugins??[],[i.plugins]);O.useEffect(()=>(f==null||f.domObserver.connectSelection(),()=>f==null?void 0:f.domObserver.disconnectSelection()),[f==null?void 0:f.domObserver]),US(f),JS(f,d,h);const y=f?Bo(f):$e.empty,S=f?Uu(f):[];return L(rk,{children:L(Vl.Provider,{value:p,children:L(ym.Provider,{value:{nodeViews:n},children:Dd(Sl,{children:[L(tv,{className:t,ref:l,node:f==null?void 0:f.state.doc,innerDeco:y,outerDeco:S,as:r}),e]})})})})}function rv(t,e){if(t==e)return!0;for(const n in t)if(t[n]!==e[n])return!1;for(const n in e)if(!(n in t))return!1;return!0}const iv={side:0};class ac{constructor(e,n){this.Component=e,this.spec=n??iv,this.side=this.spec.side??0}map(e,n,r,i){const{pos:o,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new ke(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ac&&(this.spec.key&&this.spec.key==e.spec.key||this.Component==e.Component&&rv(this.spec,e.spec))}destroy(){}}function ov(t,e,n){return new ke(t,t,new ac(e,n))}const le=new Jg({nodes:{doc:{content:"block+"},paragraph:{group:"block",content:"inline*",toDOM(){return["p",0]}},img:{group:"inline",inline:!0,toDOM(){return["img",{src:"data:image/gif;base64,R0lGODlhBQAFAIABAAAAAP///yH5BAEKAAEALAAAAAAFAAUAAAIEjI+pWAA7"}]}},list:{group:"block",content:"list_item+",toDOM(){return["ul",0]}},list_item:{content:"paragraph+",toDOM(){return["li",0]}},text:{group:"inline"}},marks:{em:{toDOM(){return["em",0]}},strong:{toDOM(){return["strong",0]}}}}),lv=Gn.create({schema:le,doc:le.nodes.doc.create({},[le.nodes.paragraph.create({},[le.text("This ",[le.marks.em.create()]),le.text("is",[le.marks.em.create(),le.marks.strong.create()]),le.nodes.img.create(),le.text(" the first paragraph")]),le.nodes.paragraph.create({},le.text("This is the second paragraph")),le.nodes.paragraph.create(),le.nodes.paragraph.create({},le.text("This is the third paragraph"))]),plugins:[YS()]}),sv=O.forwardRef(function({children:e,nodeProps:n,...r},i){return L("p",{ref:i,...r,children:e})}),uv=O.forwardRef(function(e,n){return L("span",{...e,ref:n,style:{display:"inline-block",padding:"0.75rem 1rem",border:"solid thin black"},children:"Widget"})}),av=new xl({view(t){const e=t.coordsAtPos(t.state.selection.from),n=document.createElement("div");return n.style.width="4px",n.style.height="4px",n.style.position="absolute",n.style.top=`${e.top-2}px`,n.style.left=`${e.left-2}px`,n.style.backgroundColor="blue",document.body.appendChild(n),{update(r){const i=r.coordsAtPos(r.state.selection.from);n.style.top=`${i.top-2}px`,n.style.left=`${i.left-2}px`},destroy(){document.body.removeChild(n)}}}}),cv=[Yy({...Wy,"Mod-i":Dc(le.marks.em),"Mod-b":Dc(le.marks.strong)}),av];function fv(){const[t,e]=O.useState(lv);return Dd("main",{children:[L("h1",{children:"React ProseMirror Demo"}),L(nv,{as:L("article",{}),className:"ProseMirror",state:t,dispatchTransaction:function(n){e(r=>r.apply(n))},decorations:n=>{const r=[ke.inline(5,15,{class:"inline-deco"})];return n.doc.forEach((i,o,l)=>{l===1&&r.push(ke.node(o,o+i.nodeSize,{nodeName:"div",class:"node-deco"})),l===2&&r.push(ke.node(o,o+i.nodeSize,{class:"node-deco"})),l===3&&r.push(ov(o+i.nodeSize-20,uv,{side:0,key:"widget-deco"}))}),$e.create(n.doc,r)},plugins:cv,nodeViews:{paragraph:sv}})]})}const dv=mm(document.getElementById("root"));dv.render(L(fv,{}));
