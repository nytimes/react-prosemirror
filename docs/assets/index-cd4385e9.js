(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ag(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vd={exports:{}},wl={},wd={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=Symbol.for("react.element"),cg=Symbol.for("react.portal"),fg=Symbol.for("react.fragment"),dg=Symbol.for("react.strict_mode"),hg=Symbol.for("react.profiler"),pg=Symbol.for("react.provider"),mg=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),yg=Symbol.for("react.suspense"),kg=Symbol.for("react.memo"),Sg=Symbol.for("react.lazy"),hc=Symbol.iterator;function vg(t){return t===null||typeof t!="object"?null:(t=hc&&t[hc]||t["@@iterator"],typeof t=="function"?t:null)}var xd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cd=Object.assign,Ed={};function Rr(t,e,n){this.props=t,this.context=e,this.refs=Ed,this.updater=n||xd}Rr.prototype.isReactComponent={};Rr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nd(){}Nd.prototype=Rr.prototype;function Hu(t,e,n){this.props=t,this.context=e,this.refs=Ed,this.updater=n||xd}var Ku=Hu.prototype=new Nd;Ku.constructor=Hu;Cd(Ku,Rr.prototype);Ku.isPureReactComponent=!0;var pc=Array.isArray,Od=Object.prototype.hasOwnProperty,Qu={current:null},Md={key:!0,ref:!0,__self:!0,__source:!0};function Td(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Od.call(e,r)&&!Md.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),a=0;a<s;a++)u[a]=arguments[a+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ji,type:t,key:o,ref:l,props:i,_owner:Qu.current}}function wg(t,e){return{$$typeof:Ji,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ji}function xg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mc=/\/+/g;function Ql(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xg(""+t.key):e.toString(36)}function Eo(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ji:case cg:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Ql(l,0):r,pc(i)?(n="",t!=null&&(n=t.replace(mc,"$&/")+"/"),Eo(i,e,n,"",function(a){return a})):i!=null&&(qu(i)&&(i=wg(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(mc,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",pc(t))for(var s=0;s<t.length;s++){o=t[s];var u=r+Ql(o,s);l+=Eo(o,e,n,u,i)}else if(u=vg(t),typeof u=="function")for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=r+Ql(o,s++),l+=Eo(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function no(t,e,n){if(t==null)return t;var r=[],i=0;return Eo(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Cg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Oe={current:null},No={transition:null},Eg={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:No,ReactCurrentOwner:Qu};B.Children={map:no,forEach:function(t,e,n){no(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return no(t,function(){e++}),e},toArray:function(t){return no(t,function(e){return e})||[]},only:function(t){if(!qu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=Rr;B.Fragment=fg;B.Profiler=hg;B.PureComponent=Hu;B.StrictMode=dg;B.Suspense=yg;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eg;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cd({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Qu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)Od.call(e,u)&&!Md.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var a=0;a<u;a++)s[a]=arguments[a+2];r.children=s}return{$$typeof:Ji,type:t.type,key:i,ref:o,props:r,_owner:l}};B.createContext=function(t){return t={$$typeof:mg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pg,_context:t},t.Consumer=t};B.createElement=Td;B.createFactory=function(t){var e=Td.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:gg,render:t}};B.isValidElement=qu;B.lazy=function(t){return{$$typeof:Sg,_payload:{_status:-1,_result:t},_init:Cg}};B.memo=function(t,e){return{$$typeof:kg,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=No.transition;No.transition={};try{t()}finally{No.transition=e}};B.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};B.useCallback=function(t,e){return Oe.current.useCallback(t,e)};B.useContext=function(t){return Oe.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Oe.current.useDeferredValue(t)};B.useEffect=function(t,e){return Oe.current.useEffect(t,e)};B.useId=function(){return Oe.current.useId()};B.useImperativeHandle=function(t,e,n){return Oe.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return Oe.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Oe.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Oe.current.useMemo(t,e)};B.useReducer=function(t,e,n){return Oe.current.useReducer(t,e,n)};B.useRef=function(t){return Oe.current.useRef(t)};B.useState=function(t){return Oe.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return Oe.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return Oe.current.useTransition()};B.version="18.2.0";wd.exports=B;var x=wd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng=x,Og=Symbol.for("react.element"),Mg=Symbol.for("react.fragment"),Tg=Object.prototype.hasOwnProperty,Dg=Ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rg={key:!0,ref:!0,__self:!0,__source:!0};function Dd(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)Tg.call(e,r)&&!Rg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Og,type:t,key:o,ref:l,props:i,_owner:Dg.current}}wl.Fragment=Mg;wl.jsx=Dd;wl.jsxs=Dd;vd.exports=wl;var Yu=vd.exports;const xl=Yu.Fragment,F=Yu.jsx,Rd=Yu.jsxs;function ue(t){this.content=t}ue.prototype={constructor:ue,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new ue(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new ue(n)},addToStart:function(t,e){return new ue([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new ue(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new ue(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=ue.from(t),t.size?new ue(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=ue.from(t),t.size?new ue(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=ue.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};ue.from=function(t){if(t instanceof ue)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new ue(e)};function Pd(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let l=0;i.text[l]==o.text[l];l++)n++;return n}if(i.content.size||o.content.size){let l=Pd(i.content,o.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function zd(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let l=t.child(--i),s=e.child(--o),u=l.nodeSize;if(l==s){n-=u,r-=u;continue}if(!l.sameMarkup(s))return{a:n,b:r};if(l.isText&&l.text!=s.text){let a=0,c=Math.min(l.text.length,s.text.length);for(;a<c&&l.text[l.text.length-a-1]==s.text[s.text.length-a-1];)a++,n--,r--;return{a:n,b:r}}if(l.content.size||s.content.size){let a=zd(l.content,s.content,n-1,r-1);if(a)return a}n-=u,r-=u}}class C{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let l=0,s=0;s<n;l++){let u=this.content[l],a=s+u.nodeSize;if(a>e&&r(u,i+s,o||null,l)!==!1&&u.content.size){let c=s+1;u.nodesBetween(Math.max(0,e-c),Math.min(u.content.size,n-c),r,i+c)}s=a}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",l=!0;return this.nodesBetween(e,n,(s,u)=>{s.isText?(o+=s.text.slice(Math.max(e,u)-u,n-u),l=!r):s.isLeaf?(i?o+=typeof i=="function"?i(s):i:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),l=!r):!l&&s.isBlock&&(o+=r,l=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new C(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,l=0;l<n;o++){let s=this.content[o],u=l+s.nodeSize;u>e&&((l<e||u>n)&&(s.isText?s=s.cut(Math.max(0,e-l),Math.min(s.text.length,n-l)):s=s.cut(Math.max(0,e-l-1),Math.min(s.content.size,n-l-1))),r.push(s),i+=s.nodeSize),l=u}return new C(r,i)}cutByIndex(e,n){return e==n?C.empty:e==0&&n==this.content.length?this:new C(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new C(i,o)}addToStart(e){return new C([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new C(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return Pd(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return zd(this,e,n,r)}findIndex(e,n=-1){if(e==0)return ro(0,e);if(e==this.size)return ro(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),l=i+o.nodeSize;if(l>=e)return l==e||n>0?ro(r+1,l):ro(r,i);i=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return C.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new C(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return C.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new C(n||e,r)}static from(e){if(!e)return C.empty;if(e instanceof C)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new C([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}C.empty=new C([],0);const ql={index:0,offset:0};function ro(t,e){return ql.index=t,ql.offset=e,ql}function Wo(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Wo(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Wo(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class _{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Wo(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return _.none;if(e instanceof _)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}_.none=[];class Si extends Error{}class O{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Id(this.content,e+this.openStart,n);return r&&new O(r,this.openStart,this.openEnd)}removeBetween(e,n){return new O(Ad(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return O.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new O(C.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new O(e,r,i)}}O.empty=new O(C.empty,0,0);function Ad(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:l,offset:s}=t.findIndex(n);if(i==e||o.isText){if(s!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(Ad(o.content,e-i-1,n-i-1)))}function Id(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),l=t.maybeChild(i);if(o==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let s=Id(l.content,e-o-1,n);return s&&t.replaceChild(i,l.copy(s))}function Pg(t,e,n){if(n.openStart>t.depth)throw new Si("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Si("Inconsistent open depths");return Fd(t,e,n,0)}function Fd(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=Fd(t,e,n,r+1);return o.copy(o.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,s=l.content;return zn(l,s.cut(0,t.parentOffset).append(n.content).append(s.cut(e.parentOffset)))}else{let{start:l,end:s}=zg(n,t);return zn(o,Bd(t,l,s,e,r))}else return zn(o,Uo(t,e,r))}function Ld(t,e){if(!e.type.compatibleContent(t.type))throw new Si("Cannot join "+e.type.name+" onto "+t.type.name)}function _s(t,e,n){let r=t.node(n);return Ld(r,e.node(n)),r}function Pn(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ti(t,e,n,r){let i=(e||t).node(n),o=0,l=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Pn(t.nodeAfter,r),o++));for(let s=o;s<l;s++)Pn(i.child(s),r);e&&e.depth==n&&e.textOffset&&Pn(e.nodeBefore,r)}function zn(t,e){return t.type.checkContent(e),t.copy(e)}function Bd(t,e,n,r,i){let o=t.depth>i&&_s(t,e,i+1),l=r.depth>i&&_s(n,r,i+1),s=[];return ti(null,t,i,s),o&&l&&e.index(i)==n.index(i)?(Ld(o,l),Pn(zn(o,Bd(t,e,n,r,i+1)),s)):(o&&Pn(zn(o,Uo(t,e,i+1)),s),ti(e,n,i,s),l&&Pn(zn(l,Uo(n,r,i+1)),s)),ti(r,null,i,s),new C(s)}function Uo(t,e,n){let r=[];if(ti(null,t,n,r),t.depth>n){let i=_s(t,e,n+1);Pn(zn(i,Uo(t,e,n+1)),r)}return ti(e,null,n,r),new C(r)}function zg(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(C.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class vi{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return _.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!i||!o[l].isInSet(i.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ig(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let l=e;;){let{index:s,offset:u}=l.content.findIndex(o),a=o-u;if(r.push(l,s,i+u),!a||(l=l.child(s),l.isText))break;o=a-1,i+=u+1}return new vi(n,r,o)}static resolveCached(e,n){for(let i=0;i<Yl.length;i++){let o=Yl[i];if(o.pos==n&&o.doc==e)return o}let r=Yl[Gl]=vi.resolve(e,n);return Gl=(Gl+1)%Ag,r}}let Yl=[],Gl=0,Ag=12;class Ig{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Fg=Object.create(null);class pt{constructor(e,n,r,i=_.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||C.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Wo(this.attrs,n||e.defaultAttrs||Fg)&&_.sameSet(this.marks,r||_.none)}copy(e=null){return e==this.content?this:new pt(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new pt(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return O.empty;let i=this.resolve(e),o=this.resolve(n),l=r?0:i.sharedDepth(n),s=i.start(l),a=i.node(l).content.cut(i.pos-s,o.pos-s);return new O(a,i.depth-l,o.depth-l)}replace(e,n,r){return Pg(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return vi.resolveCached(this,e)}resolveNoCache(e){return vi.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Vd(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=C.empty,i=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,o),s=l&&l.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let u=i;u<o;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=_.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!_.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=C.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}pt.prototype.text=void 0;class jo extends pt{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Vd(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new jo(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new jo(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Vd(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Bn{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Lg(e,n);if(r.next==null)return Bn.empty;let i=_d(r);r.next&&r.err("Unexpected trailing text");let o=Ug(Wg(i));return jg(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(l,s){let u=l.matchFragment(e,r);if(u&&(!n||u.validEnd))return C.from(s.map(a=>a.createAndFill()));for(let a=0;a<l.next.length;a++){let{type:c,next:f}=l.next[a];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let l=[];for(let s=i;s.type;s=s.via)l.push(s.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:s,next:u}=o.next[l];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||u.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}Bn.empty=new Bn(!0);class Lg{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function _d(t){let e=[];do e.push(Bg(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Bg(t){let e=[];do e.push(Vg(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Vg(t){let e=$g(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=_g(t,e);else break;return e}function gc(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function _g(t,e){let n=gc(t),r=n;return t.eat(",")&&(t.next!="}"?r=gc(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function bg(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let l=n[o];l.groups.indexOf(e)>-1&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function $g(t){if(t.eat("(")){let e=_d(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=bg(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Wg(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(l,s,u){let a={term:u,to:s};return e[l].push(a),a}function i(l,s){l.forEach(u=>u.to=s)}function o(l,s){if(l.type=="choice")return l.exprs.reduce((u,a)=>u.concat(o(a,s)),[]);if(l.type=="seq")for(let u=0;;u++){let a=o(l.exprs[u],s);if(u==l.exprs.length-1)return a;i(a,s=n())}else if(l.type=="star"){let u=n();return r(s,u),i(o(l.expr,u),u),[r(u)]}else if(l.type=="plus"){let u=n();return i(o(l.expr,s),u),i(o(l.expr,u),u),[r(u)]}else{if(l.type=="opt")return[r(s)].concat(o(l.expr,s));if(l.type=="range"){let u=s;for(let a=0;a<l.min;a++){let c=n();i(o(l.expr,u),c),u=c}if(l.max==-1)i(o(l.expr,u),u);else for(let a=l.min;a<l.max;a++){let c=n();r(u,c),i(o(l.expr,u),c),u=c}return[r(u)]}else{if(l.type=="name")return[r(s,void 0,l.value)];throw new Error("Unknown expr type")}}}}function bd(t,e){return e-t}function yc(t,e){let n=[];return r(e),n.sort(bd);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let l=0;l<o.length;l++){let{term:s,to:u}=o[l];!s&&n.indexOf(u)==-1&&r(u)}}}function Ug(t){let e=Object.create(null);return n(yc(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:s,to:u})=>{if(!s)return;let a;for(let c=0;c<i.length;c++)i[c][0]==s&&(a=i[c][1]);yc(t,u).forEach(c=>{a||i.push([s,a=[]]),a.indexOf(c)==-1&&a.push(c)})})});let o=e[r.join(",")]=new Bn(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let s=i[l][1].sort(bd);o.next.push({type:i[l][0],next:e[s.join(",")]||n(s)})}return o}}function jg(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,l=[];for(let s=0;s<i.next.length;s++){let{type:u,next:a}=i.next[s];l.push(u.name),o&&!(u.isText||u.hasRequiredAttrs())&&(o=!1),r.indexOf(a)==-1&&r.push(a)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $d(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Wd(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Ud(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Jg(t[n]);return e}let kc=class jd{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Ud(r.attrs),this.defaultAttrs=$d(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Bn.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Wd(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new pt(this,this.computeAttrs(e),C.from(n),_.setFrom(r))}createChecked(e=null,n,r){return n=C.from(n),this.checkContent(n),new pt(this,this.computeAttrs(e),n,_.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=C.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(C.empty,!0);return o?new pt(this,e,n.append(o),_.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:_.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,l)=>r[o]=new jd(o,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class Jg{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Cl{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Ud(i.attrs),this.excluded=null;let o=$d(this.attrs);this.instance=o?new _(this,o):null}create(e=null){return!e&&this.instance?this.instance:new _(this,Wd(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,l)=>r[o]=new Cl(o,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class Hg{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=ue.from(e.nodes),n.marks=ue.from(e.marks||{}),this.nodes=kc.compile(this.spec.nodes,this),this.marks=Cl.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],l=o.spec.content||"",s=o.spec.marks;o.contentMatch=r[l]||(r[l]=Bn.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=s=="_"?null:s?Sc(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:Sc(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof kc){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new jo(r,r.defaultAttrs,e,_.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return pt.fromJSON(this,e)}markFromJSON(e){return _.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Sc(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],l=o;if(o)n.push(o);else for(let s in t.marks){let u=t.marks[s];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=u)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class wi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new wc(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new wc(this,n,!0);return r.addAll(e,n.from,n.to),O.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(qg(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let l=this.styles[o],s=l.style;if(!(s.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=n))){if(l.getAttrs){let u=l.getAttrs(n);if(u===!1)continue;l.attrs=u||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let s=n[l];if((s.priority==null?50:s.priority)<o)break}n.splice(l,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(l=>{r(l=xc(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(l=>{r(l=xc(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new wi(e,wi.schemaRules(e)))}}const Jd={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Kg={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Hd={ol:!0,ul:!0},Jo=1,Ho=2,ni=4;function vc(t,e,n){return e!=null?(e?Jo:0)|(e==="full"?Ho:0):t&&t.whitespace=="pre"?Jo|Ho:n&~ni}class io{constructor(e,n,r,i,o,l,s){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=s,this.content=[],this.activeMarks=_.none,this.stashMarks=[],this.match=l||(s&ni?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(C.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Jo)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=C.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(C.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):Gg(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Jd.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class wc{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,l=vc(null,n.preserveWhitespace,0)|(r?ni:0);i?o=new io(i.type,i.attrs,_.none,_.none,!0,n.topMatch||i.type.contentMatch,l):r?o=new io(null,null,_.none,_.none,!0,null,l):o=new io(e.schema.topNodeType,null,_.none,_.none,!0,null,l),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style");if(!n)this.addElement(e);else{let r=this.readStyles(Yg(n));if(!r)return;let[i,o]=r,l=this.top;for(let s=0;s<o.length;s++)this.removePendingMark(o[s],l);for(let s=0;s<i.length;s++)this.addPendingMark(i[s]);this.addElement(e);for(let s=0;s<i.length;s++)this.removePendingMark(i[s],l);for(let s=0;s<o.length;s++)this.addPendingMark(o[s])}}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Ho||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Jo)r.options&Ho?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;Hd.hasOwnProperty(r)&&this.parser.normalizeLists&&Qg(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:Kg.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let l,s=this.top,u=this.needsBlock;if(Jd.hasOwnProperty(r))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),l=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),l&&this.sync(s),this.needsBlock=u}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=_.none,r=_.none;e:for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let l=this.parser.matchStyle(e[i],e[i+1],this,o);if(!l)continue e;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.forEach(s=>{l.clearMark(s)&&(r=s.addToSet(r))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)o=l;else break}return[n,r]}addElementByRule(e,n,r){let i,o,l;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(l=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(l));let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u)}i&&this.sync(s)&&this.open--,l&&this.removePendingMark(l,s)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=r==null?null:e.childNodes[r];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],l=o.findWrapping(e);if(l&&(!n||n.length>l.length)&&(n=l,r=o,!l.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let l=vc(e,i,o.options);o.options&ni&&o.content.length==0&&(l|=ni),this.nodes.push(new io(e,n,o.activeMarks,o.pendingMarks,r,null,l)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),l=(s,u)=>{for(;s>=0;s--){let a=n[s];if(a==""){if(s==n.length-1||s==0)continue;for(;u>=o;u--)if(l(s-1,u))return!0;return!1}else{let c=u>0||u==0&&i?this.nodes[u].type:r&&u>=o?r.node(u-o).type:null;if(!c||c.name!=a&&c.groups.indexOf(a)==-1)return!1;u--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=Xg(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let l=i.popFromStashMark(e);l&&i.type&&i.type.allowsMarkType(l.type)&&(i.activeMarks=l.addToSet(i.activeMarks))}if(i==n)break}}}function Qg(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Hd.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function qg(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Yg(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function xc(t){let e={};for(let n in t)e[n]=t[n];return e}function Gg(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],l=s=>{o.push(s);for(let u=0;u<s.edgeCount;u++){let{type:a,next:c}=s.edge(u);if(a==e||o.indexOf(c)<0&&l(c))return!0}};if(l(i.contentMatch))return!0}}function Xg(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Mt{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Xl(n).createDocumentFragment());let i=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let s=0,u=0;for(;s<o.length&&u<l.marks.length;){let a=l.marks[u];if(!this.marks[a.type.name]){u++;continue}if(!a.eq(o[s][0])||a.type.spec.spanning===!1)break;s++,u++}for(;s<o.length;)i=o.pop()[1];for(;u<l.marks.length;){let a=l.marks[u++],c=this.serializeMark(a,l.isInline,n);c&&(o.push([a,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Mt.renderSpec(Xl(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Mt.renderSpec(Xl(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let l,s=r?e.createElementNS(r,i):e.createElement(i),u=n[1],a=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){a=2;for(let c in u)if(u[c]!=null){let f=c.indexOf(" ");f>0?s.setAttributeNS(c.slice(0,f),c.slice(f+1),u[c]):s.setAttribute(c,u[c])}}for(let c=a;c<n.length;c++){let f=n[c];if(f===0){if(c<n.length-1||c>a)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{let{dom:d,contentDOM:p}=Mt.renderSpec(e,f,r);if(s.appendChild(d),p){if(l)throw new RangeError("Multiple content holes");l=p}}}return{dom:s,contentDOM:l}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Mt(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Cc(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Cc(e.marks)}}function Cc(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Xl(t){return t.document||window.document}const Kd=65535,Qd=Math.pow(2,16);function Zg(t,e){return t+e*Qd}function Ec(t){return t&Kd}function ey(t){return(t-(t&Kd))/Qd}const qd=1,Yd=2,Oo=4,Gd=8;let bs=class{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Gd)>0}get deletedBefore(){return(this.delInfo&(qd|Oo))>0}get deletedAfter(){return(this.delInfo&(Yd|Oo))>0}get deletedAcross(){return(this.delInfo&Oo)>0}},kr=class qn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&qn.empty)return qn.empty}recover(e){let n=0,r=Ec(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+ey(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let u=this.ranges[s]-(this.inverted?i:0);if(u>e)break;let a=this.ranges[s+o],c=this.ranges[s+l],f=u+a;if(e<=f){let d=a?e==u?-1:e==f?1:n:n,p=u+i+(d<0?0:c);if(r)return p;let h=e==(n<0?u:f)?null:Zg(s/3,e-u),m=e==u?Yd:e==f?qd:Oo;return(n<0?e!=u:e!=f)&&(m|=Gd),new bs(p,m,h)}i+=c-a}return r?e+i:new bs(e+i,0,null)}touches(e,n){let r=0,i=Ec(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let u=this.ranges[s]-(this.inverted?r:0);if(u>e)break;let a=this.ranges[s+o],c=u+a;if(e<=c&&s==i*3)return!0;r+=this.ranges[s+l]-a}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],s=l-(this.inverted?o:0),u=l+(this.inverted?0:o),a=this.ranges[i+n],c=this.ranges[i+r];e(s,s+a,u,u+c),o+=c-a}}invert(){return new qn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?qn.empty:new qn(e<0?[0,-e,0]:[0,0,e])}};kr.empty=new kr([]);class ri{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new ri(this.maps,this.mirror,e,n)}copy(){return new ri(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ri;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let l=this.maps[o],s=l.mapResult(e,n);if(s.recover!=null){let u=this.getMirror(o);if(u!=null&&u>o&&u<this.to){o=u,e=this.maps[u].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return r?e:new bs(e,i,null)}}const Zl=Object.create(null);let Le=class{getMap(){return kr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Zl[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Zl)throw new RangeError("Duplicate use of step JSON ID "+e);return Zl[e]=n,n.prototype.jsonID=e,n}},De=class Ur{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ur(e,null)}static fail(e){return new Ur(null,e)}static fromReplace(e,n,r,i){try{return Ur.ok(e.replace(n,r,i))}catch(o){if(o instanceof Si)return Ur.fail(o.message);throw o}}};function Gu(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Gu(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return C.fromArray(r)}let Xu=class jr extends Le{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new O(Gu(n.content,(l,s)=>!l.isAtom||!s.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return De.fromReplace(e,this.from,this.to,o)}invert(){return new Hi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new jr(n.pos,r.pos,this.mark)}merge(e){return e instanceof jr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new jr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new jr(n.from,n.to,e.markFromJSON(n.mark))}};Le.jsonID("addMark",Xu);let Hi=class Jr extends Le{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new O(Gu(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return De.fromReplace(e,this.from,this.to,r)}invert(){return new Xu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Jr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Jr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Jr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Jr(n.from,n.to,e.markFromJSON(n.mark))}};Le.jsonID("removeMark",Hi);let Zu=class Hr extends Le{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return De.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return De.fromReplace(e,this.pos,this.pos+1,new O(C.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Hr(this.pos,n.marks[i]);return new Hr(this.pos,this.mark)}}return new ea(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Hr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Hr(n.pos,e.markFromJSON(n.mark))}};Le.jsonID("addNodeMark",Zu);let ea=class $s extends Le{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return De.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return De.fromReplace(e,this.pos,this.pos+1,new O(C.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Zu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new $s(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new $s(n.pos,e.markFromJSON(n.mark))}};Le.jsonID("removeNodeMark",ea);let cn=class kn extends Le{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Ws(e,this.from,this.to)?De.fail("Structure replace would overwrite content"):De.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new kr([this.from,this.to-this.from,this.slice.size])}invert(e){return new kn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new kn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof kn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?O.empty:new O(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new kn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?O.empty:new O(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new kn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new kn(n.from,n.to,O.fromJSON(e,n.slice),!!n.structure)}};Le.jsonID("replace",cn);let Pt=class Mo extends Le{constructor(e,n,r,i,o,l,s=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=s}apply(e){if(this.structure&&(Ws(e,this.from,this.gapFrom)||Ws(e,this.gapTo,this.to)))return De.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return De.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?De.fromReplace(e,this.from,this.to,r):De.fail("Content does not fit in gap")}getMap(){return new kr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Mo(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Mo(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Mo(n.from,n.to,n.gapFrom,n.gapTo,O.fromJSON(e,n.slice),n.insert,!!n.structure)}};Le.jsonID("replaceAround",Pt);function Ws(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function ty(t,e,n,r){let i=[],o=[],l,s;t.doc.nodesBetween(e,n,(u,a,c)=>{if(!u.isInline)return;let f=u.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(a,e),p=Math.min(a+u.nodeSize,n),h=r.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(h)||(l&&l.to==d&&l.mark.eq(f[m])?l.to=p:i.push(l=new Hi(d,p,f[m])));s&&s.to==d?s.to=p:o.push(s=new Xu(d,p,r))}}),i.forEach(u=>t.step(u)),o.forEach(u=>t.step(u))}function ny(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(l,s)=>{if(!l.isInline)return;o++;let u=null;if(r instanceof Cl){let a=l.marks,c;for(;c=r.isInSet(a);)(u||(u=[])).push(c),a=c.removeFromSet(a)}else r?r.isInSet(l.marks)&&(u=[r]):u=l.marks;if(u&&u.length){let a=Math.min(s+l.nodeSize,n);for(let c=0;c<u.length;c++){let f=u[c],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=a,d.step=o):i.push({style:f,from:Math.max(s,e),to:a,step:o})}}}),i.forEach(l=>t.step(new Hi(l.from,l.to,l.style)))}function ry(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],l=e+1;for(let s=0;s<i.childCount;s++){let u=i.child(s),a=l+u.nodeSize,c=r.matchType(u.type);if(!c)o.push(new cn(l,a,O.empty));else{r=c;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new Hi(l,a,u.marks[f]))}l=a}if(!r.validEnd){let s=r.fillBefore(C.empty,!0);t.replace(l,l,new O(s,0,0))}for(let s=o.length-1;s>=0;s--)t.step(o[s])}function iy(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ta(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,l,n))return r;if(r==0||i.type.spec.isolating||!iy(i,o,l))break}return null}function oy(t,e,n){let{$from:r,$to:i,depth:o}=e,l=r.before(o+1),s=i.after(o+1),u=l,a=s,c=C.empty,f=0;for(let h=o,m=!1;h>n;h--)m||r.index(h)>0?(m=!0,c=C.from(r.node(h).copy(c)),f++):u--;let d=C.empty,p=0;for(let h=o,m=!1;h>n;h--)m||i.after(h+1)<i.end(h)?(m=!0,d=C.from(i.node(h).copy(d)),p++):a++;t.step(new Pt(u,a,l,s,new O(c.append(d),f,p),c.size-f,!0))}function ly(t,e,n){let r=C.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let s=n[l].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=C.from(n[l].type.create(n[l].attrs,r))}let i=e.start,o=e.end;t.step(new Pt(i,o,i,o,new O(r,0,0),n.length,!0))}function sy(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(l,s)=>{if(l.isTextblock&&!l.hasMarkup(r,i)&&uy(t.doc,t.mapping.slice(o).map(s),r)){t.clearIncompatible(t.mapping.slice(o).map(s,1),r);let u=t.mapping.slice(o),a=u.map(s,1),c=u.map(s+l.nodeSize,1);return t.step(new Pt(a,c,a+1,c-1,new O(C.from(r.create(i,null,l.marks)),0,0),1,!0)),!1}})}function uy(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function ay(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let l=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,l);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Pt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new O(C.from(l),0,0),1,!0))}function To(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let a=i.depth-1,c=n-2;a>o;a--,c--){let f=i.node(a),d=i.index(a);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=r&&r[c]||f;if(h!=f&&(p=p.replaceChild(0,h.type.create(h.attrs))),!f.canReplace(d+1,f.childCount)||!h.type.validContent(p))return!1}let s=i.indexAfter(o),u=r&&r[0];return i.node(o).canReplaceWith(s,s,u?u.type:i.node(o+1).type)}function cy(t,e,n=1,r){let i=t.doc.resolve(e),o=C.empty,l=C.empty;for(let s=i.depth,u=i.depth-n,a=n-1;s>u;s--,a--){o=C.from(i.node(s).copy(o));let c=r&&r[a];l=C.from(c?c.type.create(c.attrs,l):i.node(s).copy(l))}t.step(new cn(e,e,new O(o.append(l),n,n),!0))}function Xd(t,e){let n=t.resolve(e),r=n.index();return fy(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function fy(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function dy(t,e,n){let r=new cn(e-n,e+n,O.empty,!0);t.step(r)}function hy(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function na(t,e,n=e,r=O.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return Zd(i,o,r)?new cn(e,n,r):new py(i,o,r).fit()}function Zd(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class py{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=C.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=C.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let a=this.findFittable();a?this.placeNodes(a):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,l=r.depth,s=i.depth;for(;l&&s&&o.childCount==1;)o=o.firstChild.content,l--,s--;let u=new O(o,l,s);return e>-1?new Pt(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new cn(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=es(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let l=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:u,match:a}=this.frontier[s],c,f=null;if(n==1&&(l?a.matchType(l.type)||(f=a.fillBefore(C.from(l),!1)):o&&u.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:s,parent:o,inject:f};if(n==2&&l&&(c=a.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:s,parent:o,wrap:c};if(o&&a.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=es(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new O(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=es(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new O(Kr(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new O(Kr(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let l=this.unplaced,s=r?r.content:l.content,u=l.openStart-e,a=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));f=f.matchFragment(i)}let p=s.size+e-(l.content.size-l.openEnd);for(;a<s.childCount;){let m=s.child(a),S=f.matchType(m.type);if(!S)break;a++,(a>1||u==0||m.content.size)&&(f=S,c.push(eh(m.mark(d.allowedMarks(m.marks)),a==1?u:0,a==s.childCount?p:-1)))}let h=a==s.childCount;h||(p=-1),this.placed=Qr(this.placed,n,C.from(c)),this.frontier[n].match=f,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,S=s;m<p;m++){let y=S.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),S=y.content}this.unplaced=h?e==0?O.empty:new O(Kr(l.content,e-1,1),e-1,p<0?l.openEnd:e-1):new O(Kr(l.content,e,a),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!ts(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=ts(e,n,i,r,o);if(l){for(let s=n-1;s>=0;s--){let{match:u,type:a}=this.frontier[s],c=ts(e,s,a,u,!0);if(!c||c.childCount)continue e}return{depth:n,fit:l,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Qr(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Qr(this.placed,this.depth,C.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(C.empty,!0);n.childCount&&(this.placed=Qr(this.placed,this.frontier.length,n))}}function Kr(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Kr(t.firstChild.content,e-1,n)))}function Qr(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Qr(t.lastChild.content,e-1,n)))}function es(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function eh(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,eh(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(C.empty,!0)))),t.copy(r)}function ts(t,e,n,r,i){let o=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,l);return s&&!my(n,o.content,l)?s:null}function my(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function gy(t){return t.spec.defining||t.spec.definingForContent}function yy(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(Zd(i,o,r))return t.step(new cn(e,n,r));let l=nh(i,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let s=-(i.depth+1);l.unshift(s);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;l.indexOf(d)>-1?s=d:i.before(d)==p&&l.splice(1,0,-d)}let u=l.indexOf(s),a=[],c=r.openStart;for(let d=r.content,p=0;;p++){let h=d.firstChild;if(a.push(h),p==r.openStart)break;d=h.content}for(let d=c-1;d>=0;d--){let p=a[d].type,h=gy(p);if(h&&i.node(u).type!=p)c=d;else if(h||!p.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+c+1)%(r.openStart+1),h=a[p];if(h)for(let m=0;m<l.length;m++){let S=l[(m+u)%l.length],y=!0;S<0&&(y=!1,S=-S);let g=i.node(S-1),k=i.index(S-1);if(g.canReplaceWith(k,k,h.type,h.marks))return t.replace(i.before(S),y?o.after(S):n,new O(th(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let d=l.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let p=l[d];p<0||(e=i.before(p),n=o.after(p))}}function th(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(th(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),l=o.fillBefore(t).append(t);t=l.append(o.matchFragment(l).fillBefore(C.empty,!0))}return t}function ky(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=hy(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new O(C.from(r),0,0))}function Sy(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=nh(r,i);for(let l=0;l<o.length;l++){let s=o[l],u=l==o.length-1;if(u&&s==0||r.node(s).type.contentMatch.validEnd)return t.delete(r.start(s),i.end(s));if(s>0&&(u||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return t.delete(r.before(s),i.after(s))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l)return t.delete(r.before(l),n);t.delete(e,n)}function nh(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}let rh=class Do extends Le{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return De.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return De.fromReplace(e,this.pos,this.pos+1,new O(C.from(i),0,n.isLeaf?0:1))}getMap(){return kr.empty}invert(e){return new Do(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Do(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Do(n.pos,n.attr,n.value)}};Le.jsonID("attr",rh);let Sr=class extends Error{};Sr=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Sr.prototype=Object.create(Error.prototype);Sr.prototype.constructor=Sr;Sr.prototype.name="TransformError";class vy{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ri}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Sr(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=O.empty){let i=na(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new O(C.from(r),0,0))}delete(e,n){return this.replace(e,n,O.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return yy(this,e,n,r),this}replaceRangeWith(e,n,r){return ky(this,e,n,r),this}deleteRange(e,n){return Sy(this,e,n),this}lift(e,n){return oy(this,e,n),this}join(e,n=1){return dy(this,e,n),this}wrap(e,n){return ly(this,e,n),this}setBlockType(e,n=e,r,i=null){return sy(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return ay(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new rh(e,n,r)),this}addNodeMark(e,n){return this.step(new Zu(e,n)),this}removeNodeMark(e,n){if(!(n instanceof _)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new ea(e,n)),this}split(e,n=1,r){return cy(this,e,n,r),this}addMark(e,n,r){return ty(this,e,n,r),this}removeMark(e,n,r){return ny(this,e,n,r),this}clearIncompatible(e,n,r){return ry(this,e,n,r),this}}const ns=Object.create(null);class b{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new wy(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=O.empty){let r=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let s=0;s<l.length;s++){let{$from:u,$to:a}=l[s],c=e.mapping.slice(o);e.replaceRange(c.map(u.pos),c.map(a.pos),s?O.empty:n),s==0&&Mc(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:l,$to:s}=i[o],u=e.mapping.slice(r),a=u.map(l.pos),c=u.map(s.pos);o?e.deleteRange(a,c):(e.replaceRangeWith(a,c,n),Mc(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new j(e):Yn(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let l=n<0?Yn(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Yn(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new be(e.node(0))}static atStart(e){return Yn(e,e,0,0,1)||new be(e)}static atEnd(e){return Yn(e,e,e.content.size,e.childCount,-1)||new be(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ns[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ns)throw new RangeError("Duplicate use of selection JSON ID "+e);return ns[e]=n,n.prototype.jsonID=e,n}getBookmark(){return j.between(this.$anchor,this.$head).getBookmark()}}b.prototype.visible=!0;class wy{constructor(e,n){this.$from=e,this.$to=n}}let Nc=!1;function Oc(t){!Nc&&!t.parent.inlineContent&&(Nc=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class j extends b{constructor(e,n=e){Oc(e),Oc(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return b.near(r);let i=e.resolve(n.map(this.anchor));return new j(i.parent.inlineContent?i:r,r)}replace(e,n=O.empty){if(super.replace(e,n),n==O.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof j&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new El(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new j(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=b.findFrom(n,r,!0)||b.findFrom(n,-r,!0);if(o)n=o.$head;else return b.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(b.findFrom(e,-r,!0)||b.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new j(e,n)}}b.jsonID("text",j);class El{constructor(e,n){this.anchor=e,this.head=n}map(e){return new El(e.map(this.anchor),e.map(this.head))}resolve(e){return j.between(e.resolve(this.anchor),e.resolve(this.head))}}class A extends b{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?b.near(o):new A(o)}content(){return new O(C.from(this.node),0,0)}eq(e){return e instanceof A&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ra(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new A(e.resolve(n.anchor))}static create(e,n){return new A(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}A.prototype.visible=!1;b.jsonID("node",A);class ra{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new El(r,r):new ra(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&A.isSelectable(r)?new A(n):b.near(n)}}class be extends b{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=O.empty){if(n==O.empty){e.delete(0,e.doc.content.size);let r=b.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new be(e)}map(e){return new be(e)}eq(e){return e instanceof be}getBookmark(){return xy}}b.jsonID("all",be);const xy={map(){return this},resolve(t){return new be(t)}};function Yn(t,e,n,r,i,o=!1){if(e.inlineContent)return j.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let s=e.child(l);if(s.isAtom){if(!o&&A.isSelectable(s))return A.create(t,n-(i<0?s.nodeSize:0))}else{let u=Yn(t,s,n+i,i<0?s.childCount:0,i,o);if(u)return u}n+=s.nodeSize*i}return null}function Mc(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof cn||i instanceof Pt))return;let o=t.mapping.maps[r],l;o.forEach((s,u,a,c)=>{l==null&&(l=c)}),t.setSelection(b.near(t.doc.resolve(l),n))}const Tc=1,oo=2,Dc=4;class Cy extends vy{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Tc)&~oo,this.storedMarks=null,this}get selectionSet(){return(this.updated&Tc)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=oo,this}ensureMarks(e){return _.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&oo)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~oo,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||_.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(n);o=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(b.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Dc,this}get scrolledIntoView(){return(this.updated&Dc)>0}}function Rc(t,e){return!e||!t?t:t.bind(e)}class qr{constructor(e,n,r){this.name=e,this.init=Rc(n.init,r),this.apply=Rc(n.apply,r)}}const Ey=[new qr("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new qr("selection",{init(t,e){return t.selection||b.atStart(e.doc)},apply(t){return t.selection}}),new qr("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new qr("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class rs{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Ey.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new qr(r.key,r.spec.state,r))})}}class Xn{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let s=this.config.plugins[l];if(s.spec.appendTransaction){let u=i?i[l].n:0,a=i?i[l].state:this,c=u<n.length&&s.spec.appendTransaction.call(s,u?n.slice(u):n,a,r);if(c&&r.filterTransaction(c,l)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<l?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[l]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Xn(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new Cy(this)}static create(e){let n=new rs(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Xn(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new rs(this.schema,e.plugins),r=n.fields,i=new Xn(n);for(let o=0;o<r.length;o++){let l=r[o].name;i[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new rs(e.schema,e.plugins),o=new Xn(i);return i.fields.forEach(l=>{if(l.name=="doc")o.doc=pt.fromJSON(e.schema,n.doc);else if(l.name=="selection")o.selection=b.fromJSON(o.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let s in r){let u=r[s],a=u.spec.state;if(u.key==l.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){o[l.name]=a.fromJSON.call(u,e,n[s],o);return}}o[l.name]=l.init(e,o)}}),o}}function ih(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=ih(i,e,{})),n[r]=i}return n}class Nl{constructor(e){this.spec=e,this.props={},e.props&&ih(e.props,this,this.props),this.key=e.key?e.key.key:oh("plugin")}getState(e){return e[this.key]}}const is=Object.create(null);function oh(t){return t in is?t+"$"+ ++is[t]:(is[t]=0,t+"$")}class lh{constructor(e="key"){this.key=oh(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const sh=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Ny(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Oy=(t,e,n)=>{let r=Ny(t,n);if(!r)return!1;let i=uh(r);if(!i){let l=r.blockRange(),s=l&&ta(l);return s==null?!1:(e&&e(t.tr.lift(l,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&ch(t,i,e))return!0;if(r.parent.content.size==0&&(vr(o,"end")||A.isSelectable(o))){let l=na(t.doc,r.before(),r.after(),O.empty);if(l&&l.slice.size<l.to-l.from){if(e){let s=t.tr.step(l);s.setSelection(vr(o,"end")?b.findFrom(s.doc.resolve(s.mapping.map(i.pos,-1)),-1):A.create(s.doc,i.pos-o.nodeSize)),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function vr(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const My=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=uh(r)}let l=o&&o.nodeBefore;return!l||!A.isSelectable(l)?!1:(e&&e(t.tr.setSelection(A.create(t.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function uh(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Ty(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Dy=(t,e,n)=>{let r=Ty(t,n);if(!r)return!1;let i=ah(r);if(!i)return!1;let o=i.nodeAfter;if(ch(t,i,e))return!0;if(r.parent.content.size==0&&(vr(o,"start")||A.isSelectable(o))){let l=na(t.doc,r.before(),r.after(),O.empty);if(l&&l.slice.size<l.to-l.from){if(e){let s=t.tr.step(l);s.setSelection(vr(o,"start")?b.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):A.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Ry=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=ah(r)}let l=o&&o.nodeAfter;return!l||!A.isSelectable(l)?!1:(e&&e(t.tr.setSelection(A.create(t.doc,o.pos)).scrollIntoView()),!0)};function ah(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Py=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function ia(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const zy=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),l=ia(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(e){let s=n.after(),u=t.tr.replaceWith(s,s,l.createAndFill());u.setSelection(b.near(u.doc.resolve(s),1)),e(u.scrollIntoView())}return!0},Ay=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof be||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=ia(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=t.tr.insert(l,o.createAndFill());s.setSelection(j.create(s.doc,l+1)),e(s.scrollIntoView())}return!0},Iy=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(To(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&ta(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function Fy(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof A&&e.selection.node.isBlock)return!r.parentOffset||!To(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let o=i.parentOffset==i.parent.content.size,l=e.tr;(e.selection instanceof j||e.selection instanceof be)&&l.deleteSelection();let s=r.depth==0?null:ia(r.node(-1).contentMatchAt(r.indexAfter(-1))),u=t&&t(i.parent,o),a=u?[u]:o&&s?[{type:s}]:void 0,c=To(l.doc,l.mapping.map(r.pos),1,a);if(!a&&!c&&To(l.doc,l.mapping.map(r.pos),1,s?[{type:s}]:void 0)&&(s&&(a=[{type:s}]),c=!0),c&&(l.split(l.mapping.map(r.pos),1,a),!o&&!r.parentOffset&&r.parent.type!=s)){let f=l.mapping.map(r.before()),d=l.doc.resolve(f);s&&r.node(-1).canReplaceWith(d.index(),d.index()+1,s)&&l.setNodeMarkup(l.mapping.map(r.before()),s)}n(l.scrollIntoView())}return!0}}const Ly=Fy(),By=(t,e)=>(e&&e(t.tr.setSelection(new be(t.doc))),!0);function Vy(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Xd(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function ch(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,l;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(Vy(t,e,n))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(o=(l=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,d=C.empty;for(let m=o.length-1;m>=0;m--)d=C.from(o[m].create(null,d));d=C.from(r.copy(d));let p=t.tr.step(new Pt(e.pos-1,f,e.pos,f,new O(d,1,0),o.length,!0)),h=f+2*o.length;Xd(p.doc,h)&&p.join(h),n(p.scrollIntoView())}return!0}let u=b.findFrom(e,1),a=u&&u.$from.blockRange(u.$to),c=a&&ta(a);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(a,c).scrollIntoView()),!0;if(s&&vr(i,"start",!0)&&vr(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let p=i,h=1;for(;!p.isTextblock;p=p.firstChild)h++;if(f.canReplace(f.childCount,f.childCount,p.content)){if(n){let m=C.empty;for(let y=d.length-1;y>=0;y--)m=C.from(d[y].copy(m));let S=t.tr.step(new Pt(e.pos-d.length,e.pos+i.nodeSize,e.pos+h,e.pos+i.nodeSize-h,new O(m,d.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function fh(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(j.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const _y=fh(-1),by=fh(1);function $y(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],l=i.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(i.pos,o.pos,s=>{if(l)return!1;l=s.inlineContent&&s.type.allowsMarkType(n)}),l)return!0}return!1}function Pc(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:l}=n.selection;if(i&&!o||!$y(n.doc,l,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let s=!1,u=n.tr;for(let a=0;!s&&a<l.length;a++){let{$from:c,$to:f}=l[a];s=n.doc.rangeHasMark(c.pos,f.pos,t)}for(let a=0;a<l.length;a++){let{$from:c,$to:f}=l[a];if(s)u.removeMark(c.pos,f.pos,t);else{let d=c.pos,p=f.pos,h=c.nodeAfter,m=f.nodeBefore,S=h&&h.isText?/^\s*/.exec(h.text)[0].length:0,y=m&&m.isText?/\s*$/.exec(m.text)[0].length:0;d+S<p&&(d+=S,p-=y),u.addMark(d,p,t.create(e))}}r(u.scrollIntoView())}return!0}}function oa(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let ls=oa(sh,Oy,My),zc=oa(sh,Dy,Ry);const Nt={Enter:oa(Py,Ay,Iy,Ly),"Mod-Enter":zy,Backspace:ls,"Mod-Backspace":ls,"Shift-Backspace":ls,Delete:zc,"Mod-Delete":zc,"Mod-a":By},dh={"Ctrl-h":Nt.Backspace,"Alt-Backspace":Nt["Mod-Backspace"],"Ctrl-d":Nt.Delete,"Ctrl-Alt-Backspace":Nt["Mod-Delete"],"Alt-Delete":Nt["Mod-Delete"],"Alt-d":Nt["Mod-Delete"],"Ctrl-a":_y,"Ctrl-e":by};for(let t in Nt)dh[t]=Nt[t];const Wy=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Uy=Wy?dh:Nt;var ln={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ko={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ac=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),jy=typeof navigator<"u"&&/Mac/.test(navigator.platform),Jy=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Hy=jy||Ac&&+Ac[1]<57;for(var ce=0;ce<10;ce++)ln[48+ce]=ln[96+ce]=String(ce);for(var ce=1;ce<=24;ce++)ln[ce+111]="F"+ce;for(var ce=65;ce<=90;ce++)ln[ce]=String.fromCharCode(ce+32),Ko[ce]=String.fromCharCode(ce);for(var ss in ln)Ko.hasOwnProperty(ss)||(Ko[ss]=ln[ss]);function Ky(t){var e=Hy&&(t.ctrlKey||t.altKey||t.metaKey)||Jy&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ko:ln)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Qy=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function qy(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,l;for(let s=0;s<e.length-1;s++){let u=e[s];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))Qy?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Yy(t){let e=Object.create(null);for(let n in t)e[qy(n)]=t[n];return e}function us(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Gy(t){return new Nl({props:{handleKeyDown:Xy(t)}})}function Xy(t){let e=Yy(t);return function(n,r){let i=Ky(r),o,l=e[us(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=e[us(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ln[r.keyCode])&&o!=i){let s=e[us(o,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}var hh={exports:{}},Ue={},ph={exports:{}},mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,I){var L=R.length;R.push(I);e:for(;0<L;){var X=L-1>>>1,ie=R[X];if(0<i(ie,I))R[X]=I,R[L]=ie,L=X;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],L=R.pop();if(L!==I){R[0]=L;e:for(var X=0,ie=R.length,eo=ie>>>1;X<eo;){var gn=2*(X+1)-1,Kl=R[gn],yn=gn+1,to=R[yn];if(0>i(Kl,L))yn<ie&&0>i(to,Kl)?(R[X]=to,R[yn]=L,X=yn):(R[X]=Kl,R[gn]=L,X=gn);else if(yn<ie&&0>i(to,L))R[X]=to,R[yn]=L,X=yn;else break e}}return I}function i(R,I){var L=R.sortIndex-I.sortIndex;return L!==0?L:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var u=[],a=[],c=1,f=null,d=3,p=!1,h=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(R){for(var I=n(a);I!==null;){if(I.callback===null)r(a);else if(I.startTime<=R)r(a),I.sortIndex=I.expirationTime,e(u,I);else break;I=n(a)}}function v(R){if(m=!1,k(R),!h)if(n(u)!==null)h=!0,Jl(E);else{var I=n(a);I!==null&&Hl(v,I.startTime-R)}}function E(R,I){h=!1,m&&(m=!1,y(P),P=-1),p=!0;var L=d;try{for(k(I),f=n(u);f!==null&&(!(f.expirationTime>I)||R&&!W());){var X=f.callback;if(typeof X=="function"){f.callback=null,d=f.priorityLevel;var ie=X(f.expirationTime<=I);I=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(u)&&r(u),k(I)}else r(u);f=n(u)}if(f!==null)var eo=!0;else{var gn=n(a);gn!==null&&Hl(v,gn.startTime-I),eo=!1}return eo}finally{f=null,d=L,p=!1}}var N=!1,T=null,P=-1,z=5,D=-1;function W(){return!(t.unstable_now()-D<z)}function et(){if(T!==null){var R=t.unstable_now();D=R;var I=!0;try{I=T(!0,R)}finally{I?mn():(N=!1,T=null)}}else N=!1}var mn;if(typeof g=="function")mn=function(){g(et)};else if(typeof MessageChannel<"u"){var dc=new MessageChannel,ug=dc.port2;dc.port1.onmessage=et,mn=function(){ug.postMessage(null)}}else mn=function(){S(et,0)};function Jl(R){T=R,N||(N=!0,mn())}function Hl(R,I){P=S(function(){R(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,Jl(E))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var L=d;d=I;try{return R()}finally{d=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=d;d=R;try{return I()}finally{d=L}},t.unstable_scheduleCallback=function(R,I,L){var X=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?X+L:X):L=X,R){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=L+ie,R={id:c++,callback:I,priorityLevel:R,startTime:L,expirationTime:ie,sortIndex:-1},L>X?(R.sortIndex=L,e(a,R),n(u)===null&&R===n(a)&&(m?(y(P),P=-1):m=!0,Hl(v,L-X))):(R.sortIndex=ie,e(u,R),h||p||(h=!0,Jl(E))),R},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(R){var I=d;return function(){var L=d;d=I;try{return R.apply(this,arguments)}finally{d=L}}}})(mh);ph.exports=mh;var Zy=ph.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh=x,We=Zy;function w(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yh=new Set,xi={};function jn(t,e){wr(t,e),wr(t+"Capture",e)}function wr(t,e){for(xi[t]=e,t=0;t<e.length;t++)yh.add(e[t])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Us=Object.prototype.hasOwnProperty,e0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ic={},Fc={};function t0(t){return Us.call(Fc,t)?!0:Us.call(Ic,t)?!1:e0.test(t)?Fc[t]=!0:(Ic[t]=!0,!1)}function n0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r0(t,e,n,r){if(e===null||typeof e>"u"||n0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Me(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new Me(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new Me(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new Me(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new Me(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new Me(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new Me(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new Me(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new Me(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new Me(t,5,!1,t.toLowerCase(),null,!1,!1)});var la=/[\-:]([a-z])/g;function sa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(la,sa);de[e]=new Me(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(la,sa);de[e]=new Me(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(la,sa);de[e]=new Me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new Me(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new Me(t,1,!1,t.toLowerCase(),null,!0,!0)});function ua(t,e,n,r){var i=de.hasOwnProperty(e)?de[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r0(e,n,i,r)&&(n=null),r||i===null?t0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bt=gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lo=Symbol.for("react.element"),Zn=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),aa=Symbol.for("react.strict_mode"),js=Symbol.for("react.profiler"),kh=Symbol.for("react.provider"),Sh=Symbol.for("react.context"),ca=Symbol.for("react.forward_ref"),Js=Symbol.for("react.suspense"),Hs=Symbol.for("react.suspense_list"),fa=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),vh=Symbol.for("react.offscreen"),Lc=Symbol.iterator;function Ir(t){return t===null||typeof t!="object"?null:(t=Lc&&t[Lc]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,as;function Yr(t){if(as===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);as=e&&e[1]||""}return`
`+as+t}var cs=!1;function fs(t,e){if(!t||cs)return"";cs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(a){var r=a}Reflect.construct(t,[],e)}else{try{e.call()}catch(a){r=a}t.call(e.prototype)}else{try{throw Error()}catch(a){r=a}t()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var u=`
`+i[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=s);break}}}finally{cs=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yr(t):""}function i0(t){switch(t.tag){case 5:return Yr(t.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 2:case 15:return t=fs(t.type,!1),t;case 11:return t=fs(t.type.render,!1),t;case 1:return t=fs(t.type,!0),t;default:return""}}function Ks(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case er:return"Fragment";case Zn:return"Portal";case js:return"Profiler";case aa:return"StrictMode";case Js:return"Suspense";case Hs:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sh:return(t.displayName||"Context")+".Consumer";case kh:return(t._context.displayName||"Context")+".Provider";case ca:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fa:return e=t.displayName||null,e!==null?e:Ks(t.type)||"Memo";case bt:e=t._payload,t=t._init;try{return Ks(t(e))}catch{}}return null}function o0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ks(e);case 8:return e===aa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function l0(t){var e=wh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function so(t){t._valueTracker||(t._valueTracker=l0(t))}function xh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qs(t,e){var n=e.checked;return Y({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ch(t,e){e=e.checked,e!=null&&ua(t,"checked",e,!1)}function qs(t,e){Ch(t,e);var n=sn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ys(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ys(t,e.type,sn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ys(t,e,n){(e!=="number"||Qo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gr=Array.isArray;function fr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gs(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(w(91));return Y({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _c(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(w(92));if(Gr(n)){if(1<n.length)throw Error(w(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sn(n)}}function Eh(t,e){var n=sn(e.value),r=sn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xs(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uo,Oh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ci(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s0=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(t){s0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ii[e]=ii[t]})});function Mh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ii.hasOwnProperty(t)&&ii[t]?(""+e).trim():e+"px"}function Th(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var u0=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zs(t,e){if(e){if(u0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(w(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(w(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(w(61))}if(e.style!=null&&typeof e.style!="object")throw Error(w(62))}}function eu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tu=null;function da(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nu=null,dr=null,hr=null;function $c(t){if(t=qi(t)){if(typeof nu!="function")throw Error(w(280));var e=t.stateNode;e&&(e=Rl(e),nu(t.stateNode,t.type,e))}}function Dh(t){dr?hr?hr.push(t):hr=[t]:dr=t}function Rh(){if(dr){var t=dr,e=hr;if(hr=dr=null,$c(t),e)for(t=0;t<e.length;t++)$c(e[t])}}function Ph(t,e){return t(e)}function zh(){}var ds=!1;function Ah(t,e,n){if(ds)return t(e,n);ds=!0;try{return Ph(t,e,n)}finally{ds=!1,(dr!==null||hr!==null)&&(zh(),Rh())}}function Ei(t,e){var n=t.stateNode;if(n===null)return null;var r=Rl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(w(231,e,typeof n));return n}var ru=!1;if(zt)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){ru=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{ru=!1}function a0(t,e,n,r,i,o,l,s,u){var a=Array.prototype.slice.call(arguments,3);try{e.apply(n,a)}catch(c){this.onError(c)}}var oi=!1,qo=null,Yo=!1,iu=null,c0={onError:function(t){oi=!0,qo=t}};function f0(t,e,n,r,i,o,l,s,u){oi=!1,qo=null,a0.apply(c0,arguments)}function d0(t,e,n,r,i,o,l,s,u){if(f0.apply(this,arguments),oi){if(oi){var a=qo;oi=!1,qo=null}else throw Error(w(198));Yo||(Yo=!0,iu=a)}}function Jn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ih(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wc(t){if(Jn(t)!==t)throw Error(w(188))}function h0(t){var e=t.alternate;if(!e){if(e=Jn(t),e===null)throw Error(w(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Wc(i),t;if(o===r)return Wc(i),e;o=o.sibling}throw Error(w(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(w(189))}}if(n.alternate!==r)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?t:e}function Fh(t){return t=h0(t),t!==null?Lh(t):null}function Lh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lh(t);if(e!==null)return e;t=t.sibling}return null}var Bh=We.unstable_scheduleCallback,Uc=We.unstable_cancelCallback,p0=We.unstable_shouldYield,m0=We.unstable_requestPaint,Z=We.unstable_now,g0=We.unstable_getCurrentPriorityLevel,ha=We.unstable_ImmediatePriority,Vh=We.unstable_UserBlockingPriority,Go=We.unstable_NormalPriority,y0=We.unstable_LowPriority,_h=We.unstable_IdlePriority,Ol=null,mt=null;function k0(t){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Ol,t,void 0,(t.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:w0,S0=Math.log,v0=Math.LN2;function w0(t){return t>>>=0,t===0?32:31-(S0(t)/v0|0)|0}var ao=64,co=4194304;function Xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=Xr(s):(o&=l,o!==0&&(r=Xr(o)))}else l=n&~i,l!==0?r=Xr(l):o!==0&&(r=Xr(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lt(e),i=1<<n,r|=t[n],e&=~i;return r}function x0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-lt(o),s=1<<l,u=i[l];u===-1?(!(s&n)||s&r)&&(i[l]=x0(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}function ou(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bh(){var t=ao;return ao<<=1,!(ao&4194240)&&(ao=64),t}function hs(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ki(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lt(e),t[e]=n}function E0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-lt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function pa(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $=0;function $h(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wh,ma,Uh,jh,Jh,lu=!1,fo=[],qt=null,Yt=null,Gt=null,Ni=new Map,Oi=new Map,Ut=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jc(t,e){switch(t){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":Ni.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(e.pointerId)}}function Lr(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=qi(e),e!==null&&ma(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function O0(t,e,n,r,i){switch(e){case"focusin":return qt=Lr(qt,t,e,n,r,i),!0;case"dragenter":return Yt=Lr(Yt,t,e,n,r,i),!0;case"mouseover":return Gt=Lr(Gt,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ni.set(o,Lr(Ni.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Oi.set(o,Lr(Oi.get(o)||null,t,e,n,r,i)),!0}return!1}function Hh(t){var e=Cn(t.target);if(e!==null){var n=Jn(e);if(n!==null){if(e=n.tag,e===13){if(e=Ih(n),e!==null){t.blockedOn=e,Jh(t.priority,function(){Uh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ro(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=su(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tu=r,n.target.dispatchEvent(r),tu=null}else return e=qi(n),e!==null&&ma(e),t.blockedOn=n,!1;e.shift()}return!0}function Jc(t,e,n){Ro(t)&&n.delete(e)}function M0(){lu=!1,qt!==null&&Ro(qt)&&(qt=null),Yt!==null&&Ro(Yt)&&(Yt=null),Gt!==null&&Ro(Gt)&&(Gt=null),Ni.forEach(Jc),Oi.forEach(Jc)}function Br(t,e){t.blockedOn===e&&(t.blockedOn=null,lu||(lu=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,M0)))}function Mi(t){function e(i){return Br(i,t)}if(0<fo.length){Br(fo[0],t);for(var n=1;n<fo.length;n++){var r=fo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qt!==null&&Br(qt,t),Yt!==null&&Br(Yt,t),Gt!==null&&Br(Gt,t),Ni.forEach(e),Oi.forEach(e),n=0;n<Ut.length;n++)r=Ut[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ut.length&&(n=Ut[0],n.blockedOn===null);)Hh(n),n.blockedOn===null&&Ut.shift()}var pr=Bt.ReactCurrentBatchConfig,Zo=!0;function T0(t,e,n,r){var i=$,o=pr.transition;pr.transition=null;try{$=1,ga(t,e,n,r)}finally{$=i,pr.transition=o}}function D0(t,e,n,r){var i=$,o=pr.transition;pr.transition=null;try{$=4,ga(t,e,n,r)}finally{$=i,pr.transition=o}}function ga(t,e,n,r){if(Zo){var i=su(t,e,n,r);if(i===null)Cs(t,e,r,el,n),jc(t,r);else if(O0(i,t,e,n,r))r.stopPropagation();else if(jc(t,r),e&4&&-1<N0.indexOf(t)){for(;i!==null;){var o=qi(i);if(o!==null&&Wh(o),o=su(t,e,n,r),o===null&&Cs(t,e,r,el,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Cs(t,e,r,null,n)}}var el=null;function su(t,e,n,r){if(el=null,t=da(r),t=Cn(t),t!==null)if(e=Jn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ih(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return el=t,null}function Kh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g0()){case ha:return 1;case Vh:return 4;case Go:case y0:return 16;case _h:return 536870912;default:return 16}default:return 16}}var Ht=null,ya=null,Po=null;function Qh(){if(Po)return Po;var t,e=ya,n=e.length,r,i="value"in Ht?Ht.value:Ht.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return Po=i.slice(t,1<r?1-r:void 0)}function zo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ho(){return!0}function Hc(){return!1}function je(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ho:Hc,this.isPropagationStopped=Hc,this}return Y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),e}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=je(Pr),Qi=Y({},Pr,{view:0,detail:0}),R0=je(Qi),ps,ms,Vr,Ml=Y({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(ps=t.screenX-Vr.screenX,ms=t.screenY-Vr.screenY):ms=ps=0,Vr=t),ps)},movementY:function(t){return"movementY"in t?t.movementY:ms}}),Kc=je(Ml),P0=Y({},Ml,{dataTransfer:0}),z0=je(P0),A0=Y({},Qi,{relatedTarget:0}),gs=je(A0),I0=Y({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),F0=je(I0),L0=Y({},Pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B0=je(L0),V0=Y({},Pr,{data:0}),Qc=je(V0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$0[t])?!!e[t]:!1}function Sa(){return W0}var U0=Y({},Qi,{key:function(t){if(t.key){var e=_0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(t){return t.type==="keypress"?zo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),j0=je(U0),J0=Y({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=je(J0),H0=Y({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),K0=je(H0),Q0=Y({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),q0=je(Q0),Y0=Y({},Ml,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G0=je(Y0),X0=[9,13,27,32],va=zt&&"CompositionEvent"in window,li=null;zt&&"documentMode"in document&&(li=document.documentMode);var Z0=zt&&"TextEvent"in window&&!li,qh=zt&&(!va||li&&8<li&&11>=li),Yc=String.fromCharCode(32),Gc=!1;function Yh(t,e){switch(t){case"keyup":return X0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tr=!1;function e1(t,e){switch(t){case"compositionend":return Gh(e);case"keypress":return e.which!==32?null:(Gc=!0,Yc);case"textInput":return t=e.data,t===Yc&&Gc?null:t;default:return null}}function t1(t,e){if(tr)return t==="compositionend"||!va&&Yh(t,e)?(t=Qh(),Po=ya=Ht=null,tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qh&&e.locale!=="ko"?null:e.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n1[t.type]:e==="textarea"}function Xh(t,e,n,r){Dh(r),e=tl(e,"onChange"),0<e.length&&(n=new ka("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var si=null,Ti=null;function r1(t){ap(t,0)}function Tl(t){var e=ir(t);if(xh(e))return t}function i1(t,e){if(t==="change")return e}var Zh=!1;if(zt){var ys;if(zt){var ks="oninput"in document;if(!ks){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),ks=typeof Zc.oninput=="function"}ys=ks}else ys=!1;Zh=ys&&(!document.documentMode||9<document.documentMode)}function ef(){si&&(si.detachEvent("onpropertychange",ep),Ti=si=null)}function ep(t){if(t.propertyName==="value"&&Tl(Ti)){var e=[];Xh(e,Ti,t,da(t)),Ah(r1,e)}}function o1(t,e,n){t==="focusin"?(ef(),si=e,Ti=n,si.attachEvent("onpropertychange",ep)):t==="focusout"&&ef()}function l1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(Ti)}function s1(t,e){if(t==="click")return Tl(e)}function u1(t,e){if(t==="input"||t==="change")return Tl(e)}function a1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ut=typeof Object.is=="function"?Object.is:a1;function Di(t,e){if(ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Us.call(e,i)||!ut(t[i],e[i]))return!1}return!0}function tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nf(t,e){var n=tf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tf(n)}}function tp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function np(){for(var t=window,e=Qo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qo(t.document)}return e}function wa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c1(t){var e=np(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tp(n.ownerDocument.documentElement,n)){if(r!==null&&wa(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=nf(n,o);var l=nf(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var f1=zt&&"documentMode"in document&&11>=document.documentMode,nr=null,uu=null,ui=null,au=!1;function rf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;au||nr==null||nr!==Qo(r)||(r=nr,"selectionStart"in r&&wa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ui&&Di(ui,r)||(ui=r,r=tl(uu,"onSelect"),0<r.length&&(e=new ka("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nr)))}function po(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rr={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionend:po("Transition","TransitionEnd")},Ss={},rp={};zt&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function Dl(t){if(Ss[t])return Ss[t];if(!rr[t])return t;var e=rr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rp)return Ss[t]=e[n];return t}var ip=Dl("animationend"),op=Dl("animationiteration"),lp=Dl("animationstart"),sp=Dl("transitionend"),up=new Map,of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(t,e){up.set(t,e),jn(e,[t])}for(var vs=0;vs<of.length;vs++){var ws=of[vs],d1=ws.toLowerCase(),h1=ws[0].toUpperCase()+ws.slice(1);fn(d1,"on"+h1)}fn(ip,"onAnimationEnd");fn(op,"onAnimationIteration");fn(lp,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(sp,"onTransitionEnd");wr("onMouseEnter",["mouseout","mouseover"]);wr("onMouseLeave",["mouseout","mouseover"]);wr("onPointerEnter",["pointerout","pointerover"]);wr("onPointerLeave",["pointerout","pointerover"]);jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zr));function lf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d0(r,e,void 0,t),t.currentTarget=null}function ap(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var s=r[l],u=s.instance,a=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;lf(i,s,a),o=u}else for(l=0;l<r.length;l++){if(s=r[l],u=s.instance,a=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;lf(i,s,a),o=u}}}if(Yo)throw t=iu,Yo=!1,iu=null,t}function J(t,e){var n=e[pu];n===void 0&&(n=e[pu]=new Set);var r=t+"__bubble";n.has(r)||(cp(e,t,2,!1),n.add(r))}function xs(t,e,n){var r=0;e&&(r|=4),cp(n,t,r,e)}var mo="_reactListening"+Math.random().toString(36).slice(2);function Ri(t){if(!t[mo]){t[mo]=!0,yh.forEach(function(n){n!=="selectionchange"&&(p1.has(n)||xs(n,!1,t),xs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mo]||(e[mo]=!0,xs("selectionchange",!1,e))}}function cp(t,e,n,r){switch(Kh(e)){case 1:var i=T0;break;case 4:i=D0;break;default:i=ga}n=i.bind(null,e,n,t),i=void 0,!ru||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cs(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;s!==null;){if(l=Cn(s),l===null)return;if(u=l.tag,u===5||u===6){r=o=l;continue e}s=s.parentNode}}r=r.return}Ah(function(){var a=o,c=da(n),f=[];e:{var d=up.get(t);if(d!==void 0){var p=ka,h=t;switch(t){case"keypress":if(zo(n)===0)break e;case"keydown":case"keyup":p=j0;break;case"focusin":h="focus",p=gs;break;case"focusout":h="blur",p=gs;break;case"beforeblur":case"afterblur":p=gs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=K0;break;case ip:case op:case lp:p=F0;break;case sp:p=q0;break;case"scroll":p=R0;break;case"wheel":p=G0;break;case"copy":case"cut":case"paste":p=B0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=qc}var m=(e&4)!==0,S=!m&&t==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var g=a,k;g!==null;){k=g;var v=k.stateNode;if(k.tag===5&&v!==null&&(k=v,y!==null&&(v=Ei(g,y),v!=null&&m.push(Pi(g,v,k)))),S)break;g=g.return}0<m.length&&(d=new p(d,h,null,n,c),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==tu&&(h=n.relatedTarget||n.fromElement)&&(Cn(h)||h[At]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=a,h=h?Cn(h):null,h!==null&&(S=Jn(h),h!==S||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=a),p!==h)){if(m=Kc,v="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=qc,v="onPointerLeave",y="onPointerEnter",g="pointer"),S=p==null?d:ir(p),k=h==null?d:ir(h),d=new m(v,g+"leave",p,n,c),d.target=S,d.relatedTarget=k,v=null,Cn(c)===a&&(m=new m(y,g+"enter",h,n,c),m.target=k,m.relatedTarget=S,v=m),S=v,p&&h)t:{for(m=p,y=h,g=0,k=m;k;k=Hn(k))g++;for(k=0,v=y;v;v=Hn(v))k++;for(;0<g-k;)m=Hn(m),g--;for(;0<k-g;)y=Hn(y),k--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Hn(m),y=Hn(y)}m=null}else m=null;p!==null&&sf(f,d,p,m,!1),h!==null&&S!==null&&sf(f,S,h,m,!0)}}e:{if(d=a?ir(a):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=i1;else if(Xc(d))if(Zh)E=u1;else{E=l1;var N=o1}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=s1);if(E&&(E=E(t,a))){Xh(f,E,n,c);break e}N&&N(t,d,a),t==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&Ys(d,"number",d.value)}switch(N=a?ir(a):window,t){case"focusin":(Xc(N)||N.contentEditable==="true")&&(nr=N,uu=a,ui=null);break;case"focusout":ui=uu=nr=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,rf(f,n,c);break;case"selectionchange":if(f1)break;case"keydown":case"keyup":rf(f,n,c)}var T;if(va)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else tr?Yh(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(qh&&n.locale!=="ko"&&(tr||P!=="onCompositionStart"?P==="onCompositionEnd"&&tr&&(T=Qh()):(Ht=c,ya="value"in Ht?Ht.value:Ht.textContent,tr=!0)),N=tl(a,P),0<N.length&&(P=new Qc(P,t,null,n,c),f.push({event:P,listeners:N}),T?P.data=T:(T=Gh(n),T!==null&&(P.data=T)))),(T=Z0?e1(t,n):t1(t,n))&&(a=tl(a,"onBeforeInput"),0<a.length&&(c=new Qc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:a}),c.data=T))}ap(f,e)})}function Pi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ei(t,n),o!=null&&r.unshift(Pi(t,o,i)),o=Ei(t,e),o!=null&&r.push(Pi(t,o,i))),t=t.return}return r}function Hn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sf(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var s=n,u=s.alternate,a=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&a!==null&&(s=a,i?(u=Ei(n,o),u!=null&&l.unshift(Pi(n,u,s))):i||(u=Ei(n,o),u!=null&&l.push(Pi(n,u,s)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var m1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function uf(t){return(typeof t=="string"?t:""+t).replace(m1,`
`).replace(g1,"")}function go(t,e,n){if(e=uf(e),uf(t)!==e&&n)throw Error(w(425))}function nl(){}var cu=null,fu=null;function du(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,af=typeof Promise=="function"?Promise:void 0,k1=typeof queueMicrotask=="function"?queueMicrotask:typeof af<"u"?function(t){return af.resolve(null).then(t).catch(S1)}:hu;function S1(t){setTimeout(function(){throw t})}function Es(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mi(e)}function Xt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zr=Math.random().toString(36).slice(2),dt="__reactFiber$"+zr,zi="__reactProps$"+zr,At="__reactContainer$"+zr,pu="__reactEvents$"+zr,v1="__reactListeners$"+zr,w1="__reactHandles$"+zr;function Cn(t){var e=t[dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[At]||n[dt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cf(t);t!==null;){if(n=t[dt])return n;t=cf(t)}return e}t=n,n=t.parentNode}return null}function qi(t){return t=t[dt]||t[At],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ir(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(w(33))}function Rl(t){return t[zi]||null}var mu=[],or=-1;function dn(t){return{current:t}}function H(t){0>or||(t.current=mu[or],mu[or]=null,or--)}function U(t,e){or++,mu[or]=t.current,t.current=e}var un={},Se=dn(un),Pe=dn(!1),Vn=un;function xr(t,e){var n=t.type.contextTypes;if(!n)return un;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ze(t){return t=t.childContextTypes,t!=null}function rl(){H(Pe),H(Se)}function ff(t,e,n){if(Se.current!==un)throw Error(w(168));U(Se,e),U(Pe,n)}function fp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(w(108,o0(t)||"Unknown",i));return Y({},n,r)}function il(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||un,Vn=Se.current,U(Se,t),U(Pe,Pe.current),!0}function df(t,e,n){var r=t.stateNode;if(!r)throw Error(w(169));n?(t=fp(t,e,Vn),r.__reactInternalMemoizedMergedChildContext=t,H(Pe),H(Se),U(Se,t)):H(Pe),U(Pe,n)}var Ot=null,Pl=!1,Ns=!1;function dp(t){Ot===null?Ot=[t]:Ot.push(t)}function x1(t){Pl=!0,dp(t)}function hn(){if(!Ns&&Ot!==null){Ns=!0;var t=0,e=$;try{var n=Ot;for($=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ot=null,Pl=!1}catch(i){throw Ot!==null&&(Ot=Ot.slice(t+1)),Bh(ha,hn),i}finally{$=e,Ns=!1}}return null}var lr=[],sr=0,ol=null,ll=0,He=[],Ke=0,_n=null,Tt=1,Dt="";function Sn(t,e){lr[sr++]=ll,lr[sr++]=ol,ol=t,ll=e}function hp(t,e,n){He[Ke++]=Tt,He[Ke++]=Dt,He[Ke++]=_n,_n=t;var r=Tt;t=Dt;var i=32-lt(r)-1;r&=~(1<<i),n+=1;var o=32-lt(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Tt=1<<32-lt(e)+i|n<<i|r,Dt=o+t}else Tt=1<<o|n<<i|r,Dt=t}function xa(t){t.return!==null&&(Sn(t,1),hp(t,1,0))}function Ca(t){for(;t===ol;)ol=lr[--sr],lr[sr]=null,ll=lr[--sr],lr[sr]=null;for(;t===_n;)_n=He[--Ke],He[Ke]=null,Dt=He[--Ke],He[Ke]=null,Tt=He[--Ke],He[Ke]=null}var $e=null,_e=null,K=!1,it=null;function pp(t,e){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,_e=Xt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,_e=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_n!==null?{id:Tt,overflow:Dt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$e=t,_e=null,!0):!1;default:return!1}}function gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yu(t){if(K){var e=_e;if(e){var n=e;if(!hf(t,e)){if(gu(t))throw Error(w(418));e=Xt(n.nextSibling);var r=$e;e&&hf(t,e)?pp(r,n):(t.flags=t.flags&-4097|2,K=!1,$e=t)}}else{if(gu(t))throw Error(w(418));t.flags=t.flags&-4097|2,K=!1,$e=t}}}function pf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function yo(t){if(t!==$e)return!1;if(!K)return pf(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!du(t.type,t.memoizedProps)),e&&(e=_e)){if(gu(t))throw mp(),Error(w(418));for(;e;)pp(t,e),e=Xt(e.nextSibling)}if(pf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_e=Xt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_e=null}}else _e=$e?Xt(t.stateNode.nextSibling):null;return!0}function mp(){for(var t=_e;t;)t=Xt(t.nextSibling)}function Cr(){_e=$e=null,K=!1}function Ea(t){it===null?it=[t]:it.push(t)}var C1=Bt.ReactCurrentBatchConfig;function nt(t,e){if(t&&t.defaultProps){e=Y({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sl=dn(null),ul=null,ur=null,Na=null;function Oa(){Na=ur=ul=null}function Ma(t){var e=sl.current;H(sl),t._currentValue=e}function ku(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mr(t,e){ul=t,Na=ur=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function Xe(t){var e=t._currentValue;if(Na!==t)if(t={context:t,memoizedValue:e,next:null},ur===null){if(ul===null)throw Error(w(308));ur=t,ul.dependencies={lanes:0,firstContext:t}}else ur=ur.next=t;return e}var En=null;function Ta(t){En===null?En=[t]:En.push(t)}function gp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ta(e)):(n.next=i.next,i.next=n),e.interleaved=n,It(t,r)}function It(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $t=!1;function Da(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,It(t,n)}return i=r.interleaved,i===null?(e.next=e,Ta(r)):(e.next=i.next,i.next=e),r.interleaved=e,It(t,n)}function Ao(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pa(t,n)}}function mf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function al(t,e,n,r){var i=t.updateQueue;$t=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,a=u.next;u.next=null,l===null?o=a:l.next=a,l=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==l&&(s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;l=0,c=a=u=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=t,m=s;switch(d=e,p=n,m.tag){case 1:if(h=m.payload,typeof h=="function"){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,d=typeof h=="function"?h.call(p,f,d):h,d==null)break e;f=Y({},f,d);break e;case 2:$t=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(a=c=p,u=f):c=c.next=p,l|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);$n|=l,t.lanes=l,t.memoizedState=f}}function gf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(w(191,i));i.call(r)}}}var kp=new gh.Component().refs;function Su(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Y({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zl={isMounted:function(t){return(t=t._reactInternals)?Jn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xe(),i=tn(t),o=Rt(r,i);o.payload=e,n!=null&&(o.callback=n),e=Zt(t,o,i),e!==null&&(st(e,t,i,r),Ao(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xe(),i=tn(t),o=Rt(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zt(t,o,i),e!==null&&(st(e,t,i,r),Ao(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xe(),r=tn(t),i=Rt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zt(t,i,r),e!==null&&(st(e,t,r,n),Ao(e,t,r))}};function yf(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Di(n,r)||!Di(i,o):!0}function Sp(t,e,n){var r=!1,i=un,o=e.contextType;return typeof o=="object"&&o!==null?o=Xe(o):(i=ze(e)?Vn:Se.current,r=e.contextTypes,o=(r=r!=null)?xr(t,i):un),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function kf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zl.enqueueReplaceState(e,e.state,null)}function vu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=kp,Da(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Xe(o):(o=ze(e)?Vn:Se.current,i.context=xr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Su(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zl.enqueueReplaceState(i,i.state,null),al(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _r(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var r=n.stateNode}if(!r)throw Error(w(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var s=i.refs;s===kp&&(s=i.refs={}),l===null?delete s[o]:s[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,t))}return t}function ko(t,e){throw t=Object.prototype.toString.call(e),Error(w(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sf(t){var e=t._init;return e(t._payload)}function vp(t){function e(y,g){if(t){var k=y.deletions;k===null?(y.deletions=[g],y.flags|=16):k.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=nn(y,g),y.index=0,y.sibling=null,y}function o(y,g,k){return y.index=k,t?(k=y.alternate,k!==null?(k=k.index,k<g?(y.flags|=2,g):k):(y.flags|=2,g)):(y.flags|=1048576,g)}function l(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,g,k,v){return g===null||g.tag!==6?(g=zs(k,y.mode,v),g.return=y,g):(g=i(g,k),g.return=y,g)}function u(y,g,k,v){var E=k.type;return E===er?c(y,g,k.props.children,v,k.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===bt&&Sf(E)===g.type)?(v=i(g,k.props),v.ref=_r(y,g,k),v.return=y,v):(v=_o(k.type,k.key,k.props,null,y.mode,v),v.ref=_r(y,g,k),v.return=y,v)}function a(y,g,k,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==k.containerInfo||g.stateNode.implementation!==k.implementation?(g=As(k,y.mode,v),g.return=y,g):(g=i(g,k.children||[]),g.return=y,g)}function c(y,g,k,v,E){return g===null||g.tag!==7?(g=In(k,y.mode,v,E),g.return=y,g):(g=i(g,k),g.return=y,g)}function f(y,g,k){if(typeof g=="string"&&g!==""||typeof g=="number")return g=zs(""+g,y.mode,k),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case lo:return k=_o(g.type,g.key,g.props,null,y.mode,k),k.ref=_r(y,null,g),k.return=y,k;case Zn:return g=As(g,y.mode,k),g.return=y,g;case bt:var v=g._init;return f(y,v(g._payload),k)}if(Gr(g)||Ir(g))return g=In(g,y.mode,k,null),g.return=y,g;ko(y,g)}return null}function d(y,g,k,v){var E=g!==null?g.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return E!==null?null:s(y,g,""+k,v);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case lo:return k.key===E?u(y,g,k,v):null;case Zn:return k.key===E?a(y,g,k,v):null;case bt:return E=k._init,d(y,g,E(k._payload),v)}if(Gr(k)||Ir(k))return E!==null?null:c(y,g,k,v,null);ko(y,k)}return null}function p(y,g,k,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return y=y.get(k)||null,s(g,y,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lo:return y=y.get(v.key===null?k:v.key)||null,u(g,y,v,E);case Zn:return y=y.get(v.key===null?k:v.key)||null,a(g,y,v,E);case bt:var N=v._init;return p(y,g,k,N(v._payload),E)}if(Gr(v)||Ir(v))return y=y.get(k)||null,c(g,y,v,E,null);ko(g,v)}return null}function h(y,g,k,v){for(var E=null,N=null,T=g,P=g=0,z=null;T!==null&&P<k.length;P++){T.index>P?(z=T,T=null):z=T.sibling;var D=d(y,T,k[P],v);if(D===null){T===null&&(T=z);break}t&&T&&D.alternate===null&&e(y,T),g=o(D,g,P),N===null?E=D:N.sibling=D,N=D,T=z}if(P===k.length)return n(y,T),K&&Sn(y,P),E;if(T===null){for(;P<k.length;P++)T=f(y,k[P],v),T!==null&&(g=o(T,g,P),N===null?E=T:N.sibling=T,N=T);return K&&Sn(y,P),E}for(T=r(y,T);P<k.length;P++)z=p(T,y,P,k[P],v),z!==null&&(t&&z.alternate!==null&&T.delete(z.key===null?P:z.key),g=o(z,g,P),N===null?E=z:N.sibling=z,N=z);return t&&T.forEach(function(W){return e(y,W)}),K&&Sn(y,P),E}function m(y,g,k,v){var E=Ir(k);if(typeof E!="function")throw Error(w(150));if(k=E.call(k),k==null)throw Error(w(151));for(var N=E=null,T=g,P=g=0,z=null,D=k.next();T!==null&&!D.done;P++,D=k.next()){T.index>P?(z=T,T=null):z=T.sibling;var W=d(y,T,D.value,v);if(W===null){T===null&&(T=z);break}t&&T&&W.alternate===null&&e(y,T),g=o(W,g,P),N===null?E=W:N.sibling=W,N=W,T=z}if(D.done)return n(y,T),K&&Sn(y,P),E;if(T===null){for(;!D.done;P++,D=k.next())D=f(y,D.value,v),D!==null&&(g=o(D,g,P),N===null?E=D:N.sibling=D,N=D);return K&&Sn(y,P),E}for(T=r(y,T);!D.done;P++,D=k.next())D=p(T,y,P,D.value,v),D!==null&&(t&&D.alternate!==null&&T.delete(D.key===null?P:D.key),g=o(D,g,P),N===null?E=D:N.sibling=D,N=D);return t&&T.forEach(function(et){return e(y,et)}),K&&Sn(y,P),E}function S(y,g,k,v){if(typeof k=="object"&&k!==null&&k.type===er&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case lo:e:{for(var E=k.key,N=g;N!==null;){if(N.key===E){if(E=k.type,E===er){if(N.tag===7){n(y,N.sibling),g=i(N,k.props.children),g.return=y,y=g;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===bt&&Sf(E)===N.type){n(y,N.sibling),g=i(N,k.props),g.ref=_r(y,N,k),g.return=y,y=g;break e}n(y,N);break}else e(y,N);N=N.sibling}k.type===er?(g=In(k.props.children,y.mode,v,k.key),g.return=y,y=g):(v=_o(k.type,k.key,k.props,null,y.mode,v),v.ref=_r(y,g,k),v.return=y,y=v)}return l(y);case Zn:e:{for(N=k.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===k.containerInfo&&g.stateNode.implementation===k.implementation){n(y,g.sibling),g=i(g,k.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=As(k,y.mode,v),g.return=y,y=g}return l(y);case bt:return N=k._init,S(y,g,N(k._payload),v)}if(Gr(k))return h(y,g,k,v);if(Ir(k))return m(y,g,k,v);ko(y,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,k),g.return=y,y=g):(n(y,g),g=zs(k,y.mode,v),g.return=y,y=g),l(y)):n(y,g)}return S}var Er=vp(!0),wp=vp(!1),Yi={},gt=dn(Yi),Ai=dn(Yi),Ii=dn(Yi);function Nn(t){if(t===Yi)throw Error(w(174));return t}function Ra(t,e){switch(U(Ii,e),U(Ai,t),U(gt,Yi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xs(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xs(e,t)}H(gt),U(gt,e)}function Nr(){H(gt),H(Ai),H(Ii)}function xp(t){Nn(Ii.current);var e=Nn(gt.current),n=Xs(e,t.type);e!==n&&(U(Ai,t),U(gt,n))}function Pa(t){Ai.current===t&&(H(gt),H(Ai))}var Q=dn(0);function cl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Os=[];function za(){for(var t=0;t<Os.length;t++)Os[t]._workInProgressVersionPrimary=null;Os.length=0}var Io=Bt.ReactCurrentDispatcher,Ms=Bt.ReactCurrentBatchConfig,bn=0,q=null,te=null,oe=null,fl=!1,ai=!1,Fi=0,E1=0;function he(){throw Error(w(321))}function Aa(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ut(t[n],e[n]))return!1;return!0}function Ia(t,e,n,r,i,o){if(bn=o,q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Io.current=t===null||t.memoizedState===null?T1:D1,t=n(r,i),ai){o=0;do{if(ai=!1,Fi=0,25<=o)throw Error(w(301));o+=1,oe=te=null,e.updateQueue=null,Io.current=R1,t=n(r,i)}while(ai)}if(Io.current=dl,e=te!==null&&te.next!==null,bn=0,oe=te=q=null,fl=!1,e)throw Error(w(300));return t}function Fa(){var t=Fi!==0;return Fi=0,t}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?q.memoizedState=oe=t:oe=oe.next=t,oe}function Ze(){if(te===null){var t=q.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=oe===null?q.memoizedState:oe.next;if(e!==null)oe=e,te=t;else{if(t===null)throw Error(w(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},oe===null?q.memoizedState=oe=t:oe=oe.next=t}return oe}function Li(t,e){return typeof e=="function"?e(t):e}function Ts(t){var e=Ze(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var r=te,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,u=null,a=o;do{var c=a.lane;if((bn&c)===c)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:t(r,a.action);else{var f={lane:c,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(s=u=f,l=r):u=u.next=f,q.lanes|=c,$n|=c}a=a.next}while(a!==null&&a!==o);u===null?l=r:u.next=s,ut(r,e.memoizedState)||(Re=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,q.lanes|=o,$n|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ds(t){var e=Ze(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);ut(o,e.memoizedState)||(Re=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Cp(){}function Ep(t,e){var n=q,r=Ze(),i=e(),o=!ut(r.memoizedState,i);if(o&&(r.memoizedState=i,Re=!0),r=r.queue,La(Mp.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||oe!==null&&oe.memoizedState.tag&1){if(n.flags|=2048,Bi(9,Op.bind(null,n,r,i,e),void 0,null),le===null)throw Error(w(349));bn&30||Np(n,e,i)}return i}function Np(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Op(t,e,n,r){e.value=n,e.getSnapshot=r,Tp(e)&&Dp(t)}function Mp(t,e,n){return n(function(){Tp(e)&&Dp(t)})}function Tp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ut(t,n)}catch{return!0}}function Dp(t){var e=It(t,1);e!==null&&st(e,t,1,-1)}function vf(t){var e=ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},e.queue=t,t=t.dispatch=M1.bind(null,q,t),[e.memoizedState,t]}function Bi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Rp(){return Ze().memoizedState}function Fo(t,e,n,r){var i=ft();q.flags|=t,i.memoizedState=Bi(1|e,n,void 0,r===void 0?null:r)}function Al(t,e,n,r){var i=Ze();r=r===void 0?null:r;var o=void 0;if(te!==null){var l=te.memoizedState;if(o=l.destroy,r!==null&&Aa(r,l.deps)){i.memoizedState=Bi(e,n,o,r);return}}q.flags|=t,i.memoizedState=Bi(1|e,n,o,r)}function wf(t,e){return Fo(8390656,8,t,e)}function La(t,e){return Al(2048,8,t,e)}function Pp(t,e){return Al(4,2,t,e)}function zp(t,e){return Al(4,4,t,e)}function Ap(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ip(t,e,n){return n=n!=null?n.concat([t]):null,Al(4,4,Ap.bind(null,e,t),n)}function Ba(){}function Fp(t,e){var n=Ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Aa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lp(t,e){var n=Ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Aa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bp(t,e,n){return bn&21?(ut(n,e)||(n=bh(),q.lanes|=n,$n|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=n)}function N1(t,e){var n=$;$=n!==0&&4>n?n:4,t(!0);var r=Ms.transition;Ms.transition={};try{t(!1),e()}finally{$=n,Ms.transition=r}}function Vp(){return Ze().memoizedState}function O1(t,e,n){var r=tn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_p(t))bp(e,n);else if(n=gp(t,e,n,r),n!==null){var i=xe();st(n,t,r,i),$p(n,e,r)}}function M1(t,e,n){var r=tn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_p(t))bp(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,ut(s,l)){var u=e.interleaved;u===null?(i.next=i,Ta(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=gp(t,e,i,r),n!==null&&(i=xe(),st(n,t,r,i),$p(n,e,r))}}function _p(t){var e=t.alternate;return t===q||e!==null&&e===q}function bp(t,e){ai=fl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $p(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pa(t,n)}}var dl={readContext:Xe,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},T1={readContext:Xe,useCallback:function(t,e){return ft().memoizedState=[t,e===void 0?null:e],t},useContext:Xe,useEffect:wf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fo(4194308,4,Ap.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fo(4,2,t,e)},useMemo:function(t,e){var n=ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ft();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=O1.bind(null,q,t),[r.memoizedState,t]},useRef:function(t){var e=ft();return t={current:t},e.memoizedState=t},useState:vf,useDebugValue:Ba,useDeferredValue:function(t){return ft().memoizedState=t},useTransition:function(){var t=vf(!1),e=t[0];return t=N1.bind(null,t[1]),ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=q,i=ft();if(K){if(n===void 0)throw Error(w(407));n=n()}else{if(n=e(),le===null)throw Error(w(349));bn&30||Np(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,wf(Mp.bind(null,r,o,t),[t]),r.flags|=2048,Bi(9,Op.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ft(),e=le.identifierPrefix;if(K){var n=Dt,r=Tt;n=(r&~(1<<32-lt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=E1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D1={readContext:Xe,useCallback:Fp,useContext:Xe,useEffect:La,useImperativeHandle:Ip,useInsertionEffect:Pp,useLayoutEffect:zp,useMemo:Lp,useReducer:Ts,useRef:Rp,useState:function(){return Ts(Li)},useDebugValue:Ba,useDeferredValue:function(t){var e=Ze();return Bp(e,te.memoizedState,t)},useTransition:function(){var t=Ts(Li)[0],e=Ze().memoizedState;return[t,e]},useMutableSource:Cp,useSyncExternalStore:Ep,useId:Vp,unstable_isNewReconciler:!1},R1={readContext:Xe,useCallback:Fp,useContext:Xe,useEffect:La,useImperativeHandle:Ip,useInsertionEffect:Pp,useLayoutEffect:zp,useMemo:Lp,useReducer:Ds,useRef:Rp,useState:function(){return Ds(Li)},useDebugValue:Ba,useDeferredValue:function(t){var e=Ze();return te===null?e.memoizedState=t:Bp(e,te.memoizedState,t)},useTransition:function(){var t=Ds(Li)[0],e=Ze().memoizedState;return[t,e]},useMutableSource:Cp,useSyncExternalStore:Ep,useId:Vp,unstable_isNewReconciler:!1};function Or(t,e){try{var n="",r=e;do n+=i0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Rs(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P1=typeof WeakMap=="function"?WeakMap:Map;function Wp(t,e,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pl||(pl=!0,Pu=r),wu(t,e)},n}function Up(t,e,n){n=Rt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){wu(t,e),typeof r!="function"&&(en===null?en=new Set([this]):en.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function xf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=J1.bind(null,t,e,n),e.then(t,t))}function Cf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ef(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rt(-1,1),e.tag=2,Zt(n,e,1))),n.lanes|=1),t)}var z1=Bt.ReactCurrentOwner,Re=!1;function ve(t,e,n,r){e.child=t===null?wp(e,null,n,r):Er(e,t.child,n,r)}function Nf(t,e,n,r,i){n=n.render;var o=e.ref;return mr(e,i),r=Ia(t,e,n,r,o,i),n=Fa(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ft(t,e,i)):(K&&n&&xa(e),e.flags|=1,ve(t,e,r,i),e.child)}function Of(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ja(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,jp(t,e,o,r,i)):(t=_o(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Di,n(l,r)&&t.ref===e.ref)return Ft(t,e,i)}return e.flags|=1,t=nn(o,r),t.ref=e.ref,t.return=e,e.child=t}function jp(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Di(o,r)&&t.ref===e.ref)if(Re=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,Ft(t,e,i)}return xu(t,e,n,r,i)}function Jp(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},U(cr,Ve),Ve|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,U(cr,Ve),Ve|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,U(cr,Ve),Ve|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,U(cr,Ve),Ve|=r;return ve(t,e,i,n),e.child}function Hp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xu(t,e,n,r,i){var o=ze(n)?Vn:Se.current;return o=xr(e,o),mr(e,i),n=Ia(t,e,n,r,o,i),r=Fa(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ft(t,e,i)):(K&&r&&xa(e),e.flags|=1,ve(t,e,n,i),e.child)}function Mf(t,e,n,r,i){if(ze(n)){var o=!0;il(e)}else o=!1;if(mr(e,i),e.stateNode===null)Lo(t,e),Sp(e,n,r),vu(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,s=e.memoizedProps;l.props=s;var u=l.context,a=n.contextType;typeof a=="object"&&a!==null?a=Xe(a):(a=ze(n)?Vn:Se.current,a=xr(e,a));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||u!==a)&&kf(e,l,r,a),$t=!1;var d=e.memoizedState;l.state=d,al(e,r,l,i),u=e.memoizedState,s!==r||d!==u||Pe.current||$t?(typeof c=="function"&&(Su(e,n,c,r),u=e.memoizedState),(s=$t||yf(e,n,s,r,d,u,a))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),l.props=r,l.state=u,l.context=a,r=s):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,yp(t,e),s=e.memoizedProps,a=e.type===e.elementType?s:nt(e.type,s),l.props=a,f=e.pendingProps,d=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=Xe(u):(u=ze(n)?Vn:Se.current,u=xr(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==f||d!==u)&&kf(e,l,r,u),$t=!1,d=e.memoizedState,l.state=d,al(e,r,l,i);var h=e.memoizedState;s!==f||d!==h||Pe.current||$t?(typeof p=="function"&&(Su(e,n,p,r),h=e.memoizedState),(a=$t||yf(e,n,a,r,d,h,u)||!1)?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,h,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,h,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),l.props=r,l.state=h,l.context=u,r=a):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Cu(t,e,n,r,o,i)}function Cu(t,e,n,r,i,o){Hp(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&df(e,n,!1),Ft(t,e,o);r=e.stateNode,z1.current=e;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Er(e,t.child,null,o),e.child=Er(e,null,s,o)):ve(t,e,s,o),e.memoizedState=r.state,i&&df(e,n,!0),e.child}function Kp(t){var e=t.stateNode;e.pendingContext?ff(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ff(t,e.context,!1),Ra(t,e.containerInfo)}function Tf(t,e,n,r,i){return Cr(),Ea(i),e.flags|=256,ve(t,e,n,r),e.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function Nu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qp(t,e,n){var r=e.pendingProps,i=Q.current,o=!1,l=(e.flags&128)!==0,s;if((s=l)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),U(Q,i&1),t===null)return yu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Ll(l,r,0,null),t=In(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Nu(n),e.memoizedState=Eu,t):Va(e,l));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return A1(t,e,l,r,s,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=nn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=nn(s,o):(o=In(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?Nu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Eu,r}return o=t.child,t=o.sibling,r=nn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Va(t,e){return e=Ll({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function So(t,e,n,r){return r!==null&&Ea(r),Er(e,t.child,null,n),t=Va(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function A1(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Rs(Error(w(422))),So(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ll({mode:"visible",children:r.children},i,0,null),o=In(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Er(e,t.child,null,l),e.child.memoizedState=Nu(l),e.memoizedState=Eu,o);if(!(e.mode&1))return So(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(w(419)),r=Rs(o,r,void 0),So(t,e,l,r)}if(s=(l&t.childLanes)!==0,Re||s){if(r=le,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,It(t,i),st(r,t,i,-1))}return ja(),r=Rs(Error(w(421))),So(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=H1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,_e=Xt(i.nextSibling),$e=e,K=!0,it=null,t!==null&&(He[Ke++]=Tt,He[Ke++]=Dt,He[Ke++]=_n,Tt=t.id,Dt=t.overflow,_n=e),e=Va(e,r.children),e.flags|=4096,e)}function Df(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ku(t.return,e,n)}function Ps(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qp(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ve(t,e,r.children,n),r=Q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Df(t,n,e);else if(t.tag===19)Df(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(U(Q,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ps(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ps(e,!0,n,null,o);break;case"together":Ps(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ft(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$n|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(w(153));if(e.child!==null){for(t=e.child,n=nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I1(t,e,n){switch(e.tag){case 3:Kp(e),Cr();break;case 5:xp(e);break;case 1:ze(e.type)&&il(e);break;case 4:Ra(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;U(sl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(U(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?Qp(t,e,n):(U(Q,Q.current&1),t=Ft(t,e,n),t!==null?t.sibling:null);U(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(Q,Q.current),r)break;return null;case 22:case 23:return e.lanes=0,Jp(t,e,n)}return Ft(t,e,n)}var Yp,Ou,Gp,Xp;Yp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ou=function(){};Gp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Nn(gt.current);var o=null;switch(n){case"input":i=Qs(t,i),r=Qs(t,r),o=[];break;case"select":i=Y({},i,{value:void 0}),r=Y({},r,{value:void 0}),o=[];break;case"textarea":i=Gs(t,i),r=Gs(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nl)}Zs(n,r);var l;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var s=i[a];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xi.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in r){var u=r[a];if(s=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==s&&(u!=null||s!=null))if(a==="style")if(s){for(l in s)!s.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&s[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(xi.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&J("scroll",t),o||s===u||(o=[])):(o=o||[]).push(a,u))}n&&(o=o||[]).push("style",n);var a=o;(e.updateQueue=a)&&(e.flags|=4)}};Xp=function(t,e,n,r){n!==r&&(e.flags|=4)};function br(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function F1(t,e,n){var r=e.pendingProps;switch(Ca(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return ze(e.type)&&rl(),pe(e),null;case 3:return r=e.stateNode,Nr(),H(Pe),H(Se),za(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,it!==null&&(Iu(it),it=null))),Ou(t,e),pe(e),null;case 5:Pa(e);var i=Nn(Ii.current);if(n=e.type,t!==null&&e.stateNode!=null)Gp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(w(166));return pe(e),null}if(t=Nn(gt.current),yo(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[dt]=e,r[zi]=o,t=(e.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(i=0;i<Zr.length;i++)J(Zr[i],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":Bc(r,o),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},J("invalid",r);break;case"textarea":_c(r,o),J("invalid",r)}Zs(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&go(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&go(r.textContent,s,t),i=["children",""+s]):xi.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&J("scroll",r)}switch(n){case"input":so(r),Vc(r,o,!0);break;case"textarea":so(r),bc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=nl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[dt]=e,t[zi]=r,Yp(t,e,!1,!1),e.stateNode=t;e:{switch(l=eu(n,r),n){case"dialog":J("cancel",t),J("close",t),i=r;break;case"iframe":case"object":case"embed":J("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zr.length;i++)J(Zr[i],t);i=r;break;case"source":J("error",t),i=r;break;case"img":case"image":case"link":J("error",t),J("load",t),i=r;break;case"details":J("toggle",t),i=r;break;case"input":Bc(t,r),i=Qs(t,r),J("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Y({},r,{value:void 0}),J("invalid",t);break;case"textarea":_c(t,r),i=Gs(t,r),J("invalid",t);break;default:i=r}Zs(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?Th(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Oh(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ci(t,u):typeof u=="number"&&Ci(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xi.hasOwnProperty(o)?u!=null&&o==="onScroll"&&J("scroll",t):u!=null&&ua(t,o,u,l))}switch(n){case"input":so(t),Vc(t,r,!1);break;case"textarea":so(t),bc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?fr(t,!!r.multiple,o,!1):r.defaultValue!=null&&fr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pe(e),null;case 6:if(t&&e.stateNode!=null)Xp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(w(166));if(n=Nn(Ii.current),Nn(gt.current),yo(e)){if(r=e.stateNode,n=e.memoizedProps,r[dt]=e,(o=r.nodeValue!==n)&&(t=$e,t!==null))switch(t.tag){case 3:go(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&go(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dt]=e,e.stateNode=r}return pe(e),null;case 13:if(H(Q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&_e!==null&&e.mode&1&&!(e.flags&128))mp(),Cr(),e.flags|=98560,o=!1;else if(o=yo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(w(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(w(317));o[dt]=e}else Cr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pe(e),o=!1}else it!==null&&(Iu(it),it=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?ne===0&&(ne=3):ja())),e.updateQueue!==null&&(e.flags|=4),pe(e),null);case 4:return Nr(),Ou(t,e),t===null&&Ri(e.stateNode.containerInfo),pe(e),null;case 10:return Ma(e.type._context),pe(e),null;case 17:return ze(e.type)&&rl(),pe(e),null;case 19:if(H(Q),o=e.memoizedState,o===null)return pe(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)br(o,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=cl(t),l!==null){for(e.flags|=128,br(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return U(Q,Q.current&1|2),e.child}t=t.sibling}o.tail!==null&&Z()>Mr&&(e.flags|=128,r=!0,br(o,!1),e.lanes=4194304)}else{if(!r)if(t=cl(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),br(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!K)return pe(e),null}else 2*Z()-o.renderingStartTime>Mr&&n!==1073741824&&(e.flags|=128,r=!0,br(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Z(),e.sibling=null,n=Q.current,U(Q,r?n&1|2:n&1),e):(pe(e),null);case 22:case 23:return Ua(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ve&1073741824&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),null;case 24:return null;case 25:return null}throw Error(w(156,e.tag))}function L1(t,e){switch(Ca(e),e.tag){case 1:return ze(e.type)&&rl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nr(),H(Pe),H(Se),za(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pa(e),null;case 13:if(H(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(w(340));Cr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(Q),null;case 4:return Nr(),null;case 10:return Ma(e.type._context),null;case 22:case 23:return Ua(),null;case 24:return null;default:return null}}var vo=!1,ge=!1,B1=typeof WeakSet=="function"?WeakSet:Set,M=null;function ar(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){G(t,e,r)}else n.current=null}function Mu(t,e,n){try{n()}catch(r){G(t,e,r)}}var Rf=!1;function V1(t,e){if(cu=Zo,t=np(),wa(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,u=-1,a=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=l+i),f!==o||r!==0&&f.nodeType!==3||(u=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++a===i&&(s=l),d===o&&++c===r&&(u=l),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:t,selectionRange:n},Zo=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,S=h.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:nt(e.type,m),S);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(v){G(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return h=Rf,Rf=!1,h}function ci(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Mu(e,n,o)}i=i.next}while(i!==r)}}function Il(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zp(t){var e=t.alternate;e!==null&&(t.alternate=null,Zp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dt],delete e[zi],delete e[pu],delete e[v1],delete e[w1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function em(t){return t.tag===5||t.tag===3||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||em(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Du(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nl));else if(r!==4&&(t=t.child,t!==null))for(Du(t,e,n),t=t.sibling;t!==null;)Du(t,e,n),t=t.sibling}function Ru(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ru(t,e,n),t=t.sibling;t!==null;)Ru(t,e,n),t=t.sibling}var ae=null,rt=!1;function Vt(t,e,n){for(n=n.child;n!==null;)tm(t,e,n),n=n.sibling}function tm(t,e,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 5:ge||ar(n,e);case 6:var r=ae,i=rt;ae=null,Vt(t,e,n),ae=r,rt=i,ae!==null&&(rt?(t=ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ae.removeChild(n.stateNode));break;case 18:ae!==null&&(rt?(t=ae,n=n.stateNode,t.nodeType===8?Es(t.parentNode,n):t.nodeType===1&&Es(t,n),Mi(t)):Es(ae,n.stateNode));break;case 4:r=ae,i=rt,ae=n.stateNode.containerInfo,rt=!0,Vt(t,e,n),ae=r,rt=i;break;case 0:case 11:case 14:case 15:if(!ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Mu(n,e,l),i=i.next}while(i!==r)}Vt(t,e,n);break;case 1:if(!ge&&(ar(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){G(n,e,s)}Vt(t,e,n);break;case 21:Vt(t,e,n);break;case 22:n.mode&1?(ge=(r=ge)||n.memoizedState!==null,Vt(t,e,n),ge=r):Vt(t,e,n);break;default:Vt(t,e,n)}}function zf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new B1),e.forEach(function(r){var i=K1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,s=l;e:for(;s!==null;){switch(s.tag){case 5:ae=s.stateNode,rt=!1;break e;case 3:ae=s.stateNode.containerInfo,rt=!0;break e;case 4:ae=s.stateNode.containerInfo,rt=!0;break e}s=s.return}if(ae===null)throw Error(w(160));tm(o,l,i),ae=null,rt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(a){G(i,e,a)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nm(e,t),e=e.sibling}function nm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tt(e,t),ct(t),r&4){try{ci(3,t,t.return),Il(3,t)}catch(m){G(t,t.return,m)}try{ci(5,t,t.return)}catch(m){G(t,t.return,m)}}break;case 1:tt(e,t),ct(t),r&512&&n!==null&&ar(n,n.return);break;case 5:if(tt(e,t),ct(t),r&512&&n!==null&&ar(n,n.return),t.flags&32){var i=t.stateNode;try{Ci(i,"")}catch(m){G(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Ch(i,o),eu(s,l);var a=eu(s,o);for(l=0;l<u.length;l+=2){var c=u[l],f=u[l+1];c==="style"?Th(i,f):c==="dangerouslySetInnerHTML"?Oh(i,f):c==="children"?Ci(i,f):ua(i,c,f,a)}switch(s){case"input":qs(i,o);break;case"textarea":Eh(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?fr(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?fr(i,!!o.multiple,o.defaultValue,!0):fr(i,!!o.multiple,o.multiple?[]:"",!1))}i[zi]=o}catch(m){G(t,t.return,m)}}break;case 6:if(tt(e,t),ct(t),r&4){if(t.stateNode===null)throw Error(w(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){G(t,t.return,m)}}break;case 3:if(tt(e,t),ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mi(e.containerInfo)}catch(m){G(t,t.return,m)}break;case 4:tt(e,t),ct(t);break;case 13:tt(e,t),ct(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||($a=Z())),r&4&&zf(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ge=(a=ge)||c,tt(e,t),ge=a):tt(e,t),ct(t),r&8192){if(a=t.memoizedState!==null,(t.stateNode.isHidden=a)&&!c&&t.mode&1)for(M=t,c=t.child;c!==null;){for(f=M=c;M!==null;){switch(d=M,p=d.child,d.tag){case 0:case 11:case 14:case 15:ci(4,d,d.return);break;case 1:ar(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(m){G(r,n,m)}}break;case 5:ar(d,d.return);break;case 22:if(d.memoizedState!==null){If(f);continue}}p!==null?(p.return=d,M=p):If(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,a?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,u=f.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Mh("display",l))}catch(m){G(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=a?"":f.memoizedProps}catch(m){G(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tt(e,t),ct(t),r&4&&zf(t);break;case 21:break;default:tt(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(em(n)){var r=n;break e}n=n.return}throw Error(w(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ci(i,""),r.flags&=-33);var o=Pf(t);Ru(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Pf(t);Du(t,s,l);break;default:throw Error(w(161))}}catch(u){G(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _1(t,e,n){M=t,rm(t)}function rm(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var i=M,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||vo;if(!l){var s=i.alternate,u=s!==null&&s.memoizedState!==null||ge;s=vo;var a=ge;if(vo=l,(ge=u)&&!a)for(M=i;M!==null;)l=M,u=l.child,l.tag===22&&l.memoizedState!==null?Ff(i):u!==null?(u.return=l,M=u):Ff(i);for(;o!==null;)M=o,rm(o),o=o.sibling;M=i,vo=s,ge=a}Af(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,M=o):Af(t)}}function Af(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||Il(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ge)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&gf(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gf(e,l,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var a=e.alternate;if(a!==null){var c=a.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Mi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}ge||e.flags&512&&Tu(e)}catch(d){G(e,e.return,d)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function If(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Ff(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Il(4,e)}catch(u){G(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){G(e,i,u)}}var o=e.return;try{Tu(e)}catch(u){G(e,o,u)}break;case 5:var l=e.return;try{Tu(e)}catch(u){G(e,l,u)}}}catch(u){G(e,e.return,u)}if(e===t){M=null;break}var s=e.sibling;if(s!==null){s.return=e.return,M=s;break}M=e.return}}var b1=Math.ceil,hl=Bt.ReactCurrentDispatcher,_a=Bt.ReactCurrentOwner,Ye=Bt.ReactCurrentBatchConfig,V=0,le=null,ee=null,fe=0,Ve=0,cr=dn(0),ne=0,Vi=null,$n=0,Fl=0,ba=0,fi=null,Te=null,$a=0,Mr=1/0,xt=null,pl=!1,Pu=null,en=null,wo=!1,Kt=null,ml=0,di=0,zu=null,Bo=-1,Vo=0;function xe(){return V&6?Z():Bo!==-1?Bo:Bo=Z()}function tn(t){return t.mode&1?V&2&&fe!==0?fe&-fe:C1.transition!==null?(Vo===0&&(Vo=bh()),Vo):(t=$,t!==0||(t=window.event,t=t===void 0?16:Kh(t.type)),t):1}function st(t,e,n,r){if(50<di)throw di=0,zu=null,Error(w(185));Ki(t,n,r),(!(V&2)||t!==le)&&(t===le&&(!(V&2)&&(Fl|=n),ne===4&&jt(t,fe)),Ae(t,r),n===1&&V===0&&!(e.mode&1)&&(Mr=Z()+500,Pl&&hn()))}function Ae(t,e){var n=t.callbackNode;C0(t,e);var r=Xo(t,t===le?fe:0);if(r===0)n!==null&&Uc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uc(n),e===1)t.tag===0?x1(Lf.bind(null,t)):dp(Lf.bind(null,t)),k1(function(){!(V&6)&&hn()}),n=null;else{switch($h(r)){case 1:n=ha;break;case 4:n=Vh;break;case 16:n=Go;break;case 536870912:n=_h;break;default:n=Go}n=fm(n,im.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function im(t,e){if(Bo=-1,Vo=0,V&6)throw Error(w(327));var n=t.callbackNode;if(gr()&&t.callbackNode!==n)return null;var r=Xo(t,t===le?fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gl(t,r);else{e=r;var i=V;V|=2;var o=lm();(le!==t||fe!==e)&&(xt=null,Mr=Z()+500,An(t,e));do try{U1();break}catch(s){om(t,s)}while(1);Oa(),hl.current=o,V=i,ee!==null?e=0:(le=null,fe=0,e=ne)}if(e!==0){if(e===2&&(i=ou(t),i!==0&&(r=i,e=Au(t,i))),e===1)throw n=Vi,An(t,0),jt(t,r),Ae(t,Z()),n;if(e===6)jt(t,r);else{if(i=t.current.alternate,!(r&30)&&!$1(i)&&(e=gl(t,r),e===2&&(o=ou(t),o!==0&&(r=o,e=Au(t,o))),e===1))throw n=Vi,An(t,0),jt(t,r),Ae(t,Z()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(w(345));case 2:vn(t,Te,xt);break;case 3:if(jt(t,r),(r&130023424)===r&&(e=$a+500-Z(),10<e)){if(Xo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hu(vn.bind(null,t,Te,xt),e);break}vn(t,Te,xt);break;case 4:if(jt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-lt(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=Z()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b1(r/1960))-r,10<r){t.timeoutHandle=hu(vn.bind(null,t,Te,xt),r);break}vn(t,Te,xt);break;case 5:vn(t,Te,xt);break;default:throw Error(w(329))}}}return Ae(t,Z()),t.callbackNode===n?im.bind(null,t):null}function Au(t,e){var n=fi;return t.current.memoizedState.isDehydrated&&(An(t,e).flags|=256),t=gl(t,e),t!==2&&(e=Te,Te=n,e!==null&&Iu(e)),t}function Iu(t){Te===null?Te=t:Te.push.apply(Te,t)}function $1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ut(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jt(t,e){for(e&=~ba,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lt(e),r=1<<n;t[n]=-1,e&=~r}}function Lf(t){if(V&6)throw Error(w(327));gr();var e=Xo(t,0);if(!(e&1))return Ae(t,Z()),null;var n=gl(t,e);if(t.tag!==0&&n===2){var r=ou(t);r!==0&&(e=r,n=Au(t,r))}if(n===1)throw n=Vi,An(t,0),jt(t,e),Ae(t,Z()),n;if(n===6)throw Error(w(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vn(t,Te,xt),Ae(t,Z()),null}function Wa(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(Mr=Z()+500,Pl&&hn())}}function Wn(t){Kt!==null&&Kt.tag===0&&!(V&6)&&gr();var e=V;V|=1;var n=Ye.transition,r=$;try{if(Ye.transition=null,$=1,t)return t()}finally{$=r,Ye.transition=n,V=e,!(V&6)&&hn()}}function Ua(){Ve=cr.current,H(cr)}function An(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,y1(n)),ee!==null)for(n=ee.return;n!==null;){var r=n;switch(Ca(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rl();break;case 3:Nr(),H(Pe),H(Se),za();break;case 5:Pa(r);break;case 4:Nr();break;case 13:H(Q);break;case 19:H(Q);break;case 10:Ma(r.type._context);break;case 22:case 23:Ua()}n=n.return}if(le=t,ee=t=nn(t.current,null),fe=Ve=e,ne=0,Vi=null,ba=Fl=$n=0,Te=fi=null,En!==null){for(e=0;e<En.length;e++)if(n=En[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}En=null}return t}function om(t,e){do{var n=ee;try{if(Oa(),Io.current=dl,fl){for(var r=q.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fl=!1}if(bn=0,oe=te=q=null,ai=!1,Fi=0,_a.current=null,n===null||n.return===null){ne=1,Vi=e,ee=null;break}e:{var o=t,l=n.return,s=n,u=e;if(e=fe,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Cf(l);if(p!==null){p.flags&=-257,Ef(p,l,s,o,e),p.mode&1&&xf(o,a,e),e=p,u=a;var h=e.updateQueue;if(h===null){var m=new Set;m.add(u),e.updateQueue=m}else h.add(u);break e}else{if(!(e&1)){xf(o,a,e),ja();break e}u=Error(w(426))}}else if(K&&s.mode&1){var S=Cf(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Ef(S,l,s,o,e),Ea(Or(u,s));break e}}o=u=Or(u,s),ne!==4&&(ne=2),fi===null?fi=[o]:fi.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=Wp(o,u,e);mf(o,y);break e;case 1:s=u;var g=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(en===null||!en.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=Up(o,s,e);mf(o,v);break e}}o=o.return}while(o!==null)}um(n)}catch(E){e=E,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(1)}function lm(){var t=hl.current;return hl.current=dl,t===null?dl:t}function ja(){(ne===0||ne===3||ne===2)&&(ne=4),le===null||!($n&268435455)&&!(Fl&268435455)||jt(le,fe)}function gl(t,e){var n=V;V|=2;var r=lm();(le!==t||fe!==e)&&(xt=null,An(t,e));do try{W1();break}catch(i){om(t,i)}while(1);if(Oa(),V=n,hl.current=r,ee!==null)throw Error(w(261));return le=null,fe=0,ne}function W1(){for(;ee!==null;)sm(ee)}function U1(){for(;ee!==null&&!p0();)sm(ee)}function sm(t){var e=cm(t.alternate,t,Ve);t.memoizedProps=t.pendingProps,e===null?um(t):ee=e,_a.current=null}function um(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L1(n,e),n!==null){n.flags&=32767,ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,ee=null;return}}else if(n=F1(n,e,Ve),n!==null){ee=n;return}if(e=e.sibling,e!==null){ee=e;return}ee=e=t}while(e!==null);ne===0&&(ne=5)}function vn(t,e,n){var r=$,i=Ye.transition;try{Ye.transition=null,$=1,j1(t,e,n,r)}finally{Ye.transition=i,$=r}return null}function j1(t,e,n,r){do gr();while(Kt!==null);if(V&6)throw Error(w(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(w(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(E0(t,o),t===le&&(ee=le=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wo||(wo=!0,fm(Go,function(){return gr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ye.transition,Ye.transition=null;var l=$;$=1;var s=V;V|=4,_a.current=null,V1(t,n),nm(n,t),c1(fu),Zo=!!cu,fu=cu=null,t.current=n,_1(n),m0(),V=s,$=l,Ye.transition=o}else t.current=n;if(wo&&(wo=!1,Kt=t,ml=i),o=t.pendingLanes,o===0&&(en=null),k0(n.stateNode),Ae(t,Z()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pl)throw pl=!1,t=Pu,Pu=null,t;return ml&1&&t.tag!==0&&gr(),o=t.pendingLanes,o&1?t===zu?di++:(di=0,zu=t):di=0,hn(),null}function gr(){if(Kt!==null){var t=$h(ml),e=Ye.transition,n=$;try{if(Ye.transition=null,$=16>t?16:t,Kt===null)var r=!1;else{if(t=Kt,Kt=null,ml=0,V&6)throw Error(w(331));var i=V;for(V|=4,M=t.current;M!==null;){var o=M,l=o.child;if(M.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var a=s[u];for(M=a;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:ci(8,c,o)}var f=c.child;if(f!==null)f.return=c,M=f;else for(;M!==null;){c=M;var d=c.sibling,p=c.return;if(Zp(c),c===a){M=null;break}if(d!==null){d.return=p,M=d;break}M=p}}}var h=o.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}M=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,M=l;else e:for(;M!==null;){if(o=M,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ci(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,M=y;break e}M=o.return}}var g=t.current;for(M=g;M!==null;){l=M;var k=l.child;if(l.subtreeFlags&2064&&k!==null)k.return=l,M=k;else e:for(l=g;M!==null;){if(s=M,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Il(9,s)}}catch(E){G(s,s.return,E)}if(s===l){M=null;break e}var v=s.sibling;if(v!==null){v.return=s.return,M=v;break e}M=s.return}}if(V=i,hn(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Ol,t)}catch{}r=!0}return r}finally{$=n,Ye.transition=e}}return!1}function Bf(t,e,n){e=Or(n,e),e=Wp(t,e,1),t=Zt(t,e,1),e=xe(),t!==null&&(Ki(t,1,e),Ae(t,e))}function G(t,e,n){if(t.tag===3)Bf(t,t,n);else for(;e!==null;){if(e.tag===3){Bf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(en===null||!en.has(r))){t=Or(n,t),t=Up(e,t,1),e=Zt(e,t,1),t=xe(),e!==null&&(Ki(e,1,t),Ae(e,t));break}}e=e.return}}function J1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xe(),t.pingedLanes|=t.suspendedLanes&n,le===t&&(fe&n)===n&&(ne===4||ne===3&&(fe&130023424)===fe&&500>Z()-$a?An(t,0):ba|=n),Ae(t,e)}function am(t,e){e===0&&(t.mode&1?(e=co,co<<=1,!(co&130023424)&&(co=4194304)):e=1);var n=xe();t=It(t,e),t!==null&&(Ki(t,e,n),Ae(t,n))}function H1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),am(t,n)}function K1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(w(314))}r!==null&&r.delete(e),am(t,n)}var cm;cm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Re=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Re=!1,I1(t,e,n);Re=!!(t.flags&131072)}else Re=!1,K&&e.flags&1048576&&hp(e,ll,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lo(t,e),t=e.pendingProps;var i=xr(e,Se.current);mr(e,n),i=Ia(null,e,r,t,i,n);var o=Fa();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ze(r)?(o=!0,il(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Da(e),i.updater=zl,e.stateNode=i,i._reactInternals=e,vu(e,r,t,n),e=Cu(null,e,r,!0,o,n)):(e.tag=0,K&&o&&xa(e),ve(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=q1(r),t=nt(r,t),i){case 0:e=xu(null,e,r,t,n);break e;case 1:e=Mf(null,e,r,t,n);break e;case 11:e=Nf(null,e,r,t,n);break e;case 14:e=Of(null,e,r,nt(r.type,t),n);break e}throw Error(w(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nt(r,i),xu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nt(r,i),Mf(t,e,r,i,n);case 3:e:{if(Kp(e),t===null)throw Error(w(387));r=e.pendingProps,o=e.memoizedState,i=o.element,yp(t,e),al(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Or(Error(w(423)),e),e=Tf(t,e,r,n,i);break e}else if(r!==i){i=Or(Error(w(424)),e),e=Tf(t,e,r,n,i);break e}else for(_e=Xt(e.stateNode.containerInfo.firstChild),$e=e,K=!0,it=null,n=wp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cr(),r===i){e=Ft(t,e,n);break e}ve(t,e,r,n)}e=e.child}return e;case 5:return xp(e),t===null&&yu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,du(r,i)?l=null:o!==null&&du(r,o)&&(e.flags|=32),Hp(t,e),ve(t,e,l,n),e.child;case 6:return t===null&&yu(e),null;case 13:return Qp(t,e,n);case 4:return Ra(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Er(e,null,r,n):ve(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nt(r,i),Nf(t,e,r,i,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,U(sl,r._currentValue),r._currentValue=l,o!==null)if(ut(o.value,l)){if(o.children===i.children&&!Pe.current){e=Ft(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Rt(-1,n&-n),u.tag=2;var a=o.updateQueue;if(a!==null){a=a.shared;var c=a.pending;c===null?u.next=u:(u.next=c.next,c.next=u),a.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),ku(o.return,n,e),s.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(w(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),ku(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}ve(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mr(e,n),i=Xe(i),r=r(i),e.flags|=1,ve(t,e,r,n),e.child;case 14:return r=e.type,i=nt(r,e.pendingProps),i=nt(r.type,i),Of(t,e,r,i,n);case 15:return jp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nt(r,i),Lo(t,e),e.tag=1,ze(r)?(t=!0,il(e)):t=!1,mr(e,n),Sp(e,r,i),vu(e,r,i,n),Cu(null,e,r,!0,t,n);case 19:return qp(t,e,n);case 22:return Jp(t,e,n)}throw Error(w(156,e.tag))};function fm(t,e){return Bh(t,e)}function Q1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,n,r){return new Q1(t,e,n,r)}function Ja(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q1(t){if(typeof t=="function")return Ja(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ca)return 11;if(t===fa)return 14}return 2}function nn(t,e){var n=t.alternate;return n===null?(n=qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _o(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")Ja(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case er:return In(n.children,i,o,e);case aa:l=8,i|=8;break;case js:return t=qe(12,n,e,i|2),t.elementType=js,t.lanes=o,t;case Js:return t=qe(13,n,e,i),t.elementType=Js,t.lanes=o,t;case Hs:return t=qe(19,n,e,i),t.elementType=Hs,t.lanes=o,t;case vh:return Ll(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kh:l=10;break e;case Sh:l=9;break e;case ca:l=11;break e;case fa:l=14;break e;case bt:l=16,r=null;break e}throw Error(w(130,t==null?t:typeof t,""))}return e=qe(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function In(t,e,n,r){return t=qe(7,t,r,e),t.lanes=n,t}function Ll(t,e,n,r){return t=qe(22,t,r,e),t.elementType=vh,t.lanes=n,t.stateNode={isHidden:!1},t}function zs(t,e,n){return t=qe(6,t,null,e),t.lanes=n,t}function As(t,e,n){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Y1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hs(0),this.expirationTimes=hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ha(t,e,n,r,i,o,l,s,u){return t=new Y1(t,e,n,s,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=qe(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(o),t}function G1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dm(t){if(!t)return un;t=t._reactInternals;e:{if(Jn(t)!==t||t.tag!==1)throw Error(w(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(w(171))}if(t.tag===1){var n=t.type;if(ze(n))return fp(t,n,e)}return e}function hm(t,e,n,r,i,o,l,s,u){return t=Ha(n,r,!0,t,i,o,l,s,u),t.context=dm(null),n=t.current,r=xe(),i=tn(n),o=Rt(r,i),o.callback=e??null,Zt(n,o,i),t.current.lanes=i,Ki(t,i,r),Ae(t,r),t}function Bl(t,e,n,r){var i=e.current,o=xe(),l=tn(i);return n=dm(n),e.context===null?e.context=n:e.pendingContext=n,e=Rt(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zt(i,e,l),t!==null&&(st(t,i,l,o),Ao(t,i,l)),l}function yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ka(t,e){Vf(t,e),(t=t.alternate)&&Vf(t,e)}function X1(){return null}var pm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qa(t){this._internalRoot=t}Vl.prototype.render=Qa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(w(409));Bl(t,e,null,null)};Vl.prototype.unmount=Qa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wn(function(){Bl(null,t,null,null)}),e[At]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var e=jh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ut.length&&e!==0&&e<Ut[n].priority;n++);Ut.splice(n,0,t),n===0&&Hh(t)}};function qa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _f(){}function Z1(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var a=yl(l);o.call(a)}}var l=hm(e,r,t,0,null,!1,!1,"",_f);return t._reactRootContainer=l,t[At]=l.current,Ri(t.nodeType===8?t.parentNode:t),Wn(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var a=yl(u);s.call(a)}}var u=Ha(t,0,!1,null,null,!1,!1,"",_f);return t._reactRootContainer=u,t[At]=u.current,Ri(t.nodeType===8?t.parentNode:t),Wn(function(){Bl(e,u,n,r)}),u}function bl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var u=yl(l);s.call(u)}}Bl(e,l,t,i)}else l=Z1(n,e,t,i,r);return yl(l)}Wh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xr(e.pendingLanes);n!==0&&(pa(e,n|1),Ae(e,Z()),!(V&6)&&(Mr=Z()+500,hn()))}break;case 13:Wn(function(){var r=It(t,1);if(r!==null){var i=xe();st(r,t,1,i)}}),Ka(t,1)}};ma=function(t){if(t.tag===13){var e=It(t,134217728);if(e!==null){var n=xe();st(e,t,134217728,n)}Ka(t,134217728)}};Uh=function(t){if(t.tag===13){var e=tn(t),n=It(t,e);if(n!==null){var r=xe();st(n,t,e,r)}Ka(t,e)}};jh=function(){return $};Jh=function(t,e){var n=$;try{return $=t,e()}finally{$=n}};nu=function(t,e,n){switch(e){case"input":if(qs(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Rl(r);if(!i)throw Error(w(90));xh(r),qs(r,i)}}}break;case"textarea":Eh(t,n);break;case"select":e=n.value,e!=null&&fr(t,!!n.multiple,e,!1)}};Ph=Wa;zh=Wn;var ek={usingClientEntryPoint:!1,Events:[qi,ir,Rl,Dh,Rh,Wa]},$r={findFiberByHostInstance:Cn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tk={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fh(t),t===null?null:t.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||X1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{Ol=xo.inject(tk),mt=xo}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ek;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qa(e))throw Error(w(200));return G1(t,e,null,n)};Ue.createRoot=function(t,e){if(!qa(t))throw Error(w(299));var n=!1,r="",i=pm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ha(t,1,!1,null,null,n,!1,r,i),t[At]=e.current,Ri(t.nodeType===8?t.parentNode:t),new Qa(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(w(188)):(t=Object.keys(t).join(","),Error(w(268,t)));return t=Fh(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return Wn(t)};Ue.hydrate=function(t,e,n){if(!_l(e))throw Error(w(200));return bl(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!qa(t))throw Error(w(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=pm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=hm(e,null,t,1,n??null,i,!1,o,l),t[At]=e.current,Ri(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vl(e)};Ue.render=function(t,e,n){if(!_l(e))throw Error(w(200));return bl(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!_l(t))throw Error(w(40));return t._reactRootContainer?(Wn(function(){bl(null,null,t,!1,function(){t._reactRootContainer=null,t[At]=null})}),!0):!1};Ue.unstable_batchedUpdates=Wa;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_l(n))throw Error(w(200));if(t==null||t._reactInternals===void 0)throw Error(w(38));return bl(t,e,n,!1,r)};Ue.version="18.2.0-next-9e3b772b8-20220608";function mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mm)}catch(t){console.error(t)}}mm(),hh.exports=Ue;var Gi=hh.exports,gm,bf=Gi;gm=bf.createRoot,bf.hydrateRoot;const Ar=x.createContext(null);Ar.Provider;function ym(){const[,t]=x.useReducer(e=>e+1,0);return t}const nk=()=>{const t=x.useRef(new Set).current,e=x.useRef(new Set).current,n=ym(),r=x.useRef(!0),i=x.useCallback(()=>{r.current||(n(),r.current=!0)},[n]),o=x.useCallback(l=>{let s;const u=()=>{s=l()};return t.add(u),i(),()=>{t.delete(u),s&&(e.add(s),i())}},[t,e,i]);return x.useLayoutEffect(()=>(r.current=!1,t.forEach(l=>l()),t.clear(),()=>{e.forEach(l=>l()),e.clear()})),o},rk=x.createContext(null);function ik({children:t}){const e=nk();return F(rk.Provider,{value:e,children:t})}const km=x.createContext(null);function ok(t){const e={};for(const[r,i]of t.entries()){let o=function(l,s){for(const u of i){let a=!1;if(Gi.unstable_batchedUpdates(()=>{a=!!u.call(this,l,s)}),a||s.defaultPrevented)return!0}return!1};e[r]=o}return new Nl({key:new lh("@nytimes/react-prosemirror/componentEventListeners"),props:{handleDOMEvents:e}})}function lk(){const[t,e]=x.useState(new Map),n=x.useCallback((o,l)=>{const s=t.get(o)??[];s.unshift(l),t.has(o)||(t.set(o,s),e(new Map(t)))},[t]),r=x.useCallback((o,l)=>{const s=t.get(o);s==null||s.splice(s.indexOf(l),1)},[t]),i=x.useMemo(()=>ok(t),[t]);return{registerEventListener:n,unregisterEventListener:r,componentEventListenersPlugin:i}}const we=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},_i=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let $f=null;const Ct=function(t,e,n){let r=$f||($f=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Un=function(t,e,n,r){return n&&(Wf(t,e,n,r,-1)||Wf(t,e,n,r,1))},sk=/^(img|br|input|textarea|hr)$/i;function Wf(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ht(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Ya(t)||sk.test(t.nodeName)||t.contentEditable=="false")return!1;e=we(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?ht(t):0}else return!1}}function ht(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function uk(t,e,n){for(let r=e==0,i=e==ht(t);r||i;){if(t==n)return!0;let o=we(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==ht(t)}}function Ya(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const $l=function(t){return t.focusNode&&Un(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function wn(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function ak(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ck(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const St=typeof navigator<"u"?navigator:null,Uf=typeof document<"u"?document:null,pn=St&&St.userAgent||"",Fu=/Edge\/(\d+)/.exec(pn),Sm=/MSIE \d/.exec(pn),Lu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pn),Ie=!!(Sm||Lu||Fu),rn=Sm?document.documentMode:Lu?+Lu[1]:Fu?+Fu[1]:0,at=!Ie&&/gecko\/(\d+)/i.test(pn);at&&+(/Firefox\/(\d+)/.exec(pn)||[0,0])[1];const Bu=!Ie&&/Chrome\/(\d+)/.exec(pn),ye=!!Bu,fk=Bu?+Bu[1]:0,Ce=!Ie&&!!St&&/Apple Computer/.test(St.vendor),Tr=Ce&&(/Mobile\/\w+/.test(pn)||!!St&&St.maxTouchPoints>2),Je=Tr||(St?/Mac/.test(St.platform):!1),dk=St?/Win/.test(St.platform):!1,ot=/Android \d/.test(pn),Wl=!!Uf&&"webkitFontSmoothing"in Uf.documentElement.style,hk=Wl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function pk(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function wt(t,e){return typeof t=="number"?t:t[e]}function mk(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function jf(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let l=n||t.dom;l;l=_i(l)){if(l.nodeType!=1)continue;let s=l,u=s==o.body,a=u?pk(o):mk(s),c=0,f=0;if(e.top<a.top+wt(r,"top")?f=-(a.top-e.top+wt(i,"top")):e.bottom>a.bottom-wt(r,"bottom")&&(f=e.bottom-e.top>a.bottom-a.top?e.top+wt(i,"top")-a.top:e.bottom-a.bottom+wt(i,"bottom")),e.left<a.left+wt(r,"left")?c=-(a.left-e.left+wt(i,"left")):e.right>a.right-wt(r,"right")&&(c=e.right-a.right+wt(i,"right")),c||f)if(u)o.defaultView.scrollBy(c,f);else{let d=s.scrollLeft,p=s.scrollTop;f&&(s.scrollTop+=f),c&&(s.scrollLeft+=c);let h=s.scrollLeft-d,m=s.scrollTop-p;e={left:e.left-h,top:e.top-m,right:e.right-h,bottom:e.bottom-m}}if(u||/^(fixed|sticky)$/.test(getComputedStyle(l).position))break}}function vm(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let s=t.root.elementFromPoint(o,l);if(!s||s==t.dom||!t.dom.contains(s))continue;let u=s.getBoundingClientRect();if(u.top>=n-20){r=s,i=u.top;break}}return{refDOM:r,refTop:i,stack:wm(t.dom)}}function wm(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=_i(r));return e}function xm({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Cm(n,r==0?0:r-e)}function Cm(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Kn=null;function gk(t){if(t.setActive)return t.setActive();if(Kn)return t.focus(Kn);let e=wm(t);t.focus(Kn==null?{get preventScroll(){return Kn={preventScroll:!0},!0}}:void 0),Kn||(Kn=!1,Cm(e,0))}function Em(t,e){let n,r=2e8,i,o=0,l=e.top,s=e.top,u,a;for(let c=t.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Ct(c).getClientRects();else continue;for(let p=0;p<d.length;p++){let h=d[p];if(h.top<=l&&h.bottom>=s){l=Math.max(h.bottom,l),s=Math.min(h.top,s);let m=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(m<r){n=c,r=m,i=m&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&m&&(o=f+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!u&&h.left<=e.left&&h.right>=e.left&&(u=c,a={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=f+1)}}return!n&&u&&(n=u,i=a,r=0),n&&n.nodeType==3?yk(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:Em(n,i)}function yk(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=_t(r,1);if(o.top!=o.bottom&&Ga(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Ga(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function kk(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Sk(t,e,n){let{node:r,offset:i}=Em(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function vk(t,e,n,r){let i=-1;for(let o=e,l=!1;o!=t.dom;){let s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent&&!l||!s.contentDOM)){let u=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&!l&&(l=!0,u.left>r.left||u.top>r.top?i=s.posBefore:(u.right<r.left||u.bottom<r.top)&&(i=s.posAfter)),!s.contentDOM&&i<0&&!s.node.isText)return(s.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?s.posBefore:s.posAfter}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function Nm(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let l=t.childNodes[o];if(l.nodeType==1){let s=l.getClientRects();for(let u=0;u<s.length;u++){let a=s[u];if(Ga(e,a))return Nm(l,e,a)}}if((o=(o+1)%r)==i)break}return t}function wk(t,e){let n=t.dom.ownerDocument,r,i=0,o=ck(n,e.left,e.top);o&&({node:r,offset:i}=o);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let a=t.dom.getBoundingClientRect();if(!Ga(e,a)||(l=Nm(t.dom,e,a),!l))return null}if(Ce)for(let a=l;r&&a;a=_i(a))a.draggable&&(r=void 0);if(l=kk(l,e),r){if(at&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let a=r.childNodes[i],c;a.nodeName=="IMG"&&(c=a.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=vk(t,r,i,e))}s==null&&(s=Sk(t,l,e));let u=t.docView.nearestDesc(l,!0);return{pos:s,inside:u?u.posAtStart-u.border:-1}}function Jf(t){return t.top<t.bottom||t.left<t.right}function _t(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Jf(r))return r}return Array.prototype.find.call(n,Jf)||t.getBoundingClientRect()}const xk=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Om(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),l=Wl||at;if(r.nodeType==3)if(l&&(xk.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=_t(Ct(r,i,i),n);if(at&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let a=_t(Ct(r,i-1,i-1),-1);if(a.top==u.top){let c=_t(Ct(r,i,i+1),-1);if(c.top!=u.top)return Wr(c,c.left<a.left)}}return u}else{let u=i,a=i,c=n<0?1:-1;return n<0&&!i?(a++,c=-1):n>=0&&i==r.nodeValue.length?(u--,c=1):n<0?u--:a++,Wr(_t(Ct(r,u,a),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==ht(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return Is(u.getBoundingClientRect(),!1)}if(o==null&&i<ht(r)){let u=r.childNodes[i];if(u.nodeType==1)return Is(u.getBoundingClientRect(),!0)}return Is(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==ht(r))){let u=r.childNodes[i-1],a=u.nodeType==3?Ct(u,ht(u)-(l?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(a)return Wr(_t(a,1),!1)}if(o==null&&i<ht(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let a=u?u.nodeType==3?Ct(u,0,l?0:1):u.nodeType==1?u:null:null;if(a)return Wr(_t(a,-1),!0)}return Wr(_t(r.nodeType==3?Ct(r):r,-n),n>=0)}function Wr(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Is(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Mm(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Ck(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Mm(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=t.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let l=Om(t,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let u;if(s.nodeType==1)u=s.getClientRects();else if(s.nodeType==3)u=Ct(s,0,s.nodeValue.length).getClientRects();else continue;for(let a=0;a<u.length;a++){let c=u[a];if(c.bottom>c.top+1&&(n=="up"?l.top-c.top>(c.bottom-l.top)*2:c.bottom-l.bottom>(l.bottom-c.top)*2))return!1}}return!0})}const Ek=/[\u0590-\u08ac]/;function Nk(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,s=t.domSelection();return!Ek.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?o:l:Mm(t,e,()=>{let{focusNode:u,focusOffset:a,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:m}=t.domSelectionRange(),S=h&&!p.contains(h.nodeType==1?h:h.parentNode)||u==h&&a==m;try{s.collapse(c,f),u&&(u!=c||a!=f)&&s.extend&&s.extend(u,a)}catch{}return d!=null&&(s.caretBidiLevel=d),S})}let Hf=null,Kf=null,Qf=!1;function Ok(t,e,n){return Hf==e&&Kf==n?Qf:(Hf=e,Kf=n,Qf=n=="up"||n=="down"?Ck(t,e,n):Nk(t,e,n))}const Ge=0,qf=1,On=2,vt=3;class Xi{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ge,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>we(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),l;if(o&&(!n||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],s=o+l.size;if(s>e||l instanceof Za){i=e-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Xa&&o.side>=0;r--);if(n<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&n&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?we(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?we(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let l=r,s=0;;s++){let u=this.children[s],a=l+u.size;if(i==-1&&e<=a){let c=l+u.border;if(e>=c&&n<=a-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,c);e=l;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=we(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(a>n||s==this.children.length-1)){n=a;for(let c=s+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=we(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=a}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),l=Math.max(e,n);for(let d=0,p=0;d<this.children.length;d++){let h=this.children[d],m=p+h.size;if(o>p&&l<m)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=m}let s=this.domFromPos(e,e?-1:1),u=n==e?s:this.domFromPos(n,n?-1:1),a=r.getSelection(),c=!1;if((at||Ce)&&e==n){let{node:d,offset:p}=s;if(d.nodeType==3){if(c=!!(p&&d.nodeValue[p-1]==`
`),c&&p==d.nodeValue.length)for(let h=d,m;h;h=h.parentNode){if(m=h.nextSibling){m.nodeName=="BR"&&(s=u={node:m.parentNode,offset:we(m)+1});break}let S=h.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let h=d.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(at&&a.focusNode&&a.focusNode!=u.node&&a.focusNode.nodeType==1){let d=a.focusNode.childNodes[a.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&Ce)&&Un(s.node,s.offset,a.anchorNode,a.anchorOffset)&&Un(u.node,u.offset,a.focusNode,a.focusOffset))return;let f=!1;if((a.extend||e==n)&&!c){a.collapse(s.node,s.offset);try{e!=n&&a.extend(u.node,u.offset),f=!0}catch{}}if(!f){if(e>n){let p=s;s=u,u=p}let d=document.createRange();d.setEnd(u.node,u.offset),d.setStart(s.node,s.offset),a.removeAllRanges(),a.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],l=r+o.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let s=r+o.border,u=l-o.border;if(e>=s&&n<=u){this.dirty=e==r||n==l?On:qf,e==s&&n==u&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=vt:o.markDirty(e-s,n-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?On:vt}r=l}this.dirty=On}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?On:qf;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Xa extends Xi{constructor(e,n,r){super(e,[],r,null),this.widget=n,this.widget=n}matchesWidget(e){return this.dirty==Ge&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class bi extends Xi{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class an extends Xi{constructor(e,n,r,i,o){super(e,n,i,o),this.mark=r}static create(e,n,r,i){let o=i.nodeViews[n.type.name],l=o&&o(n,i,r);return(!l||!l.dom)&&(l=Mt.renderSpec(document,n.type.spec.toDOM(n,r))),new an(e,[],n,l.dom,l.contentDOM||l.dom)}parseRule(){return this.dirty&vt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=vt&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ge){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ge}}slice(e,n,r){let i=an.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;n<l&&(o=bu(o,n,l,r)),e>0&&(o=bu(o,0,e,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}}class yt extends Xi{constructor(e,n,r,i,o,l,s,u){super(e,n,l,s),this.node=r,this.outerDeco=i,this.innerDeco=o,this.nodeDOM=u}static create(e,n,r,i,o,l){let s=o.nodeViews[n.type.name],u,a=s&&s(n,o,()=>{if(!u)return l;if(u.parent)return u.parent.posBeforeChild(u)},r,i),c=a&&a.dom,f=a&&a.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=Mt.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Rm(c,r,n),a?u=new Mk(e,n,r,i,c,f||null,d,a,o,l+1):n.isText?new Zi(e,[],n,r,i,c,d):new yt(e,[],n,r,i,c,f||null,d)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>C.empty)}return e}matchesNode(e,n,r){return this.dirty==Ge&&e.eq(this.node)&&_u(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,l=o&&o.pos>-1?o:null,s=o&&o.pos<0,u=new Dk(this,l&&l.node,e);zk(this.node,this.innerDeco,(a,c,f)=>{a.spec.marks?u.syncToMarks(a.spec.marks,r,e):a.type.side>=0&&!f&&u.syncToMarks(c==this.node.childCount?_.none:this.node.child(c).marks,r,e),u.placeWidget(a,e,i)},(a,c,f,d)=>{u.syncToMarks(a.marks,r,e);let p;u.findNodeMatch(a,c,f,d)||s&&e.state.selection.from>i&&e.state.selection.to<i+a.nodeSize&&(p=u.findIndexWithChild(o.node))>-1&&u.updateNodeAt(a,c,f,p,e)||u.updateNextNode(a,c,f,e,d,i)||u.addNode(a,c,f,e,i),i+=a.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==On)&&(l&&this.protectLocalComposition(e,l),Tm(this.contentDOM,this.children,e),Tr&&Ak(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof j)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),l=Ik(o.focusNode,o.focusOffset);if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let s=l.nodeValue,u=Fk(this.node.content,s,r-n,i-n);return u<0?null:{node:l,pos:u,text:s}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new bi(this,o,n,i);e.input.compositionNodes.push(l),this.children=bu(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==vt||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ge}updateOuterDeco(e){if(_u(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Dm(this.dom,this.nodeDOM,Vu(this.outerDeco,this.node,n),Vu(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Fs(t,e,n,r,i){Rm(r,e,t);let o=new yt(void 0,[],t,e,n,r,r,r);return o.contentDOM&&o.updateChildren(i,0),o}class Zi extends yt{constructor(e,n,r,i,o,l,s){super(e,n,r,i,o,l,null,s)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==vt||this.dirty!=Ge&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ge||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ge,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Zi(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=vt)}get domAtom(){return!1}}class Za extends Xi{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ge&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Mk extends yt{constructor(e,n,r,i,o,l,s,u,a,c){super(e,[],n,r,i,o,l,s),this.spec=u}update(e,n,r,i){if(this.dirty==vt)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Tm(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let l=e[o],s=l.dom;if(s.parentNode==t){for(;s!=r;)r=Yf(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(s,r);if(l instanceof an){let u=r?r.previousSibling:t.lastChild;Tm(l.contentDOM,l.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=Yf(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const hi=function(t){t&&(this.nodeName=t)};hi.prototype=Object.create(null);const Mn=[new hi];function Vu(t,e,n){if(t.length==0)return Mn;let r=n?Mn[0]:new hi,i=[r];for(let o=0;o<t.length;o++){let l=t[o].type.attrs;if(l){l.nodeName&&i.push(r=new hi(l.nodeName));for(let s in l){let u=l[s];u!=null&&(n&&i.length==1&&i.push(r=new hi(e.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+u:s=="style"?r.style=(r.style?r.style+";":"")+u:s!="nodeName"&&(r[s]=u))}}}return i}function Dm(t,e,n,r){if(n==Mn&&r==Mn)return e;let i=e;for(let o=0;o<r.length;o++){let l=r[o],s=n[o];if(o){let u;s&&s.nodeName==l.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==l.nodeName||(u=document.createElement(l.nodeName),u.pmIsDeco=!0,u.appendChild(i),s=Mn[0]),i=u}Tk(i,s||Mn[0],l)}return i}function Tk(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function Rm(t,e,n){return Dm(t,t,Mn,Vu(e,n,t.nodeType!=1))}function _u(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Yf(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Dk{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Rk(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Ge,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let a=this.top.children[u];if(a.matchesMark(e[o])&&!this.isLocked(a.dom)){s=u;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let u=an.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))o=this.top.children.indexOf(l,this.index);else for(let s=this.index,u=Math.min(this.top.children.length,s+5);s<u;s++){let a=this.top.children[s];if(a.matchesNode(e,n,r)&&!this.preMatch.matched.has(a)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let l=this.top.children[i];return l.dirty==vt&&l.dom==l.contentDOM&&(l.dirty=On),l.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,l){for(let s=this.index;s<this.top.children.length;s++){let u=this.top.children[s];if(u instanceof yt){let a=this.preMatch.matched.get(u);if(a!=null&&a!=o)return!1;let c=u.dom,f,d=this.isLocked(c)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=vt&&_u(n,u.outerDeco));if(!d&&u.update(e,n,r,i))return this.destroyBetween(this.index,s),u.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(u,e,n,r,i,l)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=On,f.updateChildren(i,l+1),f.dirty=Ge),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let s=yt.create(this.top,n,r,i,o,l);if(s.contentDOM){s.children=e.children,e.children=[];for(let u of s.children)u.parent=s}return e.destroy(),s}addNode(e,n,r,i,o){let l=yt.create(this.top,e,n,r,i,o);l.contentDOM&&l.updateChildren(i,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Xa(this.top,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof an;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Zi)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ce||ye)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Za(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Rk(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,l=[];e:for(;i>0;){let s;for(;;)if(r){let a=n.children[r-1];if(a instanceof an)n=a,r=a.children.length;else{s=a,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=s.node;if(u){if(u!=t.child(i-1))break;--i,o.set(s,i),l.push(s)}}return{index:i,matched:o,matches:l.reverse()}}function Pk(t,e){return t.type.side-e.type.side}function zk(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let a=0;a<t.childCount;a++){let c=t.child(a);r(c,i,e.forChild(o,c),a),o+=c.nodeSize}return}let l=0,s=[],u=null;for(let a=0;;){if(l<i.length&&i[l].to==o){let h=i[l++],m;for(;l<i.length&&i[l].to==o;)(m||(m=[h])).push(i[l++]);if(m){m.sort(Pk);for(let S=0;S<m.length;S++)n(m[S],a,!!u)}else n(h,a,!!u)}let c,f;if(u)f=-1,c=u,u=null;else if(a<t.childCount)f=a,c=t.child(a++);else break;for(let h=0;h<s.length;h++)s[h].to<=o&&s.splice(h--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)s.push(i[l++]);let d=o+c.nodeSize;if(c.isText){let h=d;l<i.length&&i[l].from<h&&(h=i[l].from);for(let m=0;m<s.length;m++)s[m].to<h&&(h=s[m].to);h<d&&(u=c.cut(h-o),c=c.cut(0,h-o),d=h,f=-1)}let p=c.isInline&&!c.isLeaf?s.filter(h=>!h.inline):s.slice();r(c,p,e.forChild(o,c),f),o=d}}function Ak(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Ik(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=ht(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function Fk(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let l=t.child(i++),s=o;if(o+=l.nodeSize,!l.isText)continue;let u=l.text;for(;i<t.childCount;){let a=t.child(i++);if(o+=a.nodeSize,!a.isText)break;u+=a.text}if(o>=n){let a=s<r?u.lastIndexOf(e,r-s-1):-1;if(a>=0&&a+e.length+s>=n)return s+a;if(n==r&&u.length>=r+e.length-s&&u.slice(r-s,r-s+e.length)==e)return r}}return-1}function bu(t,e,n,r,i){let o=[];for(let l=0,s=0;l<t.length;l++){let u=t[l],a=s,c=s+=u.size;a>=n||c<=e?o.push(u):(a<e&&o.push(u.slice(0,e-a,r)),i&&(o.push(i),i=void 0),c>n&&o.push(u.slice(n-a,u.size,r)))}return o}const Pm=65535,zm=Math.pow(2,16);function Lk(t,e){return t+e*zm}function Gf(t){return t&Pm}function Bk(t){return(t-(t&Pm))/zm}const Am=1,Im=2,bo=4,Fm=8;class Xf{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Fm)>0}get deletedBefore(){return(this.delInfo&(Am|bo))>0}get deletedAfter(){return(this.delInfo&(Im|bo))>0}get deletedAcross(){return(this.delInfo&bo)>0}}class Qe{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Qe.empty)return Qe.empty}recover(e){let n=0,r=Gf(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Bk(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let u=this.ranges[s]-(this.inverted?i:0);if(u>e)break;let a=this.ranges[s+o],c=this.ranges[s+l],f=u+a;if(e<=f){let d=a?e==u?-1:e==f?1:n:n,p=u+i+(d<0?0:c);if(r)return p;let h=e==(n<0?u:f)?null:Lk(s/3,e-u),m=e==u?Im:e==f?Am:bo;return(n<0?e!=u:e!=f)&&(m|=Fm),new Xf(p,m,h)}i+=c-a}return r?e+i:new Xf(e+i,0,null)}touches(e,n){let r=0,i=Gf(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let u=this.ranges[s]-(this.inverted?r:0);if(u>e)break;let a=this.ranges[s+o],c=u+a;if(e<=c&&s==i*3)return!0;r+=this.ranges[s+l]-a}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],s=l-(this.inverted?o:0),u=l+(this.inverted?0:o),a=this.ranges[i+n],c=this.ranges[i+r];e(s,s+a,u,u+c),o+=c-a}}invert(){return new Qe(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Qe.empty:new Qe(e<0?[0,-e,0]:[0,0,e])}}Qe.empty=new Qe([]);const Ls=Object.create(null);class Be{getMap(){return Qe.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ls[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ls)throw new RangeError("Duplicate use of step JSON ID "+e);return Ls[e]=n,n.prototype.jsonID=e,n}}class re{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new re(e,null)}static fail(e){return new re(null,e)}static fromReplace(e,n,r,i){try{return re.ok(e.replace(n,r,i))}catch(o){if(o instanceof Si)return re.fail(o.message);throw o}}}function ec(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(ec(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return C.fromArray(r)}class Tn extends Be{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new O(ec(n.content,(l,s)=>!l.isAtom||!s.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return re.fromReplace(e,this.from,this.to,o)}invert(){return new Dn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Tn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Tn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Tn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Tn(n.from,n.to,e.markFromJSON(n.mark))}}Be.jsonID("addMark",Tn);class Dn extends Be{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new O(ec(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return re.fromReplace(e,this.from,this.to,r)}invert(){return new Tn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Dn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Dn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Dn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Dn(n.from,n.to,e.markFromJSON(n.mark))}}Be.jsonID("removeMark",Dn);class Rn extends Be{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return re.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return re.fromReplace(e,this.pos,this.pos+1,new O(C.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Rn(this.pos,n.marks[i]);return new Rn(this.pos,this.mark)}}return new $i(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Rn(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Rn(n.pos,e.markFromJSON(n.mark))}}Be.jsonID("addNodeMark",Rn);class $i extends Be{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return re.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return re.fromReplace(e,this.pos,this.pos+1,new O(C.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Rn(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new $i(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new $i(n.pos,e.markFromJSON(n.mark))}}Be.jsonID("removeNodeMark",$i);class Wt extends Be{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&$u(e,this.from,this.to)?re.fail("Structure replace would overwrite content"):re.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Qe([this.from,this.to-this.from,this.slice.size])}invert(e){return new Wt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Wt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Wt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?O.empty:new O(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Wt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?O.empty:new O(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Wt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Wt(n.from,n.to,O.fromJSON(e,n.slice),!!n.structure)}}Be.jsonID("replace",Wt);class pi extends Be{constructor(e,n,r,i,o,l,s=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=s}apply(e){if(this.structure&&($u(e,this.from,this.gapFrom)||$u(e,this.gapTo,this.to)))return re.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return re.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?re.fromReplace(e,this.from,this.to,r):re.fail("Content does not fit in gap")}getMap(){return new Qe([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new pi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new pi(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new pi(n.from,n.to,n.gapFrom,n.gapTo,O.fromJSON(e,n.slice),n.insert,!!n.structure)}}Be.jsonID("replaceAround",pi);function $u(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function Vk(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let l=r.depth;l>=0;l--){let s=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,u=r.index(l)+(s>0?1:0),a=r.node(l),c=!1;if(o==1)c=a.canReplace(u,u,i);else{let f=a.contentMatchAt(u).findWrapping(i.firstChild.type);c=f&&a.canReplaceWith(u,u,f[0])}if(c)return s==0?r.pos:s<0?r.before(l+1):r.after(l+1)}return null}class mi extends Be{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return re.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return re.fromReplace(e,this.pos,this.pos+1,new O(C.from(i),0,n.isLeaf?0:1))}getMap(){return Qe.empty}invert(e){return new mi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new mi(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new mi(n.pos,n.attr,n.value)}}Be.jsonID("attr",mi);let Wi=class extends Error{};Wi=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Wi.prototype=Object.create(Error.prototype);Wi.prototype.constructor=Wi;Wi.prototype.name="TransformError";function tc(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let s=r.resolve(l),u,a;if($l(n)){for(u=s;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&A.isSelectable(c)&&i.parent&&!(c.isInline&&uk(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;a=new A(l==f?s:r.resolve(f))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;u=r.resolve(c)}if(!a){let c=e=="pointer"||t.state.selection.head<s.pos&&!o?1:-1;a=nc(t,u,s,c)}return a}function Lm(t){return t.editable?t.hasFocus():Vm(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function kt(t,e=!1){let n=t.state.selection;if(Bm(t,n),!!Lm(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ye){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Un(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)bk(t);else{let{anchor:r,head:i}=n,o,l;Zf&&!(n instanceof j)&&(n.$from.parent.inlineContent||(o=ed(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=ed(t,n.to))),t.docView.setSelection(r,i,t.root,e),Zf&&(o&&td(o),l&&td(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&_k(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Zf=Ce||ye&&fk<63;function ed(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Ce&&i&&i.contentEditable=="false")return Bs(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Bs(i);if(o)return Bs(o)}}function Bs(t){return t.contentEditable="true",Ce&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function td(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function _k(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Lm(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function bk(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,we(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ie&&rn<=11&&(r.disabled=!0,r.disabled=!1)}function Bm(t,e){if(e instanceof A){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(nd(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else nd(t)}function nd(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function nc(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||j.between(e,n,r)}function rd(t){return t.editable&&!t.hasFocus()?!1:Vm(t)}function Vm(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function $k(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Un(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Wu(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&b.findFrom(o,e)}function xn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function id(t,e,n){let r=t.state.selection;if(r instanceof j){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let i=Wu(t.state,e);return i&&i instanceof A?xn(t,i):!1}else if(!(Je&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(l=t.docView.descAt(s))&&!l.contentDOM?A.isSelectable(o)?xn(t,new A(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Wl?xn(t,new j(t.state.doc.resolve(e<0?s:s+o.nodeSize))):!1:!1}}else{if(r instanceof A&&r.node.isInline)return xn(t,new j(e>0?r.$to:r.$from));{let i=Wu(t.state,e);return i?xn(t,i):!1}}}function kl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function gi(t,e){if(t.contentEditable=="false")return!0;let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Qn(t,e){return e<0?Wk(t):Uk(t)}function Wk(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,l=!1;for(at&&n.nodeType==1&&r<kl(n)&&gi(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(gi(s,-1))i=n,o=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(_m(n))break;{let s=n.previousSibling;for(;s&&gi(s,-1);)i=n.parentNode,o=we(s),s=s.previousSibling;if(s)n=s,r=kl(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?Uu(t,n,r):i&&Uu(t,i,o)}function Uk(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=kl(n),o,l;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(gi(s,1))o=n,l=++r;else break}else{if(_m(n))break;{let s=n.nextSibling;for(;s&&gi(s,1);)o=s.parentNode,l=we(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=kl(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Uu(t,o,l)}function _m(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function jk(t,e){for(;t&&e==t.childNodes.length&&!Ya(t);)e=we(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Jk(t,e){for(;t&&!e&&!Ya(t);)e=we(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Uu(t,e,n){if(e.nodeType!=3){let o,l;(l=jk(e,n))?(e=l,n=0):(o=Jk(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if($l(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&kt(t)},50)}function od(t,e){let n=t.state.doc.resolve(e);if(!(ye||dk)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function ld(t,e,n){let r=t.state.selection;if(r instanceof j&&!r.empty||n.indexOf("s")>-1||Je&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Wu(t.state,e);if(l&&l instanceof A)return xn(t,l)}if(!i.parent.inlineContent){let l=e<0?i:o,s=r instanceof be?b.near(l,e):b.findFrom(l,e);return s?xn(t,s):!1}return!1}function sd(t,e){if(!(t.state.selection instanceof j))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let l=t.state.tr;return e<0?l.delete(n.pos-o.nodeSize,n.pos):l.delete(n.pos,n.pos+o.nodeSize),t.dispatch(l),!0}return!1}function ud(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Hk(t){if(!Ce||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;ud(t,r,"true"),setTimeout(()=>ud(t,r,"false"),20)}return!1}function Kk(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Qk(t,e){let n=e.keyCode,r=Kk(e);if(n==8||Je&&n==72&&r=="c")return sd(t,-1)||Qn(t,-1);if(n==46&&!e.shiftKey||Je&&n==68&&r=="c")return sd(t,1)||Qn(t,1);if(n==13||n==27)return!0;if(n==37||Je&&n==66&&r=="c"){let i=n==37?od(t,t.state.selection.from)=="ltr"?-1:1:-1;return id(t,i,r)||Qn(t,i)}else if(n==39||Je&&n==70&&r=="c"){let i=n==39?od(t,t.state.selection.from)=="ltr"?1:-1:1;return id(t,i,r)||Qn(t,i)}else{if(n==38||Je&&n==80&&r=="c")return ld(t,-1,r)||Qn(t,-1);if(n==40||Je&&n==78&&r=="c")return Hk(t)||ld(t,1,r)||Qn(t,1);if(r==(Je?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function bm(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let l=t.someProp("clipboardSerializer")||Mt.fromSchema(t.state.schema),s=Hm(),u=s.createElement("div");u.appendChild(l.serializeFragment(r,{document:s}));let a=u.firstChild,c,f=0;for(;a&&a.nodeType==1&&(c=Jm[a.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=s.createElement(c[p]);for(;u.firstChild;)h.appendChild(u.firstChild);u.appendChild(h),f++}a=u.firstChild}a&&a.nodeType==1&&a.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:d}}function $m(t,e,n,r,i){let o=i.parent.type.spec.code,l,s;if(!n&&!e)return null;let u=e&&(r||o||!n);if(u){if(t.someProp("transformPastedText",d=>{e=d(e,o||r,t)}),o)return e?new O(C.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):O.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)s=f;else{let d=i.marks(),{schema:p}=t.state,h=Mt.fromSchema(p);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let S=l.appendChild(document.createElement("p"));m&&S.appendChild(h.serializeNode(p.text(m,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),l=Gk(n),Wl&&Xk(l);let a=l&&l.querySelector("[data-pm-slice]"),c=a&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(a.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=l.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;l=d}if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||wi.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(u||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!qk.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)s=Zk(ad(s,+c[1],+c[2]),c[4]);else if(s=O.maxOpen(Yk(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let p=s.content.firstChild;f<s.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=s.content.lastChild;d<s.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);s=ad(s,f,d)}return t.someProp("transformPasted",f=>{s=f(s,t)}),s}const qk=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Yk(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,l=[];if(t.forEach(s=>{if(!l)return;let u=i.findWrapping(s.type),a;if(!u)return l=null;if(a=l.length&&o.length&&Um(u,o,s,l[l.length-1],0))l[l.length-1]=a;else{l.length&&(l[l.length-1]=jm(l[l.length-1],o.length));let c=Wm(s,u);l.push(c),i=i.matchType(c.type),o=u}}),l)return C.from(l)}return t}function Wm(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,C.from(t));return t}function Um(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=Um(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(C.from(Wm(n,t,i+1))))}}function jm(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,jm(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(C.empty,!0);return t.copy(n.append(r))}function ju(t,e,n,r,i,o){let l=e<0?t.firstChild:t.lastChild,s=l.content;return t.childCount>1&&(o=0),i<r-1&&(s=ju(s,e,n,r,i+1,o)),i>=n&&(s=e<0?l.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(l.contentMatchAt(l.childCount).fillBefore(C.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(s))}function ad(t,e,n){return e<t.openStart&&(t=new O(ju(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new O(ju(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Jm={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let cd=null;function Hm(){return cd||(cd=document.implementation.createHTMLDocument("title"))}function Gk(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Hm().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Jm[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Xk(t){let e=t.querySelectorAll(ye?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Zk(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:l}=t;for(let s=r.length-2;s>=0;s-=2){let u=n.nodes[r[s]];if(!u||u.hasRequiredAttrs())break;i=C.from(u.create(r[s+1],i)),o++,l++}return new O(i,o,l)}const Ee={},Ne={},eS={touchstart:!0,touchmove:!0};class tS{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function nS(t){for(let e in Ee){let n=Ee[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{iS(t,r)&&!rc(t,r)&&(t.editable||!(r.type in Ne))&&n(t,r)},eS[e]?{passive:!0}:void 0)}Ce&&t.dom.addEventListener("input",()=>null),Ju(t)}function Qt(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function rS(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Ju(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>rc(t,r))})}function rc(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function iS(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function oS(t,e){!rc(t,e)&&Ee[e.type]&&(t.editable||!(e.type in Ne))&&Ee[e.type](t,e)}Ne.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Qm(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ot&&ye&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Tr&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,wn(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Qk(t,n)?n.preventDefault():Qt(t,"key")};Ne.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ne.keypress=(t,e)=>{let n=e;if(Qm(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Je&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof j)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Ul(t){return{left:t.clientX,top:t.clientY}}function lS(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function ic(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(t.someProp(e,s=>l>o.depth?s(t,n,o.nodeAfter,o.before(l),i,!0):s(t,n,o.node(l),o.before(l),i,!1)))return!0;return!1}function yr(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function sS(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&A.isSelectable(r)?(yr(t,new A(n),"pointer"),!0):!1}function uS(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof A&&(r=n.node);let o=t.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let s=l>o.depth?o.nodeAfter:o.node(l);if(A.isSelectable(s)){r&&n.$from.depth>0&&l>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(l);break}}return i!=null?(yr(t,A.create(t.state.doc,i),"pointer"),!0):!1}function aS(t,e,n,r,i){return ic(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?uS(t,n):sS(t,n))}function cS(t,e,n,r){return ic(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function fS(t,e,n,r){return ic(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||dS(t,n,r)}function dS(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(yr(t,j.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(l.inlineContent)yr(t,j.create(r,s+1,s+1+l.content.size),"pointer");else if(A.isSelectable(l))yr(t,A.create(r,s),"pointer");else continue;return!0}}function oc(t){return Sl(t)}const Km=Je?"metaKey":"ctrlKey";Ee.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=oc(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&lS(n,t.input.lastClick)&&!n[Km]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let l=t.posAtCoords(Ul(n));l&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new hS(t,l,n,!!r)):(o=="doubleClick"?cS:fS)(t,l.pos,l.inside,n)?n.preventDefault():Qt(t,"pointer"))};class hS{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Km],this.allowDefault=r.shiftKey;let o,l;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),l=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,l=c.depth?c.before():0}const s=i?null:r.target,u=s?e.docView.nearestDesc(s,!0):null;this.target=u?u.dom:null;let{selection:a}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||a instanceof A&&a.from<=l&&a.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&at&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Qt(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>kt(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Ul(e))),this.updateAllowDefault(e),this.allowDefault||!n?Qt(this.view,"pointer"):aS(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ce&&this.mightDrag&&!this.mightDrag.node.isAtom||ye&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(yr(this.view,b.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Qt(this.view,"pointer")}move(e){this.updateAllowDefault(e),Qt(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ee.touchstart=t=>{t.input.lastTouch=Date.now(),oc(t),Qt(t,"pointer")};Ee.touchmove=t=>{t.input.lastTouch=Date.now(),Qt(t,"pointer")};Ee.contextmenu=t=>oc(t);function Qm(t,e){return t.composing?!0:Ce&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const pS=ot?5e3:-1;Ne.compositionstart=Ne.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Sl(t,!0),t.markCursor=null;else if(Sl(t),at&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let l=o<0?i.lastChild:i.childNodes[o-1];if(!l)break;if(l.nodeType==3){t.domSelection().collapse(l,l.nodeValue.length);break}else i=l,o=-1}}t.input.composing=!0}qm(t,pS)};Ne.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,qm(t,20))};function qm(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Sl(t),e))}function Ym(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=mS());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function mS(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Sl(t,e=!1){if(!(ot&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Ym(t),e||t.docView&&t.docView.dirty){let n=tc(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function gS(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Dr=Ie&&rn<15||Tr&&hk<604;Ee.copy=Ne.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Dr?null:n.clipboardData,l=r.content(),{dom:s,text:u}=bm(t,l);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",u)):gS(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function yS(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function kS(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ui(t,r.value,null,i,e):Ui(t,r.textContent,r.innerHTML,i,e)},50)}function Ui(t,e,n,r,i){let o=$m(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,o||O.empty)))return!0;if(!o)return!1;let l=yS(o),s=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Ne.paste=(t,e)=>{let n=e;if(t.composing&&!ot)return;let r=Dr?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ui(t,r.getData("text/plain"),r.getData("text/html"),i,n)?n.preventDefault():kS(t,n)};class SS{constructor(e,n){this.slice=e,this.move=n}}const Gm=Je?"altKey":"ctrlKey";Ee.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Ul(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof A?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(A.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let a=t.docView.nearestDesc(n.target,!0);a&&a.node.type.spec.draggable&&a!=t.docView&&t.dispatch(t.state.tr.setSelection(A.create(t.state.doc,a.posBefore)))}}let l=t.state.selection.content(),{dom:s,text:u}=bm(t,l);n.dataTransfer.clearData(),n.dataTransfer.setData(Dr?"Text":"text/html",s.innerHTML),n.dataTransfer.effectAllowed="copyMove",Dr||n.dataTransfer.setData("text/plain",u),t.dragging=new SS(l,!n[Gm])};Ee.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ne.dragover=Ne.dragenter=(t,e)=>e.preventDefault();Ne.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Ul(n));if(!i)return;let o=t.state.doc.resolve(i.pos),l=r&&r.slice;l?t.someProp("transformPasted",h=>{l=h(l,t)}):l=$m(t,n.dataTransfer.getData(Dr?"Text":"text/plain"),Dr?null:n.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&!n[Gm]);if(t.someProp("handleDrop",h=>h(t,n,l||O.empty,s))){n.preventDefault();return}if(!l)return;n.preventDefault();let u=l?Vk(t.state.doc,o.pos,l):o.pos;u==null&&(u=o.pos);let a=t.state.tr;s&&a.deleteSelection();let c=a.mapping.map(u),f=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,d=a.doc;if(f?a.replaceRangeWith(c,c,l.content.firstChild):a.replaceRange(c,c,l),a.doc.eq(d))return;let p=a.doc.resolve(c);if(f&&A.isSelectable(l.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(l.content.firstChild))a.setSelection(new A(p));else{let h=a.mapping.map(u);a.mapping.maps[a.mapping.maps.length-1].forEach((m,S,y,g)=>h=g),a.setSelection(nc(t,p,a.doc.resolve(h)))}t.focus(),t.dispatch(a.setMeta("uiEvent","drop"))};Ee.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&kt(t)},20))};Ee.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ee.beforeinput=(t,e)=>{if(ye&&ot&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,wn(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ne)Ee[t]=Ne[t];function ji(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class lc{constructor(e,n){this.toDOM=e,this.spec=n||Fn,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new ke(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof lc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ji(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class on{constructor(e,n){this.attrs=e,this.spec=n||Fn}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new ke(o,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof on&&ji(this.attrs,e.attrs)&&ji(this.spec,e.spec)}static is(e){return e.type instanceof on}destroy(){}}class sc{constructor(e,n){this.attrs=e,this.spec=n||Fn}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=o.pos?null:new ke(o.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof sc&&ji(this.attrs,e.attrs)&&ji(this.spec,e.spec)}destroy(){}}class ke{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ke(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ke(e,e,new lc(n,r))}static inline(e,n,r,i){return new ke(e,n,new on(r,i))}static node(e,n,r,i){return new ke(e,n,new sc(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof on}}const Gn=[],Fn={},Et=class{constructor(t,e){this.local=t.length?t:Gn,this.children=e.length?e:Gn}static create(t,e){return e.length?vl(e,t,0,Fn):me}find(t,e,n){let r=[];return this.findInner(t??0,e??1e9,r,0,n),r}findInner(t,e,n,r,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=e&&l.to>=t&&(!i||i(l.spec))&&n.push(l.copy(l.from+r,l.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let l=this.children[o]+1;this.children[o+2].findInner(t-l,e-l,n,r+l,i)}}map(t,e,n){return this==me||t.maps.length==0?this:this.mapInner(t,e,0,0,n||Fn)}mapInner(t,e,n,r,i){let o;for(let l=0;l<this.local.length;l++){let s=this.local[l].map(t,n,r);s&&s.type.valid(e,s)?(o||(o=[])).push(s):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?vS(this.children,o||[],t,e,n,r,i):o?new Et(o.sort(Ln),Gn):me}add(t,e){return e.length?this==me?Et.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,i=0;t.forEach((l,s)=>{let u=s+n,a;if(a=Zm(e,l,u)){for(r||(r=this.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(l,a,u+1):r.splice(i,0,s,s+l.nodeSize,vl(a,l,u+1,Fn)),i+=3}});let o=Xm(i?eg(e):e,-n);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||o.splice(l--,1);return new Et(o.length?this.local.concat(o).sort(Ln):this.local,r||this.children)}remove(t){return t.length==0||this==me?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let i=0;i<n.length;i+=3){let o,l=n[i]+e,s=n[i+1]+e;for(let a=0,c;a<t.length;a++)(c=t[a])&&c.from>l&&c.to<s&&(t[a]=null,(o||(o=[])).push(c));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[i+2].removeInner(o,l+1);u!=me?n[i+2]=u:(n.splice(i,3),i-=3)}if(r.length){for(let i=0,o;i<t.length;i++)if(o=t[i])for(let l=0;l<r.length;l++)r[l].eq(o,e)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new Et(r,n):me}forChild(t,e){if(this==me)return this;if(e.isLeaf)return Et.empty;let n,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(n=this.children[l+2]);break}let i=t+1,o=i+e.content.size;for(let l=0;l<this.local.length;l++){let s=this.local[l];if(s.from<o&&s.to>i&&s.type instanceof on){let u=Math.max(i,s.from)-i,a=Math.min(o,s.to)-i;u<a&&(r||(r=[])).push(s.copy(u,a))}}if(r){let l=new Et(r.sort(Ln),Gn);return n?new Jt([l,n]):l}return n||me}eq(t){if(this==t)return!0;if(!(t instanceof Et)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return uc(this.localsInner(t))}localsInner(t){if(this==me)return Gn;if(t.inlineContent||!this.local.some(on.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof on||e.push(this.local[n]);return e}};let Fe=Et;Fe.empty=new Et([],[]);Fe.removeOverlap=uc;const me=Fe.empty;class Jt{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Fn));return Jt.from(r)}forChild(e,n){if(n.isLeaf)return Fe.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=me&&(o instanceof Jt?r=r.concat(o.members):r.push(o))}return Jt.from(r)}eq(e){if(!(e instanceof Jt)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let l=0;l<o.length;l++)n.push(o[l])}}return n?uc(r?n:n.sort(Ln)):Gn}static from(e){switch(e.length){case 0:return me;case 1:return e[0];default:return new Jt(e.every(n=>n instanceof Fe)?e:e.reduce((n,r)=>n.concat(r instanceof Fe?r:r.members),[]))}}}function vS(t,e,n,r,i,o,l){let s=t.slice();for(let a=0,c=o;a<n.maps.length;a++){let f=0;n.maps[a].forEach((d,p,h,m)=>{let S=m-h-(p-d);for(let y=0;y<s.length;y+=3){let g=s[y+1];if(g<0||d>g+c-f)continue;let k=s[y]+c-f;p>=k?s[y+1]=d<=k?-2:-1:h>=i&&S&&(s[y]+=S,s[y+1]+=S)}f+=S}),c=n.maps[a].map(c,-1)}let u=!1;for(let a=0;a<s.length;a+=3)if(s[a+1]<0){if(s[a+1]==-2){u=!0,s[a+1]=-1;continue}let c=n.map(t[a]+o),f=c-i;if(f<0||f>=r.content.size){u=!0;continue}let d=n.map(t[a+1]+o,-1),p=d-i,{index:h,offset:m}=r.content.findIndex(f),S=r.maybeChild(h);if(S&&m==f&&m+S.nodeSize==p){let y=s[a+2].mapInner(n,S,c+1,t[a]+o+1,l);y!=me?(s[a]=f,s[a+1]=p,s[a+2]=y):(s[a+1]=-2,u=!0)}else u=!0}if(u){let a=wS(s,t,e,n,i,o,l),c=vl(a,r,0,l);e=c.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let p=c.children[f];for(;d<s.length&&s[d]<p;)d+=3;s.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new Fe(e.sort(Ln),s)}function Xm(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new ke(i.from+e,i.to+e,i.type))}return n}function wS(t,e,n,r,i,o,l){function s(u,a){for(let c=0;c<u.local.length;c++){let f=u.local[c].map(r,i,a);f?n.push(f):l.onRemove&&l.onRemove(u.local[c].spec)}for(let c=0;c<u.children.length;c+=3)s(u.children[c+2],u.children[c]+a+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&s(t[u+2],e[u]+o+1);return n}function Zm(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,l;o<t.length;o++)(l=t[o])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[o]=null);return i}function eg(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function vl(t,e,n,r){let i=[],o=!1;e.forEach((s,u)=>{let a=Zm(t,s,u+n);if(a){o=!0;let c=vl(a,s,n+u+1,r);c!=me&&i.push(u,u+s.nodeSize,c)}});let l=Xm(o?eg(t):t,-n).sort(Ln);for(let s=0;s<l.length;s++)l[s].type.valid(e,l[s])||(r.onRemove&&r.onRemove(l[s].spec),l.splice(s--,1));return l.length||i.length?new Fe(l,i):me}function Ln(t,e){return t.from-e.from||t.to-e.to}function uc(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),fd(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),fd(e,i,r.copy(o.from,r.to)));break}}}return e}function fd(t,e,n){for(;e<t.length&&Ln(n,t[e])>0;)e++;t.splice(e,0,n)}function ei(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=me&&e.push(r)}),t.cursorWrapper&&e.push(Fe.create(t.state.doc,[t.cursorWrapper.deco])),Jt.from(e)}const xS={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},CS=Ie&&rn<=11;class ES{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class NS{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ES,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ie&&rn<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),CS&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xS)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection(),console.log("observer started")}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection(),console.log("observer stopped")}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(rd(this.view)){if(this.suppressingSelectionUpdates)return kt(this.view);if(Ie&&rn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Un(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=_i(o))n.add(o);for(let o=e.anchorNode;o;o=_i(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();console.log(n),n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&rd(e)&&!this.ignoreSelectionChange(r),o=-1,l=-1,s=!1,u=[];if(e.editable)for(let c=0;c<n.length;c++){let f=this.registerMutation(n[c],u);f&&(o=o<0?f.from:Math.min(f.from,o),l=l<0?f.to:Math.max(f.to,l),f.typeOver&&(s=!0))}if(at&&u.length>1){let c=u.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let a=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&$l(r)&&(a=tc(e))&&a.eq(b.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,kt(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,l),OS(e)),this.handleDOMChange(o,l,s,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||kt(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Ie&&rn<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let l=i&&i.parentNode==e.target?we(i)+1:0,s=r.localPosFromDOM(e.target,l,-1),u=o&&o.parentNode==e.target?we(o):e.target.childNodes.length,a=r.localPosFromDOM(e.target,u,1);return{from:s,to:a}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let dd=new WeakMap,hd=!1;function OS(t){if(!dd.has(t)&&(dd.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=at,hd)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),hd=!0}}function MS(t){let e;function n(u){u.preventDefault(),u.stopImmediatePropagation(),e=u.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,l=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Un(s.node,s.offset,o,l)&&([r,i,o,l]=[o,l,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:l}}function TS(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:l,to:s}=t.docView.parseRange(e,n),u=t.domSelectionRange(),a,c=u.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(a=[{node:c,offset:u.anchorOffset}],$l(u)||a.push({node:u.focusNode,offset:u.focusOffset})),ye&&t.input.lastKeyCode===8)for(let S=o;S>i;S--){let y=r.childNodes[S-1],g=y.pmViewDesc;if(y.nodeName=="BR"&&!g){o=S;break}if(!g||g.size)break}let f=t.state.doc,d=t.someProp("domParser")||wi.fromSchema(t.state.schema),p=f.resolve(l),h=null,m=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:a,ruleFromNode:DS,context:p});if(a&&a[0].pos!=null){let S=a[0].pos,y=a[1]&&a[1].pos;y==null&&(y=S),h={anchor:S+l,head:y+l}}return{doc:m,sel:h,from:l,to:s}}function DS(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ce&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ce&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const RS=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function PS(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let z=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,D=tc(t,z);if(D&&!t.state.selection.eq(D)){if(ye&&ot&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",et=>et(t,wn(13,"Enter"))))return;let W=t.state.tr.setSelection(D);z=="pointer"?W.setMeta("pointer",!0):z=="key"&&W.scrollIntoView(),o&&W.setMeta("composition",o),t.dispatch(W)}return}let l=t.state.doc.resolve(e),s=l.sharedDepth(n);e=l.before(s+1),n=t.state.doc.resolve(n).after(s+1);let u=t.state.selection,a=TS(t,e,n),c=t.state.doc,f=c.slice(a.from,a.to),d,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,p="end"):(d=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=IS(f.content,a.doc.content,a.from,d,p);if((Tr&&t.input.lastIOSEnter>Date.now()-225||ot)&&i.some(z=>z.nodeType==1&&!RS.test(z.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",z=>z(t,wn(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&u instanceof j&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(a.sel&&a.sel.anchor!=a.sel.head))h={start:u.from,endA:u.to,endB:u.to};else{if(a.sel){let z=pd(t,t.state.doc,a.sel);if(z&&!z.eq(t.state.selection)){let D=t.state.tr.setSelection(z);o&&D.setMeta("composition",o),t.dispatch(D)}}return}if(ye&&t.cursorWrapper&&a.sel&&a.sel.anchor==t.cursorWrapper.deco.from&&a.sel.head==a.sel.anchor){let z=h.endB-h.start;a.sel={anchor:a.sel.anchor+z,head:a.sel.anchor+z}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof j&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=a.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=a.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),Ie&&rn<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>a.from&&a.doc.textBetween(h.start-a.from-1,h.start-a.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let m=a.doc.resolveNoCache(h.start-a.from),S=a.doc.resolveNoCache(h.endB-a.from),y=c.resolve(h.start),g=m.sameParent(S)&&m.parent.inlineContent&&y.end()>=h.endA,k;if((Tr&&t.input.lastIOSEnter>Date.now()-225&&(!g||i.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!g&&m.pos<a.doc.content.size&&!m.sameParent(S)&&(k=b.findFrom(a.doc.resolve(m.pos+1),1,!0))&&k.head==S.pos)&&t.someProp("handleKeyDown",z=>z(t,wn(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&AS(c,h.start,h.endA,m,S)&&t.someProp("handleKeyDown",z=>z(t,wn(8,"Backspace")))){ot&&ye&&t.domObserver.suppressSelectionUpdates();return}ye&&ot&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),ot&&!g&&m.start()!=S.start()&&S.parentOffset==0&&m.depth==S.depth&&a.sel&&a.sel.anchor==a.sel.head&&a.sel.head==h.endA&&(h.endB-=2,S=a.doc.resolveNoCache(h.endB-a.from),setTimeout(()=>{t.someProp("handleKeyDown",function(z){return z(t,wn(13,"Enter"))})},20));let v=h.start,E=h.endA,N,T,P;if(g){if(m.pos==S.pos)Ie&&rn<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>kt(t),20)),N=t.state.tr.delete(v,E),T=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(P=zS(m.parent.content.cut(m.parentOffset,S.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start()))))N=t.state.tr,P.type=="add"?N.addMark(v,E,P.mark):N.removeMark(v,E,P.mark);else if(m.parent.child(m.index()).isText&&m.index()==S.index()-(S.textOffset?0:1)){let z=m.parent.textBetween(m.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",D=>D(t,v,E,z)))return;N=t.state.tr.insertText(z,v,E)}}if(N||(N=t.state.tr.replace(v,E,a.doc.slice(h.start-a.from,h.endB-a.from))),a.sel){let z=pd(t,N.doc,a.sel);z&&!(ye&&ot&&t.composing&&z.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(z.head==v||z.head==N.mapping.map(E)-1)||Ie&&z.empty&&z.head==v)&&N.setSelection(z)}T&&N.ensureMarks(T),o&&N.setMeta("composition",o),t.dispatch(N.scrollIntoView())}function pd(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:nc(t,e.resolve(n.anchor),e.resolve(n.head))}function zS(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,l,s,u;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],l="add",u=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],l="remove",u=c=>c.mark(s.removeFromSet(c.marks));else return null;let a=[];for(let c=0;c<e.childCount;c++)a.push(u(e.child(c)));if(C.from(a).eq(t))return{mark:s,type:l}}function AS(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Vs(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=t.resolve(Vs(o,!0,!0));return!l.parent.isTextblock||l.pos>n||Vs(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Vs(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function IS(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:l,b:s}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,o-Math.min(l,s));r-=l+u-o}if(l<o&&t.size<e.size){let u=r<=o&&r>=l?o-r:0;o-=u,s=o+(s-l),l=o}else if(s<o){let u=r<=o&&r>=s?o-r:0;o-=u,l=o+(l-s),s=o}return{start:o,endA:l,endB:s}}class FS{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new tS,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(kd),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=gd(this),this.nodeViews=yd(this),this.docView=n.docView??Fs(this.state.doc,$o(this),ei(this),this.dom,this),this.domObserver=new NS(this,(r,i,o,l)=>PS(this,r,i,o,l)),this.init()}initInput(){nS(this)}init(){md(this),this.docView=Fs(this.state.doc,$o(this),ei(this),this.dom,this),this.domObserver.start(),this.initInput(),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ju(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(kd),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(Ym(this),o=!0),this.state=e;let l=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let d=yd(this);BS(d,this.nodeViews)&&(this.nodeViews=d,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Ju(this),this.editable=gd(this),md(this);let s=ei(this),u=$o(this),a=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,u,s);(c||!e.selection.eq(r.selection))&&(o=!0);let f=a=="preserve"&&o&&this.dom.style.overflowAnchor==null&&vm(this);if(o){this.domObserver.stop();let d=c&&(Ie||ye)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&LS(r.selection,e.selection);if(c){let p=ye?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,u,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Fs(e.doc,u,s,this.dom,this)),p&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&$k(this))?kt(this,d):(Bm(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),a=="reset"?this.dom.scrollTop=0:a=="to selection"?this.scrollToSelection():f&&xm(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof A){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&jf(this,n.getBoundingClientRect(),e)}else jf(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let s=this.directPlugins[l].props[e];if(s!=null&&(i=n?n(s):s))return i}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let s=o[l].props[e];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(Ie){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&gk(this.dom),kt(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return wk(this,e)}coordsAtPos(e,n=1){return Om(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Ok(this,n||this.state,e)}pasteHTML(e,n){return Ui(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ui(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(rS(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ei(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return oS(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Ce&&this.root.nodeType===11&&ak(this.dom.ownerDocument)==this.dom?MS(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function $o(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ke.node(0,t.state.doc.content.size,e)]}function md(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ke.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function gd(t){return!t.someProp("editable",e=>e(t.state)===!1)}function LS(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function yd(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function BS(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function kd(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class VS extends FS{init(){this.domObserver.start(),this.initInput()}updateStateInner(e,n){this.editable=!this.someProp("editable",s=>s(this.state)===!1);const r=this.state;this.state=e;const i=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",o=!e.selection.eq(r.selection),l=i=="preserve"&&o&&this.dom.style.overflowAnchor==null&&vm(this);i=="reset"?this.dom.scrollTop=0:i=="to selection"?this.scrollToSelection():l&&xm(l)}}function _S(t){return function(...e){Gi.unstable_batchedUpdates(()=>{t.call(this,...e)})}}function bS(t){this.updateState(this.state.apply(t))}function $S(t,e){return{...t,dispatchTransaction:function(r){_S(t.dispatchTransaction??bS).call(this,r),e()}}}function WS(t,e){const[n,r]=x.useState(null),i=ym(),o=$S(e,i),l="defaultState"in o?o.defaultState:o.state;return x.useLayoutEffect(()=>{function s(){i()}if(n&&n.dom!==t&&r(null),!!t&&!n){const u=new VS({mount:t},{...o,state:l});r(u),u.dom.addEventListener("compositionend",s);return}},[o,i,t,l,n]),n==null||n.setProps({...o,..."state"in o&&{state:o.state}}),n}function US(t){x.useEffect(()=>{if(!t)return;const{domObserver:e}=t;return e.connectSelection(),()=>e.disconnectSelection()},[t]),x.useEffect(()=>{t!=null&&t.state&&(t!=null&&t.composing||kt(t))})}function jS(t){const e=x.useRef(null),n=e.current;return e.current=t,n}function JS(t,e,n){const r=jS(e),i=x.useRef([]);x.useLayoutEffect(()=>{if(!(!t||!r))for(const o of i.current)o.update&&o.update(t,r)},[r,t]),x.useLayoutEffect(()=>{var o,l;if(t){i.current=[];for(const s of[...n,...t.state.plugins]){const u=(l=(o=s.spec).view)==null?void 0:l.call(o,t);u&&i.current.push(u)}}},[n,t]),x.useLayoutEffect(()=>()=>{for(const o of i.current)o.destroy&&o.destroy()},[])}const Lt=x.createContext([]);function tg(t,e,n,r,i,o,l){const{editorView:s}=x.useContext(Ar),u=x.useRef(o),a=x.useContext(Lt),c=[];return x.useLayoutEffect(()=>{var d;if(!t||!n.current)return;const f=c[0];u.current?(u.current.parent=void 0,u.current.children=c,u.current.node=t,u.current.outerDeco=i,u.current.innerDeco=r,u.current.dom=(e==null?void 0:e.current)??n.current,u.current.dom.pmViewDesc=u.current,u.current.contentDOM=(l==null?void 0:l.current)??u.current.contentDOM??(f==null?void 0:f.dom.parentElement)??null,u.current.nodeDOM=n.current):u.current=new yt(void 0,c,t,i,r,(e==null?void 0:e.current)??n.current,(f==null?void 0:f.dom.parentElement)??null,n.current),a.push(u.current);for(const p of c)if(p.parent=u.current,p instanceof bi){const h=(d=u.current.contentDOM)==null?void 0:d.firstChild;if(!h)throw new Error("Started a composition but couldn't find the text node it belongs to.");let m=h;for(;m.firstChild;)m=m.firstChild;if(!m||!(m instanceof Text))throw new Error("Started a composition but couldn't find the text node it belongs to.");p.dom=h,p.textDOM=m,p.text=m.data,p.textDOM.pmViewDesc=p,s==null||s.input.compositionNodes.push(p)}return()=>{var p,h,m,S;((p=u.current)==null?void 0:p.children[0])instanceof bi&&!(s!=null&&s.composing)&&((S=(h=u.current)==null?void 0:h.children[0].dom.parentNode)==null||S.removeChild((m=u.current)==null?void 0:m.children[0].dom))}}),c}var ng={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e=function(){function n(){}n.prototype=Object.create(null);function r(f,d){for(var p=d.length,h=0;h<p;++h)a(f,d[h])}var i={}.hasOwnProperty;function o(f,d){f[d]=!0}function l(f,d){if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]")){f[d.toString()]=!0;return}for(var p in d)i.call(d,p)&&(f[p]=!!d[p])}var s=/\s+/;function u(f,d){for(var p=d.split(s),h=p.length,m=0;m<h;++m)f[p[m]]=!0}function a(f,d){if(d){var p=typeof d;p==="string"?u(f,d):Array.isArray(d)?r(f,d):p==="object"?l(f,d):p==="number"&&o(f,d)}}function c(){for(var f=arguments.length,d=Array(f),p=0;p<f;p++)d[p]=arguments[p];var h=new n;r(h,d);var m=[];for(var S in h)h[S]&&m.push(S);return m.join(" ")}return c}();t.exports?(e.default=e,t.exports=e):window.classNames=e})()})(ng);var HS=ng.exports;const KS=ag(HS);function QS(t,e){return t.type.side-e.type.side}function qS(t,e,n,r){const i=e.locals(t);let o=0;if(i.length==0){for(let a=0;a<t.childCount;a++){const c=t.child(a);r(c,i,e.forChild(o,c),o,a),o+=c.nodeSize}return}let l=0;const s=[];let u=null;for(let a=0;;){if(l<i.length&&i[l].to==o){const h=i[l++];let m;for(;l<i.length&&i[l].to==o;)(m||(m=[h])).push(i[l++]);if(m){m.sort(QS);for(let S=0;S<m.length;S++)n(m[S],o,a+S,!!u)}else n(h,o,a,!!u)}let c,f;if(u)f=-1,c=u,u=null;else if(a<t.childCount)f=a,c=t.child(a++);else break;for(let h=0;h<s.length;h++)s[h].to<=o&&s.splice(h--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)s.push(i[l++]);let d=o+c.nodeSize;if(c.isText){let h=d;l<i.length&&i[l].from<h&&(h=i[l].from);for(let m=0;m<s.length;m++)s[m].to<h&&(h=s[m].to);h<d&&(u=c.cut(h-o),c=c.cut(0,h-o),d=h,f=-1)}const p=c.isInline&&!c.isLeaf?s.filter(h=>!h.inline):s.slice();r(c,p,e.forChild(o,c),o,f),o=d}}function jl(){const{editorState:t}=x.useContext(Ar);return t}function Co(t){const e=Math.floor(Math.random()*16777215).toString(16);return t.isTextblock&&t.textContent===""?`${e}-empty`:e}const rg=new lh("@nytimes/react-prosemirror/reactKeys");function YS(){let t=!1;return new Nl({key:rg,state:{init(e,n){const r={posToKey:new Map,keyToPos:new Map};return n.doc.descendants((i,o)=>{const l=Co(i);return r.posToKey.set(o,l),r.keyToPos.set(l,o),!0}),r},apply(e,n,r,i){if(!e.docChanged||t)return n;const o={posToKey:new Map,keyToPos:new Map},l=new Set;return i.doc.descendants((s,u)=>{const a=e.mapping.invert().map(u),c=n.posToKey.get(a)??Co(s);let f=l.has(c)?Co(s):c;return(f.endsWith("-empty")&&s.isTextblock&&s.textContent!==""||!f.endsWith("-empty")&&s.isTextblock&&s.textContent==="")&&(f=Co(s)),o.posToKey.set(u,f),o.keyToPos.set(f,u),l.add(f),!0}),o}},props:{handleDOMEvents:{compositionstart:()=>{t=!0},compositionend:()=>{t=!1}}}})}function ig(){const t=jl();return t&&rg.getState(t)}const ac=x.forwardRef(function({outputSpec:e,children:n,...r},i){if(typeof e=="string")return F(xl,{children:e});if(!Array.isArray(e))throw new Error("@nytimes/react-prosemirror only supports strings and arrays in toDOM");const l=e[0].replace(" ",":"),s=e[1],u={...r,ref:i};let a=1;if(s&&typeof s=="object"&&s.nodeType==null&&!Array.isArray(s)){a=2;for(const f in s)if(s[f]!=null){const d=f==="class"?"className":f.replace(" ",":");u[d]=s[f]}}const c=[];for(let f=a;f<e.length;f++){const d=e[f];if(d===0){if(f<e.length-1||f>a)throw new RangeError("Content hole must be the only child of its parent node");return x.createElement(l,u,n)}c.push(F(ac,{ref:void 0,outputSpec:d,children:n}))}return x.createElement(l,u,...c)}),og=x.forwardRef(function({mark:e,children:n},r){var u,a;const i=x.useContext(Lt),o=[],l=x.useRef(null);x.useImperativeHandle(r,()=>l.current,[]);const s=(a=(u=e.type.spec).toDOM)==null?void 0:a.call(u,e,!0);if(!s)throw new Error(`Mark spec for ${e.type.name} is missing toDOM`);return x.useLayoutEffect(()=>{if(!l.current)return;const c=o[0],f=new an(void 0,o,e,l.current,(c==null?void 0:c.dom.parentElement)??l.current);i.push(f);for(const d of o)d.parent=f}),F(ac,{ref:l,outputSpec:s,children:F(Lt.Provider,{value:o,children:n})})});function lg({outerDeco:t,pos:e,node:n,innerDeco:r,...i}){var T,P,z;const o=x.useRef(null),l=x.useRef(null),s=x.useRef(null),u=x.useRef(n),a=x.useRef(t),c=x.useRef(r),f=x.useRef(e);f.current=e;const d=x.useRef(null),p=x.useRef(null),h=jl(),{nodeViews:m}=x.useContext(km),{editorView:S}=x.useContext(Ar);let y=null;const g=m[n.type.name],k=(T=S==null?void 0:S.someProp("nodeViews"))==null?void 0:T[n.type.name];x.useLayoutEffect(()=>{if(!p.current||!d.current)return;const{dom:D}=p.current;return l.current=d.current,d.current.appendChild(D),()=>{var W,et;(et=(W=p.current)==null?void 0:W.destroy)==null||et.call(W)}},[]),x.useLayoutEffect(()=>{if(!k||!p.current)return;const{destroy:D,update:W}=p.current;if(((W==null?void 0:W(n,t,r))??!0)||(D==null||D(),!k||!d.current))return;u.current=n,a.current=t,c.current=r,p.current=k(u.current,S,()=>f.current,a.current,c.current);const{dom:mn}=p.current;l.current=d.current,d.current.appendChild(mn)},[k,S,r,n,t]);const v=tg(n,o,l,r,t,void 0,s);if(g)y=F(g,{...i,ref:l,nodeProps:{node:n,pos:e,decorations:t,innerDecorations:r,isSelected:(h==null?void 0:h.selection)instanceof A&&h.selection.node===n},children:F(ki,{pos:e,node:n,innerDecorations:r})});else if(k){p.current||(p.current=k(u.current,S,()=>f.current,a.current,c.current));const{contentDOM:D}=p.current;s.current=D??null,y=F("div",{ref:d,style:{display:"contents"},contentEditable:!!D,suppressContentEditableWarning:!0,children:D&&Gi.createPortal(F(ki,{pos:e,node:n,innerDecorations:r}),D)})}else{const D=(z=(P=n.type.spec).toDOM)==null?void 0:z.call(P,n);D&&(y=F(ac,{...i,ref:l,outputSpec:D,children:F(ki,{pos:e,node:n,innerDecorations:r})}))}if(!y)throw new Error(`Node spec for ${n.type.name} is missing toDOM`);const E=x.cloneElement(t.reduce(cc,y),t.some(D=>D.type.attrs.nodeName)?{ref:o}:void 0),N=n.marks.reduce((D,W)=>F(og,{mark:W,children:D}),E);return F(Lt.Provider,{value:v,children:x.cloneElement(N,n.marks.length||t.some(D=>D.type.attrs.nodeName)?{ref:o}:void 0)})}class GS extends x.Component{constructor(){super(...arguments),this.viewDescRef=null,this.renderRef=null}updateEffect(){const{view:e,decorations:n,siblingDescriptors:r,node:i}=this.props,o=Gi.findDOMNode(this);if(!o){if(!(e!=null&&e.composing))return;this.viewDescRef=new bi(void 0,document.createElement("div"),document.createTextNode(i.text??""),i.text??""),r.push(this.viewDescRef);return}let l=o;for(;l.firstChild;)l=l.firstChild;!this.viewDescRef||this.viewDescRef instanceof bi?this.viewDescRef=new Zi(void 0,[],i,n,Fe.empty,o,l):(this.viewDescRef.parent=void 0,this.viewDescRef.children=[],this.viewDescRef.node=i,this.viewDescRef.outerDeco=n,this.viewDescRef.innerDeco=Fe.empty,this.viewDescRef.dom=o,this.viewDescRef.nodeDOM=l),r.push(this.viewDescRef)}componentDidMount(){this.updateEffect()}componentDidUpdate(){this.updateEffect()}render(){const{view:e,pos:n,node:r,decorations:i}=this.props;return e!=null&&e.composing&&e.state.selection.from>=n&&e.state.selection.from<=n+r.nodeSize?this.renderRef:(this.renderRef=i.reduce(cc,r.text),this.renderRef)}}function XS(){const t=x.useContext(Lt),e=x.useRef(null);return x.useLayoutEffect(()=>{if(!e.current)return;const n=new Za(void 0,[],e.current,null);t.push(n)}),F("br",{ref:e,className:"ProseMirror-trailingBreak"})}function ZS({widget:t,pos:e}){const n=x.useContext(Lt),r=x.useRef(null);x.useLayoutEffect(()=>{if(!r.current)return;const o=new Xa(void 0,t,r.current);n.push(o)});const{Component:i}=t.type;return i&&F(i,{ref:r,widget:t,pos:e,contentEditable:!1})}function Sd(t){const e=`{"${t.replace(/;? *$/,"").replace(/;+ */g,'","').replace(/: */g,'":"')}"}`,n=JSON.parse(e);return Object.keys(n).reduce((r,i)=>{const o=i.startsWith("--")?i:i.replace(/-[a-z]/g,l=>{var s;return((s=l[1])==null?void 0:s.toUpperCase())??""});return{...r,[o]:n[i]}},{})}function cc(t,e){const{nodeName:n,class:r,style:i,contenteditable:o,spellcheck:l,...s}=e.type.attrs;return n||typeof t=="string"?x.createElement(n??"span",{className:r,contentEditable:o,spellCheck:l,style:i&&Sd(i),...s},t):x.cloneElement(t,{className:KS(t.props.className,r),contentEditable:o,spellCheck:l,style:{...t.props.style,...i&&Sd(i)},...s})}function sg({innerPos:t,childViews:e}){const{editorView:n}=x.useContext(Ar),r=jl(),i=ig(),o=e.reduce((l,s)=>{var c;const u=l[l.length-1];if(!u)return[[s]];const a=u[u.length-1];return a?!s.marks.length&&!a.marks.length||s.marks.length&&a.marks.length&&((c=s.marks[0])!=null&&c.eq(a.marks[0]))?[...l.slice(0,l.length-1),[...u.slice(0,u.length),s]]:[...l,[s]]:[...l.slice(0,l.length),[s]]},[]);return F(xl,{children:o.map(l=>{const s=l[0];if(!s)return null;const u=s.marks[0];return u?F(og,{mark:u,children:F(sg,{innerPos:t,childViews:l.map(a=>({...a,marks:a.marks.slice(1)}))},yi(r==null?void 0:r.doc,t,s,i==null?void 0:i.posToKey))},yi(r==null?void 0:r.doc,t,s,i==null?void 0:i.posToKey)):l.map(a=>{const c=t+a.offset,f=a.type==="widget"?F(ZS,{widget:a.widget,pos:c}):a.node.isText?F(Lt.Consumer,{children:d=>F(GS,{view:n,node:a.node,pos:c,siblingDescriptors:d,decorations:a.outerDeco})}):F(lg,{node:a.node,pos:c,outerDeco:a.outerDeco,innerDeco:a.innerDeco});return x.cloneElement(f,{key:yi(r==null?void 0:r.doc,t,a,i==null?void 0:i.posToKey)})})})})}function yi(t,e,n,r){const i=e+n.offset,o=r==null?void 0:r.get(i);if(n.type==="widget")return n.widget.type.spec.key?n.widget.type.spec.key:(console.warn(`Widget at position ${i} doesn't have a key specified. This has negative performance implications.`),`${o}-${n.index}`);if(o)return o;if(!t)return i;const l=t.resolve(i).start()-1,s=r==null?void 0:r.get(l);return s?`${s}-${n.offset}`:i}function ev(t){const e=t[t.length-1];if((e==null?void 0:e.type)!=="node")return;const n=e.marks;for(let r=t.length-2;r>=0;r--){const i=t[r];if((i==null?void 0:i.type)!=="widget"||i.widget.type.side<0)break;i.marks=i.marks.reduce((o,l)=>l.addToSet(o),n)}}function ki({pos:t,node:e,innerDecorations:n}){const r=jl(),i=ig();if(!e)return null;const o=[],l=t+1,s=[];return qS(e,n,(u,a,c)=>{var d;const f=u.type.spec.marks??[];s.push({type:"widget",widget:u,marks:u.type.side>=0?f:f.reduce((p,h)=>h.addToSet(p),((d=s[0])==null?void 0:d.marks)??[]),offset:a,index:c})},(u,a,c,f)=>{if(!u.isInline){const d=l+f,p=(i==null?void 0:i.posToKey.get(d))??d;o.push(F(lg,{outerDeco:a,node:u,innerDeco:c,pos:d},p));return}s.push({type:"node",node:u,marks:u.marks,innerDeco:c,outerDeco:a,offset:f}),ev(s)}),s.length&&o.push(F(sg,{childViews:s,innerPos:l},yi(r==null?void 0:r.doc,l,s[0],i==null?void 0:i.posToKey))),o.length||o.push(F(XS,{},yi(r==null?void 0:r.doc,l,{type:"trailinghack",offset:0},i==null?void 0:i.posToKey))),F(xl,{children:o})}const tv=x.forwardRef(function({className:e,node:n,innerDeco:r,outerDeco:i,as:o,viewDesc:l},s){const u=x.useRef(null);x.useImperativeHandle(s,()=>u.current,[]);const a=tg(n,u,u,r,i,l),c={ref:u,className:e,suppressContentEditableWarning:!0},f=o?x.cloneElement(o,c,F(Lt.Provider,{value:a,children:F(ki,{pos:-1,node:n,innerDecorations:r})})):x.createElement("div",c,F(Lt.Provider,{value:a,children:F(ki,{pos:-1,node:n,innerDecorations:r})}));if(!n)return f;const d=i.filter(h=>!h.inline);return d.length?d.reduce(cc,f):f});function nv({className:t,children:e,nodeViews:n={},customNodeViews:r={},as:i,...o}){const[l,s]=x.useState(null),{componentEventListenersPlugin:u,registerEventListener:a,unregisterEventListener:c}=lk(),f=x.useMemo(()=>[...o.plugins??[],u],[o.plugins,u]),d="defaultState"in o?o.defaultState:o.state,p=document.createElement("div"),h=x.useRef(new yt(void 0,[],d.doc,[],Fe.empty,p,null,p)),m=WS(l,{...o,docView:h.current,plugins:f,nodeViews:r}),S="state"in o?o.state??null:(m==null?void 0:m.state)??null,y=x.useMemo(()=>({editorView:m,editorState:S,registerEventListener:a,unregisterEventListener:c}),[S,m,a,c]);m==null||m.domObserver.stop(),x.useEffect(()=>{m==null||m.domObserver.start()});const g=x.useMemo(()=>o.plugins??[],[o.plugins]);US(m),JS(m,S,g);const k=m?ei(m):Fe.empty,v=m?$o(m):[];return F(ik,{children:F(Ar.Provider,{value:y,children:F(km.Provider,{value:{nodeViews:n},children:Rd(xl,{children:[F(tv,{className:t,ref:s,node:m==null?void 0:m.state.doc,innerDeco:k,outerDeco:v,as:i,viewDesc:h.current}),e]})})})})}function rv(t,e){if(t==e)return!0;for(const n in t)if(t[n]!==e[n])return!1;for(const n in e)if(!(n in t))return!1;return!0}const iv={side:0};class fc{constructor(e,n){this.Component=e,this.spec=n??iv,this.side=this.spec.side??0}map(e,n,r,i){const{pos:o,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new ke(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof fc&&(this.spec.key&&this.spec.key==e.spec.key||this.Component==e.Component&&rv(this.spec,e.spec))}destroy(){}}function ov(t,e,n){return new ke(t,t,new fc(e,n))}const se=new Hg({nodes:{doc:{content:"block+"},paragraph:{group:"block",content:"inline*",toDOM(){return["p",0]}},img:{group:"inline",inline:!0,attrs:{src:{default:""}},toDOM(t){return["img",{src:t.attrs.src}]}},list:{group:"block",content:"list_item+",toDOM(){return["ul",0]}},list_item:{content:"paragraph+",toDOM(){return["li",0]}},text:{group:"inline"}},marks:{em:{toDOM(){return["em",0]}},strong:{toDOM(){return["strong",0]}}}}),lv=Xn.create({schema:se,doc:se.nodes.doc.create({},[se.nodes.paragraph.create({},[se.text("This ",[se.marks.em.create()]),se.text("is",[se.marks.em.create(),se.marks.strong.create()]),se.nodes.img.create({src:"data:image/gif;base64,R0lGODlhBQAFAIABAAAAAP///yH5BAEKAAEALAAAAAAFAAUAAAIEjI+pWAA7"}),se.text(" the first paragraph")]),se.nodes.paragraph.create({},se.text("This is the second paragraph")),se.nodes.paragraph.create(),se.nodes.paragraph.create({},se.text("This is the third paragraph"))]),plugins:[YS()]});x.forwardRef(function({children:e,nodeProps:n,...r},i){return F("p",{ref:i,...r,children:e})});const sv=x.forwardRef(function({widget:e,pos:n,...r},i){return F("span",{...r,ref:i,style:{display:"inline-block",padding:"0.75rem 1rem",border:"solid thin black"},children:"Widget"})}),uv=new Nl({view(t){const e=t.coordsAtPos(t.state.selection.from),n=document.createElement("div");return n.style.width="4px",n.style.height="4px",n.style.position="absolute",n.style.top=`${e.top-2}px`,n.style.left=`${e.left-2}px`,n.style.backgroundColor="blue",document.body.appendChild(n),{update(r){const i=r.coordsAtPos(r.state.selection.from);n.style.top=`${i.top-2}px`,n.style.left=`${i.left-2}px`},destroy(){document.body.removeChild(n)}}}}),av=[Gy({...Uy,"Mod-i":Pc(se.marks.em),"Mod-b":Pc(se.marks.strong)}),uv],cv={paragraph:()=>{const t=document.createElement("p");return{dom:t,contentDOM:t}}};function fv(){const[t,e]=x.useState(lv);return Rd("main",{children:[F("h1",{children:"React ProseMirror Demo"}),F(nv,{as:F("article",{}),className:"ProseMirror",state:t,dispatchTransaction:function(n){e(r=>r.apply(n))},decorations:n=>{const r=[ke.inline(5,15,{class:"inline-deco"})];return n.doc.forEach((i,o,l)=>{l===1&&r.push(ke.node(o,o+i.nodeSize,{nodeName:"div",class:"node-deco"})),l===2&&r.push(ke.node(o,o+i.nodeSize,{class:"node-deco"})),l===3&&r.push(ov(o+i.nodeSize-20,sv,{side:0,key:"widget-deco"}))}),Fe.create(n.doc,r)},plugins:av,customNodeViews:cv})]})}const dv=gm(document.getElementById("root"));dv.render(F(fv,{}));
